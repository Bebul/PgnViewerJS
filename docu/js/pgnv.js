var PGNV=function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/lib/",t(t.s=37)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(3);n.colors=["white","black"],n.invRanks=[8,7,6,5,4,3,2,1],n.allKeys=Array.prototype.concat(...o.files.map(e=>o.ranks.map(n=>e+n))),n.pos2key=e=>n.allKeys[8*e[0]+e[1]-9],n.key2pos=e=>[e.charCodeAt(0)-96,e.charCodeAt(1)-48],n.memo=function(e){let n;const t=()=>(void 0===n&&(n=e()),n);return t.clear=()=>{n=void 0},t},n.timer=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;const n=performance.now()-e;return e=void 0,n}}},n.opposite=e=>"white"===e?"black":"white",n.containsX=function(e,n){return void 0!==e&&-1!==e.indexOf(n)},n.distanceSq=(e,n)=>Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2),n.samePiece=(e,n)=>e.role===n.role&&e.color===n.color;const r=(e,n,t,o)=>[(n?e[0]-1:8-e[0])*t,(n?8-e[1]:e[1]-1)*o];n.posToTranslateAbs=e=>{const n=e.width/8,t=e.height/8;return(e,o)=>r(e,o,n,t)},n.posToTranslateRel=(e,n)=>r(e,n,100,100),n.translateAbs=(e,n)=>{e.style.transform=`translate(${n[0]}px,${n[1]}px)`},n.translateRel=(e,n)=>{e.style.transform=`translate(${n[0]}%,${n[1]}%)`},n.setVisible=(e,n)=>{e.style.visibility=n?"visible":"hidden"},n.eventPosition=e=>e.clientX||0===e.clientX?[e.clientX,e.clientY]:e.touches&&e.targetTouches[0]?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0,n.isRightButton=e=>2===e.buttons||2===e.button,n.createEl=(e,n)=>{const t=document.createElement(e);return n&&(t.className=n),t}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(0),r=t(22);function i(e,...n){e&&setTimeout(()=>e(...n),1)}function a(e){e.premovable.current&&(e.premovable.current=void 0,i(e.premovable.events.unset))}function s(e){const n=e.predroppable;n.current&&(n.current=void 0,i(n.events.unset))}function c(e,n,t){const r=e.pieces[n],a=e.pieces[t];if(n===t||!r)return!1;const s=a&&a.color!==r.color?a:void 0;return t==e.selected&&p(e),i(e.events.move,n,t,s),function(e,n,t){if(!e.autoCastle)return!1;const r=e.pieces[n];if(!r||"king"!==r.role)return!1;const i=o.key2pos(n);if(5!==i[0])return!1;if(1!==i[1]&&8!==i[1])return!1;const a=o.key2pos(t);let s,c,l;if(7===a[0]||8===a[0])s=o.pos2key([8,i[1]]),c=o.pos2key([6,i[1]]),l=o.pos2key([7,i[1]]);else{if(3!==a[0]&&1!==a[0])return!1;s=o.pos2key([1,i[1]]),c=o.pos2key([4,i[1]]),l=o.pos2key([3,i[1]])}const u=e.pieces[s];return!(!u||"rook"!==u.role)&&(delete e.pieces[n],delete e.pieces[s],e.pieces[l]=r,e.pieces[c]=u,!0)}(e,n,t)||(e.pieces[t]=r,delete e.pieces[n]),e.lastMove=[n,t],e.check=void 0,i(e.events.change),s||!0}function l(e,n,t,r){if(e.pieces[t]){if(!r)return!1;delete e.pieces[t]}return i(e.events.dropNewPiece,n,t),e.pieces[t]=n,e.lastMove=[t],e.check=void 0,i(e.events.change),e.movable.dests=void 0,e.turnColor=o.opposite(e.turnColor),!0}function u(e,n,t){const r=c(e,n,t);return r&&(e.movable.dests=void 0,e.turnColor=o.opposite(e.turnColor),e.animation.current=void 0),r}function d(e,n,t){if(h(e,n,t)){const o=u(e,n,t);if(o){const r=e.hold.stop();p(e);const a={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:r};return!0!==o&&(a.captured=o),i(e.movable.events.after,n,t,a),!0}}else if(function(e,n,t){return n!==t&&m(e,n)&&o.containsX(r.default(e.pieces,n,e.premovable.castle),t)}(e,n,t))return function(e,n,t,o){s(e),e.premovable.current=[n,t],i(e.premovable.events.set,n,t,o)}(e,n,t,{ctrlKey:e.stats.ctrlKey}),p(e),!0;return p(e),!1}function f(e,n){e.selected=n,m(e,n)?e.premovable.dests=r.default(e.pieces,n,e.premovable.castle):e.premovable.dests=void 0}function p(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function g(e,n){const t=e.pieces[n];return!!t&&("both"===e.movable.color||e.movable.color===t.color&&e.turnColor===t.color)}function h(e,n,t){return n!==t&&g(e,n)&&(e.movable.free||!!e.movable.dests&&o.containsX(e.movable.dests[n],t))}function m(e,n){const t=e.pieces[n];return!!t&&e.premovable.enabled&&e.movable.color===t.color&&e.turnColor!==t.color}function v(e){a(e),s(e),p(e)}n.callUserFunction=i,n.toggleOrientation=function(e){e.orientation=o.opposite(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0},n.reset=function(e){e.lastMove=void 0,p(e),a(e),s(e)},n.setPieces=function(e,n){for(let t in n){const o=n[t];o?e.pieces[t]=o:delete e.pieces[t]}},n.setCheck=function(e,n){if(e.check=void 0,!0===n&&(n=e.turnColor),n)for(let t in e.pieces)"king"===e.pieces[t].role&&e.pieces[t].color===n&&(e.check=t)},n.unsetPremove=a,n.unsetPredrop=s,n.baseMove=c,n.baseNewPiece=l,n.userMove=d,n.dropNewPiece=function(e,n,t,o){if(function(e,n,t){const o=e.pieces[n];return!!o&&t&&(n===t||!e.pieces[t])&&("both"===e.movable.color||e.movable.color===o.color&&e.turnColor===o.color)}(e,n,t)||o){const r=e.pieces[n];delete e.pieces[n],l(e,r,t,o),i(e.movable.events.afterNewPiece,r.role,t,{predrop:!1})}else!function(e,n,t){const o=e.pieces[n],r=e.pieces[t];return!!o&&t&&(!r||r.color!==e.movable.color)&&e.predroppable.enabled&&("pawn"!==o.role||"1"!==t[1]&&"8"!==t[1])&&e.movable.color===o.color&&e.turnColor!==o.color}(e,n,t)?(a(e),s(e)):function(e,n,t){a(e),e.predroppable.current={role:n,key:t},i(e.predroppable.events.set,n,t)}(e,e.pieces[n].role,t);delete e.pieces[n],p(e)},n.selectSquare=function(e,n,t){if(i(e.events.select,n),e.selected){if(e.selected===n&&!e.draggable.enabled)return p(e),void e.hold.cancel();if((e.selectable.enabled||t)&&e.selected!==n&&d(e,e.selected,n))return void(e.stats.dragged=!1)}(g(e,n)||m(e,n))&&(f(e,n),e.hold.start())},n.setSelected=f,n.unselect=p,n.canMove=h,n.isDraggable=function(e,n){const t=e.pieces[n];return!!t&&e.draggable.enabled&&("both"===e.movable.color||e.movable.color===t.color&&(e.turnColor===t.color||e.premovable.enabled))},n.playPremove=function(e){const n=e.premovable.current;if(!n)return!1;const t=n[0],o=n[1];let r=!1;if(h(e,t,o)){const n=u(e,t,o);if(n){const a={premove:!0};!0!==n&&(a.captured=n),i(e.movable.events.after,t,o,a),r=!0}}return a(e),r},n.playPredrop=function(e,n){let t=e.predroppable.current,o=!1;if(!t)return!1;if(n(t)){l(e,{role:t.role,color:e.movable.color},t.key)&&(i(e.movable.events.afterNewPiece,t.role,t.key,{predrop:!0}),o=!0)}return s(e),o},n.cancelMove=v,n.stop=function(e){e.movable.color=e.movable.dests=e.animation.current=void 0,v(e)},n.getKeyAtDomPos=function(e,n,t){let r=Math.ceil((e[0]-t.left)/t.width*8);n||(r=9-r);let i=Math.ceil(8-(e[1]-t.top)/t.height*8);return n||(i=9-i),r>0&&r<9&&i>0&&i<9?o.pos2key([r,i]):void 0},n.whitePov=function(e){return"white"===e.orientation}},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.files=["a","b","c","d","e","f","g","h"],n.ranks=[1,2,3,4,5,6,7,8]},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(0),r=t(3);n.initial="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR";const i={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},a={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};n.read=function(e){"start"===e&&(e=n.initial);const t={};let r=8,a=0;for(const n of e)switch(n){case" ":return t;case"/":if(--r,0===r)return t;a=0;break;case"~":const e=t[o.pos2key([a,r])];e&&(e.promoted=!0);break;default:const s=n.charCodeAt(0);if(s<57)a+=s-48;else{++a;const e=n.toLowerCase();t[o.pos2key([a,r])]={role:i[e],color:n===e?"black":"white"}}}return t},n.write=function(e){return o.invRanks.map(n=>r.ranks.map(t=>{const r=e[o.pos2key([t,n])];if(r){const e=a[r.role];return"white"===r.color?e.toUpperCase():e}return"1"}).join("")).join("/").replace(/1{2,}/g,e=>e.length.toString())}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(1),r=t(0),i=t(11),a=t(10);function s(e,n){const t=o.whitePov(e),i=e.dom.bounds(),a=Math.pow(i.width/8,2);for(let o in e.pieces){const e=d(o,t,i),s=[e.left+e.width/2,e.top+e.height/2];if(r.distanceSq(s,n)<=a)return!0}return!1}function c(e){requestAnimationFrame(()=>{const n=e.draggable.current;if(!n)return;e.animation.current&&e.animation.current.plan.anims[n.orig]&&(e.animation.current=void 0);const t=e.pieces[n.orig];if(t&&r.samePiece(t,n.piece)){if(!n.started&&r.distanceSq(n.epos,n.rel)>=Math.pow(e.draggable.distance,2)&&(n.started=!0),n.started){if("function"==typeof n.element){const e=n.element();if(!e)return;e.cgDragging=!0,e.classList.add("dragging"),n.element=e}n.pos=[n.epos[0]-n.rel[0],n.epos[1]-n.rel[1]];const t=r.posToTranslateAbs(e.dom.bounds())(n.origPos,o.whitePov(e));t[0]+=n.pos[0]+n.dec[0],t[1]+=n.pos[1]+n.dec[1],r.translateAbs(n.element,t)}}else l(e);c(e)})}function l(e){const n=e.draggable.current;n&&(n.newPiece&&delete e.pieces[n.orig],e.draggable.current=void 0,o.unselect(e),u(e),e.dom.redraw())}function u(e){const n=e.dom.elements;n.ghost&&r.setVisible(n.ghost,!1)}function d(e,n,t){const o=r.key2pos(e);return n||(o[0]=9-o[0],o[1]=9-o[1]),{left:t.left+t.width*(o[0]-1)/8,top:t.top+t.height*(8-o[1])/8,width:t.width/8,height:t.height/8}}function f(e,n){let t=e.dom.elements.board.firstChild;for(;t;){if(t.cgKey===n&&"PIECE"===t.tagName)return t;t=t.nextSibling}}n.start=function(e,n){if(void 0!==n.button&&0!==n.button)return;if(n.touches&&n.touches.length>1)return;const t=e.dom.bounds(),l=r.eventPosition(n),u=o.getKeyAtDomPos(l,o.whitePov(e),t);if(!u)return;const p=e.pieces[u],g=e.selected;g||!e.drawable.enabled||!e.drawable.eraseOnClick&&p&&p.color===e.turnColor||i.clear(e),!1===n.cancelable||n.touches&&e.movable.color&&!p&&!g&&!s(e,l)||n.preventDefault();const h=!!e.premovable.current,m=!!e.predroppable.current;e.stats.ctrlKey=n.ctrlKey,e.selected&&o.canMove(e,e.selected,u)?a.anim(e=>o.selectSquare(e,u),e):o.selectSquare(e,u);const v=e.selected===u,b=f(e,u);if(p&&b&&v&&o.isDraggable(e,u)){const i=d(u,o.whitePov(e),t);e.draggable.current={orig:u,origPos:r.key2pos(u),piece:p,rel:l,epos:l,pos:[0,0],dec:e.draggable.centerPiece?[l[0]-(i.left+i.width/2),l[1]-(i.top+i.height/2)]:[0,0],started:e.draggable.autoDistance&&e.stats.dragged,element:b,previouslySelected:g,originTarget:n.target},b.cgDragging=!0,b.classList.add("dragging");const a=e.dom.elements.ghost;a&&(a.className=`ghost ${p.color} ${p.role}`,r.translateAbs(a,r.posToTranslateAbs(t)(r.key2pos(u),o.whitePov(e))),r.setVisible(a,!0)),c(e)}else h&&o.unsetPremove(e),m&&o.unsetPredrop(e);e.dom.redraw()},n.pieceCloseTo=s,n.dragNewPiece=function(e,n,t,i){e.pieces.a0=n,e.dom.redraw();const a=r.eventPosition(t),s=o.whitePov(e),l=e.dom.bounds(),u=d("a0",s,l),p=[(s?0:7)*u.width+l.left,(s?8:-1)*u.height+l.top];e.draggable.current={orig:"a0",origPos:r.key2pos("a0"),piece:n,rel:p,epos:a,pos:[a[0]-p[0],a[1]-p[1]],dec:[-u.width/2,-u.height/2],started:!0,element:()=>f(e,"a0"),originTarget:t.target,newPiece:!0,force:!!i},c(e)},n.move=function(e,n){e.draggable.current&&(!n.touches||n.touches.length<2)&&(e.draggable.current.epos=r.eventPosition(n))},n.end=function(e,n){const t=e.draggable.current;if(!t)return;if("touchend"===n.type&&!1!==n.cancelable&&n.preventDefault(),"touchend"===n.type&&t&&t.originTarget!==n.target&&!t.newPiece)return void(e.draggable.current=void 0);o.unsetPremove(e),o.unsetPredrop(e);const i=r.eventPosition(n)||t.epos,a=o.getKeyAtDomPos(i,o.whitePov(e),e.dom.bounds());a&&t.started&&t.orig!==a?t.newPiece?o.dropNewPiece(e,t.orig,a,t.force):(e.stats.ctrlKey=n.ctrlKey,o.userMove(e,t.orig,a)&&(e.stats.dragged=!0)):t.newPiece?delete e.pieces[t.orig]:e.draggable.deleteOnDropOff&&!a&&(delete e.pieces[t.orig],o.callUserFunction(e.events.change)),(!t||t.orig!==t.previouslySelected||t.orig!==a&&a)&&e.selectable.enabled||o.unselect(e),u(e),e.draggable.current=void 0,e.dom.redraw()},n.cancel=l},function(e,n,t){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),a=[];function s(e){for(var n=-1,t=0;t<a.length;t++)if(a[t].identifier===e){n=t;break}return n}function c(e,n){for(var t={},o=[],r=0;r<e.length;r++){var i=e[r],c=n.base?i[0]+n.base:i[0],l=t[c]||0,u="".concat(c," ").concat(l);t[c]=l+1;var d=s(u),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:u,updater:m(f,n),references:1}),o.push(u)}return o}function l(e){var n=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=t.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(n);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var u,d=(u=[],function(e,n){return u[e]=n,u.filter(Boolean).join("\n")});function f(e,n,t,o){var r=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(n,r);else{var i=document.createTextNode(r),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function p(e,n,t){var o=t.css,r=t.media,i=t.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var g=null,h=0;function m(e,n){var t,o,r;if(n.singleton){var i=h++;t=g||(g=l(n)),o=f.bind(null,t,i,!1),r=f.bind(null,t,i,!0)}else t=l(n),o=p.bind(null,t,n),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else r()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=r());var t=c(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<t.length;o++){var r=s(t[o]);a[r].references--}for(var i=c(e,n),l=0;l<t.length;l++){var u=s(t[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}t=i}}}},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",o=e[3];if(!o)return t;if(n&&"function"==typeof btoa){var r=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([r]).join("\n")}var a,s,c;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&r[c[0]]||(t&&(c[2]?c[2]="".concat(t," and ").concat(c[2]):c[2]=t),n.push(c))}},n}},function(e,n,t){(function(n){e.exports=function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/lib/",t(t.s=2)}([function(e,n,t){"use strict";function o(e,n,t,r){this.message=e,this.expected=n,this.found=t,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,o)}!function(e,n){function t(){this.constructor=e}t.prototype=n.prototype,e.prototype=new t}(o,Error),o.buildMessage=function(e,n){var t={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){var n,t="";for(n=0;n<e.parts.length;n++)t+=e.parts[n]instanceof Array?i(e.parts[n][0])+"-"+i(e.parts[n][1]):i(e.parts[n]);return"["+(e.inverted?"^":"")+t+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function o(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+o(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+o(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+o(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+o(e)}))}return"Expected "+function(e){var n,o,r,i=new Array(e.length);for(n=0;n<e.length;n++)i[n]=(r=e[n],t[r.type](r));if(i.sort(),i.length>0){for(n=1,o=1;n<i.length;n++)i[n-1]!==i[n]&&(i[o]=i[n],o++);i.length=o}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+r(e)+'"':"end of input"}(n)+" found."},e.exports={SyntaxError:o,parse:function(e,n){n=void 0!==n?n:{};var t,r={},i={pgn:Un,tags:Nn,game:function(){var e,n,t;return e=kn,(n=Nn())===r&&(n=null),n!==r&&(t=Un())!==r?e=n={tags:n,moves:t[0]}:(kn=e,e=r),e}},a=Un,s=function(e,n){return n},c=_n("Event",!1),l=_n("Site",!1),u=_n("Date",!1),d=_n("Round",!1),f=_n("White",!1),p=_n("Black",!1),g=_n("Result",!1),h=_n("WhiteTitle",!1),m=_n("BlackTitle",!1),v=_n("WhiteELO",!1),b=_n("BlackELO",!1),y=_n("WhiteUSCF",!1),w=_n("BlackUSCF",!1),k=_n("WhiteNA",!1),x=_n("BlackNA",!1),O=_n("WhiteType",!1),C=_n("BlackType",!1),E=_n("EventDate",!1),_=_n("EventSponsor",!1),A=_n("Section",!1),S=_n("Stage",!1),M=_n("Board",!1),T=_n("Opening",!1),P=_n("Variation",!1),N=_n("SubVariation",!1),L=_n("ECO",!1),j=_n("NIC",!1),R=_n("Time",!1),I=_n("UTCTime",!1),B=_n("UTCDate",!1),D=_n("TimeControl",!1),q=_n("SetUp",!1),F=_n("FEN",!1),U=_n("Termination",!1),K=_n("Annotator",!1),z=_n("Mode",!1),G=_n("PlyCount",!1),$=Sn("whitespace"),V=/^[ \t\n\r]/,H=An([" ","\t","\n","\r"],!1,!1),W=Sn("string"),Y=_n('"',!1),Q=/^[^\0-\x1F"\\]/,X=An([["\0",""],'"',"\\"],!0,!1),J=/^[0-9]/,Z=An([["0","9"]],!1,!1),ee=_n(".",!1),ne=_n("1-0",!1),te=_n("1:0",!1),oe=_n("0-1",!1),re=_n("0:1",!1),ie=_n("1/2-1/2",!1),ae=_n("*",!1),se=_n("-",!1),ce=function(e){return parseInt(e.join(""),10)},le=/^[^}]/,ue=An(["}"],!0,!1),de=_n("%csl",!1),fe=_n("%cal",!1),pe=_n(",",!1),ge=function(e,n){var t=[];t.push(e);for(var o=0;o<n.length;o++)t.push(n[o][2]);return t},he=_n("Y",!1),me=_n("G",!1),ve=_n("R",!1),be=_n("B",!1),ye=_n("{",!1),we=_n("}",!1),ke=_n("[",!1),xe=_n("]",!1),Oe=_n("%",!1),Ce=_n("clk",!1),Ee=_n("egt",!1),_e=_n("emt",!1),Ae=_n("mct",!1),Se=_n(":",!1),Me=_n("(",!1),Te=_n(")",!1),Pe=Sn("integer"),Ne=_n(" ",!1),Le=_n("O-O-O",!1),je=_n("O-O",!1),Re=_n("+-",!1),Ie=_n("+",!1),Be=function(e){return e[1]},De=_n("$$$",!1),qe=_n("#",!1),Fe=_n("=",!1),Ue=_n("$",!1),Ke=_n("!!",!1),ze=_n("??",!1),Ge=_n("!?",!1),$e=_n("?!",!1),Ve=_n("!",!1),He=_n("?",!1),We=_n("‼",!1),Ye=_n("⁇",!1),Qe=_n("⁉",!1),Xe=_n("⁈",!1),Je=_n("□",!1),Ze=_n("∞",!1),en=_n("⩲",!1),nn=_n("⩱",!1),tn=_n("±",!1),on=_n("∓",!1),rn=_n("-+",!1),an=_n("⨀",!1),sn=_n("⟳",!1),cn=_n("→",!1),ln=_n("↑",!1),un=_n("⇆",!1),dn=_n("D",!1),fn=/^[RNBQKP]/,pn=An(["R","N","B","Q","K","P"],!1,!1),gn=/^[RNBQ]/,hn=An(["R","N","B","Q"],!1,!1),mn=/^[a-h]/,vn=An([["a","h"]],!1,!1),bn=/^[1-8]/,yn=An([["1","8"]],!1,!1),wn=_n("x",!1),kn=0,xn=[{line:1,column:1}],On=0,Cn=[],En=0;if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=i[n.startRule]}function _n(e,n){return{type:"literal",text:e,ignoreCase:n}}function An(e,n,t){return{type:"class",parts:e,inverted:n,ignoreCase:t}}function Sn(e){return{type:"other",description:e}}function Mn(n){var t,o=xn[n];if(o)return o;for(t=n-1;!xn[t];)t--;for(o={line:(o=xn[t]).line,column:o.column};t<n;)10===e.charCodeAt(t)?(o.line++,o.column=1):o.column++,t++;return xn[n]=o,o}function Tn(e,n){var t=Mn(e),o=Mn(n);return{start:{offset:e,line:t.line,column:t.column},end:{offset:n,line:o.line,column:o.column}}}function Pn(e){kn<On||(kn>On&&(On=kn,Cn=[]),Cn.push(e))}function Nn(){var e,n,t,o,i,a,c,l;if(e=kn,jn()!==r){if(n=kn,(t=Ln())!==r){for(o=[],i=kn,jn()!==r&&(a=Ln())!==r?i=s(0,a):(kn=i,i=r);i!==r;)o.push(i),i=kn,jn()!==r&&(a=Ln())!==r?i=s(0,a):(kn=i,i=r);o!==r?(l={},[t].concat(o).forEach((function(e){l[e.name]=e.value})),n=t=l):(kn=n,n=r)}else kn=n,n=r;n===r&&(n=null),n!==r&&(t=jn())!==r?e=null!==(c=n)?c:{}:(kn=e,e=r)}else kn=e,e=r;return e}function Ln(){var n,t;return n=kn,tt()!==r&&(t=function(){var n,t;return n=kn,function(){var n;return"Event"===e.substr(kn,5)?(n="Event",kn+=5):(n=r,0===En&&Pn(c)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n={name:"Event",value:t}:(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Site"===e.substr(kn,4)?(n="Site",kn+=4):(n=r,0===En&&Pn(l)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Site",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Date"===e.substr(kn,4)?(n="Date",kn+=4):(n=r,0===En&&Pn(u)),n}()!==r&&jn()!==r&&(t=Dn())!==r?n=function(e){return{name:"Date",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Round"===e.substr(kn,5)?(n="Round",kn+=5):(n=r,0===En&&Pn(d)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Round",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"White"===e.substr(kn,5)?(n="White",kn+=5):(n=r,0===En&&Pn(f)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"White",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Black"===e.substr(kn,5)?(n="Black",kn+=5):(n=r,0===En&&Pn(p)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Black",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Result"===e.substr(kn,6)?(n="Result",kn+=6):(n=r,0===En&&Pn(g)),n}()!==r&&jn()!==r&&(t=function(){var n,t;return n=kn,In()!==r&&(t=function(){var n,t;return n=kn,"1-0"===e.substr(kn,3)?(t="1-0",kn+=3):(t=r,0===En&&Pn(ne)),t!==r&&(t=t),(n=t)===r&&(n=kn,"1:0"===e.substr(kn,3)?(t="1:0",kn+=3):(t=r,0===En&&Pn(te)),t!==r&&(t=t),(n=t)===r&&(n=kn,"0-1"===e.substr(kn,3)?(t="0-1",kn+=3):(t=r,0===En&&Pn(oe)),t!==r&&(t=t),(n=t)===r&&(n=kn,"0:1"===e.substr(kn,3)?(t="0:1",kn+=3):(t=r,0===En&&Pn(re)),t!==r&&(t=t),(n=t)===r&&(n=kn,"1/2-1/2"===e.substr(kn,7)?(t="1/2-1/2",kn+=7):(t=r,0===En&&Pn(ie)),t!==r&&(t=t),(n=t)===r&&(n=kn,42===e.charCodeAt(kn)?(t="*",kn++):(t=r,0===En&&Pn(ae)),t!==r&&(t=t),n=t))))),n}())!==r&&In()!==r?n=t:(kn=n,n=r),n}())!==r?n=function(e){return{name:"Result",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"WhiteTitle"===e.substr(kn,10)?(n="WhiteTitle",kn+=10):(n=r,0===En&&Pn(h)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"WhiteTitle",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"BlackTitle"===e.substr(kn,10)?(n="BlackTitle",kn+=10):(n=r,0===En&&Pn(m)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"BlackTitle",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"WhiteELO"===e.substr(kn,8)?(n="WhiteELO",kn+=8):(n=r,0===En&&Pn(v)),n}()!==r&&jn()!==r&&(t=qn())!==r?n=function(e){return{name:"WhiteELO",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"BlackELO"===e.substr(kn,8)?(n="BlackELO",kn+=8):(n=r,0===En&&Pn(b)),n}()!==r&&jn()!==r&&(t=qn())!==r?n=function(e){return{name:"BlackELO",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"WhiteUSCF"===e.substr(kn,9)?(n="WhiteUSCF",kn+=9):(n=r,0===En&&Pn(y)),n}()!==r&&jn()!==r&&(t=Fn())!==r?n=function(e){return{name:"WhiteUSCF",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"BlackUSCF"===e.substr(kn,9)?(n="BlackUSCF",kn+=9):(n=r,0===En&&Pn(w)),n}()!==r&&jn()!==r&&(t=Fn())!==r?n=function(e){return{name:"BlackUSCF",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"WhiteNA"===e.substr(kn,7)?(n="WhiteNA",kn+=7):(n=r,0===En&&Pn(k)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"WhiteNA",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"BlackNA"===e.substr(kn,7)?(n="BlackNA",kn+=7):(n=r,0===En&&Pn(x)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"BlackNA",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"WhiteType"===e.substr(kn,9)?(n="WhiteType",kn+=9):(n=r,0===En&&Pn(O)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"WhiteType",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"BlackType"===e.substr(kn,9)?(n="BlackType",kn+=9):(n=r,0===En&&Pn(C)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"BlackType",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"EventDate"===e.substr(kn,9)?(n="EventDate",kn+=9):(n=r,0===En&&Pn(E)),n}()!==r&&jn()!==r&&(t=Dn())!==r?n=function(e){return{name:"EventDate",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"EventSponsor"===e.substr(kn,12)?(n="EventSponsor",kn+=12):(n=r,0===En&&Pn(_)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"EventSponsor",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Section"===e.substr(kn,7)?(n="Section",kn+=7):(n=r,0===En&&Pn(A)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Section",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Stage"===e.substr(kn,5)?(n="Stage",kn+=5):(n=r,0===En&&Pn(S)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Stage",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Board"===e.substr(kn,5)?(n="Board",kn+=5):(n=r,0===En&&Pn(M)),n}()!==r&&jn()!==r&&(t=Fn())!==r?n=function(e){return{name:"Board",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Opening"===e.substr(kn,7)?(n="Opening",kn+=7):(n=r,0===En&&Pn(T)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Opening",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Variation"===e.substr(kn,9)?(n="Variation",kn+=9):(n=r,0===En&&Pn(P)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Variation",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"SubVariation"===e.substr(kn,12)?(n="SubVariation",kn+=12):(n=r,0===En&&Pn(N)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"SubVariation",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"ECO"===e.substr(kn,3)?(n="ECO",kn+=3):(n=r,0===En&&Pn(L)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"ECO",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"NIC"===e.substr(kn,3)?(n="NIC",kn+=3):(n=r,0===En&&Pn(j)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"NIC",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Time"===e.substr(kn,4)?(n="Time",kn+=4):(n=r,0===En&&Pn(R)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Time",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"UTCTime"===e.substr(kn,7)?(n="UTCTime",kn+=7):(n=r,0===En&&Pn(I)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"UTCTime",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"UTCDate"===e.substr(kn,7)?(n="UTCDate",kn+=7):(n=r,0===En&&Pn(B)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"UTCDate",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"TimeControl"===e.substr(kn,11)?(n="TimeControl",kn+=11):(n=r,0===En&&Pn(D)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"TimeControl",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"SetUp"===e.substr(kn,5)?(n="SetUp",kn+=5):(n=r,0===En&&Pn(q)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"SetUp",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"FEN"===e.substr(kn,3)?(n="FEN",kn+=3):(n=r,0===En&&Pn(F)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"FEN",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Termination"===e.substr(kn,11)?(n="Termination",kn+=11):(n=r,0===En&&Pn(U)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Termination",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Annotator"===e.substr(kn,9)?(n="Annotator",kn+=9):(n=r,0===En&&Pn(K)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Annotator",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"Mode"===e.substr(kn,4)?(n="Mode",kn+=4):(n=r,0===En&&Pn(z)),n}()!==r&&jn()!==r&&(t=Rn())!==r?n=function(e){return{name:"Mode",value:e}}(t):(kn=n,n=r),n===r&&(n=kn,function(){var n;return"PlyCount"===e.substr(kn,8)?(n="PlyCount",kn+=8):(n=r,0===En&&Pn(G)),n}()!==r&&jn()!==r&&(t=Fn())!==r?n=function(e){return{name:"PlyCount",value:e}}(t):(kn=n,n=r))))))))))))))))))))))))))))))))))))),n}())!==r&&ot()!==r?n=t:(kn=n,n=r),n}function jn(){var n,t;for(En++,n=[],V.test(e.charAt(kn))?(t=e.charAt(kn),kn++):(t=r,0===En&&Pn(H));t!==r;)n.push(t),V.test(e.charAt(kn))?(t=e.charAt(kn),kn++):(t=r,0===En&&Pn(H));return En--,n===r&&(t=r,0===En&&Pn($)),n}function Rn(){var e,n,t;if(En++,e=kn,In()!==r){for(n=[],t=Bn();t!==r;)n.push(t),t=Bn();n!==r&&(t=In())!==r?e=n.join(""):(kn=e,e=r)}else kn=e,e=r;return En--,e===r&&0===En&&Pn(W),e}function In(){var n;return 34===e.charCodeAt(kn)?(n='"',kn++):(n=r,0===En&&Pn(Y)),n}function Bn(){var n;return Q.test(e.charAt(kn))?(n=e.charAt(kn),kn++):(n=r,0===En&&Pn(X)),n}function Dn(){var n,t,o,i,a,s,c,l,u,d;return n=kn,In()!==r?(t=kn,J.test(e.charAt(kn))?(o=e.charAt(kn),kn++):(o=r,0===En&&Pn(Z)),o!==r?(J.test(e.charAt(kn))?(i=e.charAt(kn),kn++):(i=r,0===En&&Pn(Z)),i!==r?(J.test(e.charAt(kn))?(a=e.charAt(kn),kn++):(a=r,0===En&&Pn(Z)),a!==r?(J.test(e.charAt(kn))?(s=e.charAt(kn),kn++):(s=r,0===En&&Pn(Z)),s!==r?t=o=[o,i,a,s]:(kn=t,t=r)):(kn=t,t=r)):(kn=t,t=r)):(kn=t,t=r),t!==r?(46===e.charCodeAt(kn)?(o=".",kn++):(o=r,0===En&&Pn(ee)),o!==r?(i=kn,J.test(e.charAt(kn))?(a=e.charAt(kn),kn++):(a=r,0===En&&Pn(Z)),a!==r?(J.test(e.charAt(kn))?(s=e.charAt(kn),kn++):(s=r,0===En&&Pn(Z)),s!==r?i=a=[a,s]:(kn=i,i=r)):(kn=i,i=r),i!==r?(46===e.charCodeAt(kn)?(a=".",kn++):(a=r,0===En&&Pn(ee)),a!==r?(s=kn,J.test(e.charAt(kn))?(c=e.charAt(kn),kn++):(c=r,0===En&&Pn(Z)),c!==r?(J.test(e.charAt(kn))?(l=e.charAt(kn),kn++):(l=r,0===En&&Pn(Z)),l!==r?s=c=[c,l]:(kn=s,s=r)):(kn=s,s=r),s!==r&&(c=In())!==r?(u=i,d=s,n=t.join("")+"."+u.join("")+"."+d.join("")):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n}function qn(){var n,t,o,i;return(n=Fn())===r&&(n=kn,(t=In())!==r?(45===e.charCodeAt(kn)?(o="-",kn++):(o=r,0===En&&Pn(se)),o!==r&&(i=In())!==r?n=t=[t,o,i]:(kn=n,n=r)):(kn=n,n=r)),n}function Fn(){var n,t,o;if(n=kn,In()!==r){if(t=[],J.test(e.charAt(kn))?(o=e.charAt(kn),kn++):(o=r,0===En&&Pn(Z)),o!==r)for(;o!==r;)t.push(o),J.test(e.charAt(kn))?(o=e.charAt(kn),kn++):(o=r,0===En&&Pn(Z));else t=r;t!==r&&(o=In())!==r?n=ce(t):(kn=n,n=r)}else kn=n,n=r;return n}function Un(){var e,n,t,o,i;return e=kn,(n=function(){var e;return(e=zn())!==r&&(e=e),e}())!==r?((t=Gn())===r&&(t=null),t!==r?(o=n,(i=t||[]).unshift(o),e=n=i):(kn=e,e=r)):(kn=e,e=r),e===r&&(e=kn,(n=Kn())!==r?((t=zn())===r&&(t=null),t!==r?e=n=function(e,n){var t=n||[];return t.unshift(e),t}(n,t):(kn=e,e=r)):(kn=e,e=r),e===r&&(e=kn,(n=lt())===r&&(n=null),n!==r&&(n=[[]]),e=n)),e}function Kn(){var e;return(e=Gn())!==r&&(e=e),e}function zn(){var e,n,t,o,i,a,s,c,l,u,d,f,p,g,h,m,v,b,y,w,k,x,O,C,E,_,A;return e=kn,(n=lt())===r&&(n=null),n!==r?((t=Vn())===r&&(t=null),t!==r?((o=lt())===r&&(o=null),o!==r?((i=st())===r&&(i=null),i!==r?((a=lt())===r&&(a=null),a!==r?((s=Vn())===r&&(s=null),s!==r?((c=lt())===r&&(c=null),c!==r&&(l=dt())!==r?((u=lt())===r&&(u=null),u!==r?((d=gt())===r&&(d=null),d!==r?((f=lt())===r&&(f=null),f!==r?((p=Vn())===r&&(p=null),p!==r?((g=lt())===r&&(g=null),g!==r?((h=Wn())===r&&(h=null),h!==r?((m=lt())===r&&(m=null),m!==r?((v=function e(){var n,t,o,i,a,s,c,l;return n=kn,it()!==r&&(t=zn())!==r&&at()!==r?((o=lt())===r&&(o=null),o!==r?((i=e())===r&&(i=null),i!==r?((a=lt())===r&&(a=null),a!==r?((s=st())===r&&(s=null),s!==r?(c=t,(l=i||[]).unshift(c),n=l):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n}())===r&&(v=null),v!==r?((b=Gn())===r&&(b=null),b!==r?(y=t,w=s,k=l,x=d,O=p,C=h,E=v,_=b||[],(A={turn:"w"}).moveNumber=i,A.notation=k,A.commentBefore=w,A.commentAfter=O,A.commentMove=y,A.variations=E||[],A.nag=x||null,_.unshift(A),A.commentDiag=C,e=n=_):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r),e===r&&(e=$n()),e}function Gn(){var e,n,t,o,i,a,s,c,l,u,d,f,p,g,h,m,v,b,y,w,k,x,O,C,E,_,A;return e=kn,(n=lt())===r&&(n=null),n!==r?((t=Vn())===r&&(t=null),t!==r?((o=lt())===r&&(o=null),o!==r?((i=st())===r&&(i=null),i!==r?((a=lt())===r&&(a=null),a!==r?((s=Vn())===r&&(s=null),s!==r?((c=lt())===r&&(c=null),c!==r&&(l=dt())!==r?((u=lt())===r&&(u=null),u!==r?((d=gt())===r&&(d=null),d!==r?((f=lt())===r&&(f=null),f!==r?((p=Vn())===r&&(p=null),p!==r?((g=lt())===r&&(g=null),g!==r?((h=Wn())===r&&(h=null),h!==r?((m=lt())===r&&(m=null),m!==r?((v=function e(){var n,t,o,i,a,s;return n=kn,it()!==r&&(t=Kn())!==r&&at()!==r?((o=lt())===r&&(o=null),o!==r?((i=e())===r&&(i=null),i!==r?(a=t,(s=i||[]).unshift(a),n=s):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n}())===r&&(v=null),v!==r?((b=zn())===r&&(b=null),b!==r?(y=t,w=s,k=l,x=d,O=p,C=h,E=v,_=b||[],(A={turn:"b"}).moveNumber=i,A.notation=k,A.commentBefore=w,A.commentAfter=O,A.commentMove=y,A.variations=E||[],_.unshift(A),A.nag=x||null,A.commentDiag=C,e=n=_):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r),e===r&&(e=$n()),e}function $n(){var n,t,o;return n=kn,"1:0"===e.substr(kn,3)?(t="1:0",kn+=3):(t=r,0===En&&Pn(te)),t!==r?((o=lt())===r&&(o=null),o!==r?n=t=["1:0"]:(kn=n,n=r)):(kn=n,n=r),n===r&&(n=kn,"0:1"===e.substr(kn,3)?(t="0:1",kn+=3):(t=r,0===En&&Pn(re)),t!==r?((o=lt())===r&&(o=null),o!==r?n=t=["0:1"]:(kn=n,n=r)):(kn=n,n=r),n===r&&(n=kn,"1-0"===e.substr(kn,3)?(t="1-0",kn+=3):(t=r,0===En&&Pn(ne)),t!==r?((o=lt())===r&&(o=null),o!==r?n=t=["1-0"]:(kn=n,n=r)):(kn=n,n=r),n===r&&(n=kn,"0-1"===e.substr(kn,3)?(t="0-1",kn+=3):(t=r,0===En&&Pn(oe)),t!==r?((o=lt())===r&&(o=null),o!==r?n=t=["0-1"]:(kn=n,n=r)):(kn=n,n=r),n===r&&(n=kn,"1/2-1/2"===e.substr(kn,7)?(t="1/2-1/2",kn+=7):(t=r,0===En&&Pn(ie)),t!==r?((o=lt())===r&&(o=null),o!==r?n=t=["1/2-1/2"]:(kn=n,n=r)):(kn=n,n=r),n===r&&(n=kn,42===e.charCodeAt(kn)?(t="*",kn++):(t=r,0===En&&Pn(ae)),t!==r?((o=lt())===r&&(o=null),o!==r?n=t=["*"]:(kn=n,n=r)):(kn=n,n=r)))))),n}function Vn(){var e,n,t,o,i,a;if(e=kn,(n=Hn())!==r){for(t=[],o=kn,(i=lt())===r&&(i=null),i!==r&&(a=Hn())!==r?o=i=[i,a]:(kn=o,o=r);o!==r;)t.push(o),o=kn,(i=lt())===r&&(i=null),i!==r&&(a=Hn())!==r?o=i=[i,a]:(kn=o,o=r);t!==r?e=n=function(e,n){for(var t=e,o=0;o<n.length;o++)t+=" "+n[o][1];return t}(n,t):(kn=e,e=r)}else kn=e,e=r;return e}function Hn(){var n,t,o,i,a;if(n=kn,t=kn,En++,o=Wn(),En--,o===r?t=void 0:(kn=t,t=r),t!==r)if((o=et())!==r){if(i=[],le.test(e.charAt(kn))?(a=e.charAt(kn),kn++):(a=r,0===En&&Pn(ue)),a!==r)for(;a!==r;)i.push(a),le.test(e.charAt(kn))?(a=e.charAt(kn),kn++):(a=r,0===En&&Pn(ue));else i=r;i!==r&&(a=nt())!==r?n=t=i.join("").trim():(kn=n,n=r)}else kn=n,n=r;else kn=n,n=r;return n}function Wn(){var e,n,t,o;return e=kn,et()!==r?((n=lt())===r&&(n=null),n!==r&&(t=function(){var e,n,t,o,i;if(e=kn,(n=Yn())!==r)if((t=lt())===r&&(t=null),t!==r){for(o=[],i=Yn();i!==r;)o.push(i),i=Yn();o!==r?e=n=function(e,n){if(n){var t=n[0];return{...e,...t}}return e}(n,o):(kn=e,e=r)}else kn=e,e=r;else kn=e,e=r;return e}())!==r?((o=lt())===r&&(o=null),o!==r&&nt()!==r?e=t:(kn=e,e=r)):(kn=e,e=r)):(kn=e,e=r),e}function Yn(){var n,t,o;return n=kn,(t=function(){var n,t,o,i,a;return n=kn,tt()!==r?((t=lt())===r&&(t=null),t!==r?("%csl"===e.substr(kn,4)?(o="%csl",kn+=4):(o=r,0===En&&Pn(de)),o!==r&&lt()!==r&&(i=function(){var n,t,o,i,a,s,c,l;if(n=kn,(t=Qn())!==r)if((o=lt())===r&&(o=null),o!==r){for(i=[],a=kn,44===e.charCodeAt(kn)?(s=",",kn++):(s=r,0===En&&Pn(pe)),s!==r?((c=lt())===r&&(c=null),c!==r&&(l=Qn())!==r?a=s=[s,c,l]:(kn=a,a=r)):(kn=a,a=r);a!==r;)i.push(a),a=kn,44===e.charCodeAt(kn)?(s=",",kn++):(s=r,0===En&&Pn(pe)),s!==r?((c=lt())===r&&(c=null),c!==r&&(l=Qn())!==r?a=s=[s,c,l]:(kn=a,a=r)):(kn=a,a=r);i!==r?n=t=ge(t,i):(kn=n,n=r)}else kn=n,n=r;else kn=n,n=r;return n}())!==r?((a=lt())===r&&(a=null),a!==r&&ot()!==r?n=i:(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n}())!==r&&((o={}).colorFields=t,t=o),(n=t)===r&&(n=kn,(t=function(){var n,t,o,i,a;return n=kn,tt()!==r?((t=lt())===r&&(t=null),t!==r?("%cal"===e.substr(kn,4)?(o="%cal",kn+=4):(o=r,0===En&&Pn(fe)),o!==r&&lt()!==r&&(i=function(){var n,t,o,i,a,s,c,l;if(n=kn,(t=Xn())!==r)if((o=lt())===r&&(o=null),o!==r){for(i=[],a=kn,44===e.charCodeAt(kn)?(s=",",kn++):(s=r,0===En&&Pn(pe)),s!==r?((c=lt())===r&&(c=null),c!==r&&(l=Xn())!==r?a=s=[s,c,l]:(kn=a,a=r)):(kn=a,a=r);a!==r;)i.push(a),a=kn,44===e.charCodeAt(kn)?(s=",",kn++):(s=r,0===En&&Pn(pe)),s!==r?((c=lt())===r&&(c=null),c!==r&&(l=Xn())!==r?a=s=[s,c,l]:(kn=a,a=r)):(kn=a,a=r);i!==r?n=t=ge(t,i):(kn=n,n=r)}else kn=n,n=r;else kn=n,n=r;return n}())!==r?((a=lt())===r&&(a=null),a!==r&&ot()!==r?n=i:(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n}())!==r&&(t=function(e){var n={};return n.colorArrows=e,n}(t)),(n=t)===r&&(n=kn,(t=function(){var n,t,o,i,a,s;return n=kn,tt()!==r?((t=lt())===r&&(t=null),t!==r?(37===e.charCodeAt(kn)?(o="%",kn++):(o=r,0===En&&Pn(Oe)),o!==r&&(i=function(){var n,t;return n=kn,"clk"===e.substr(kn,3)?(t="clk",kn+=3):(t=r,0===En&&Pn(Ce)),t!==r&&(t="clk"),(n=t)===r&&(n=kn,"egt"===e.substr(kn,3)?(t="egt",kn+=3):(t=r,0===En&&Pn(Ee)),t!==r&&(t="egt"),(n=t)===r&&(n=kn,"emt"===e.substr(kn,3)?(t="emt",kn+=3):(t=r,0===En&&Pn(_e)),t!==r&&(t="emt"),(n=t)===r&&(n=kn,"mct"===e.substr(kn,3)?(t="mct",kn+=3):(t=r,0===En&&Pn(Ae)),t!==r&&(t="mct"),n=t))),n}())!==r&&lt()!==r&&(a=function(){var n,t,o,i,a,s,c,l,u;return n=kn,(t=rt())!==r?((o=rt())===r&&(o=null),o!==r?(58===e.charCodeAt(kn)?(i=":",kn++):(i=r,0===En&&Pn(Se)),i!==r&&(a=rt())!==r&&(s=rt())!==r?(58===e.charCodeAt(kn)?(c=":",kn++):(c=r,0===En&&Pn(Se)),c!==r&&(l=rt())!==r&&(u=rt())!==r?n=t=function(e,n,t,o,r,i){var a=e;return n&&(a+=n),a+":"+t+o+":"+r+i}(t,o,a,s,l,u):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n}())!==r?((s=lt())===r&&(s=null),s!==r&&ot()!==r?n=function(e,n){var t={};return t.type=e,t.value=n,t}(i,a):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n}())!==r&&(t=function(e){var n={};return n.clock=e,n}(t)),n=t)),n}function Qn(){var e,n,t;return e=kn,(n=Jn())!==r&&(t=Zn())!==r?e=n+=t:(kn=e,e=r),e}function Xn(){var e,n,t,o;return e=kn,(n=Jn())!==r&&(t=Zn())!==r&&(o=Zn())!==r?e=n=n+t+o:(kn=e,e=r),e}function Jn(){var n,t;return n=kn,89===e.charCodeAt(kn)?(t="Y",kn++):(t=r,0===En&&Pn(he)),t!==r&&(t="Y"),(n=t)===r&&(n=kn,71===e.charCodeAt(kn)?(t="G",kn++):(t=r,0===En&&Pn(me)),t!==r&&(t="G"),(n=t)===r&&(n=kn,82===e.charCodeAt(kn)?(t="R",kn++):(t=r,0===En&&Pn(ve)),t!==r&&(t="R"),(n=t)===r&&(n=kn,66===e.charCodeAt(kn)?(t="B",kn++):(t=r,0===En&&Pn(be)),t!==r&&(t="B"),n=t))),n}function Zn(){var e,n,t;return e=kn,(n=vt())!==r&&(t=bt())!==r?e=n+=t:(kn=e,e=r),e}function et(){var n;return 123===e.charCodeAt(kn)?(n="{",kn++):(n=r,0===En&&Pn(ye)),n}function nt(){var n;return 125===e.charCodeAt(kn)?(n="}",kn++):(n=r,0===En&&Pn(we)),n}function tt(){var n;return 91===e.charCodeAt(kn)?(n="[",kn++):(n=r,0===En&&Pn(ke)),n}function ot(){var n;return 93===e.charCodeAt(kn)?(n="]",kn++):(n=r,0===En&&Pn(xe)),n}function rt(){var n;return J.test(e.charAt(kn))?(n=e.charAt(kn),kn++):(n=r,0===En&&Pn(Z)),n!==r&&(n=n),n}function it(){var n;return 40===e.charCodeAt(kn)?(n="(",kn++):(n=r,0===En&&Pn(Me)),n}function at(){var n;return 41===e.charCodeAt(kn)?(n=")",kn++):(n=r,0===En&&Pn(Te)),n}function st(){var e,n,t,o;if(e=kn,(n=ct())!==r){for(t=[],o=ut();o!==r;)t.push(o),o=ut();t!==r?e=n=n:(kn=e,e=r)}else kn=e,e=r;return e}function ct(){var n,t,o;if(En++,n=kn,t=[],J.test(e.charAt(kn))?(o=e.charAt(kn),kn++):(o=r,0===En&&Pn(Z)),o!==r)for(;o!==r;)t.push(o),J.test(e.charAt(kn))?(o=e.charAt(kn),kn++):(o=r,0===En&&Pn(Z));else t=r;return t!==r&&(t=ce(t)),En--,(n=t)===r&&(t=r,0===En&&Pn(Pe)),n}function lt(){var n,t;if(n=[],32===e.charCodeAt(kn)?(t=" ",kn++):(t=r,0===En&&Pn(Ne)),t!==r)for(;t!==r;)n.push(t),32===e.charCodeAt(kn)?(t=" ",kn++):(t=r,0===En&&Pn(Ne));else n=r;return n!==r&&(n=""),n}function ut(){var n;return(n=function(){var n;return 46===e.charCodeAt(kn)?(n=".",kn++):(n=r,0===En&&Pn(ee)),n}())===r&&(n=lt()),n}function dt(){var n,t,o,i,a,s,c,l,u,d,f,p,g,h,m,v,b;return n=kn,(t=mt())===r&&(t=null),t!==r?(o=kn,En++,i=function(){var e,n,t,o,i;return e=kn,(n=ht())!==r?((t=yt())===r&&(t=null),t!==r&&(o=vt())!==r&&(i=bt())!==r?e=n=[n,t,o,i]:(kn=e,e=r)):(kn=e,e=r),e}(),En--,i!==r?(kn=o,o=void 0):o=r,o!==r&&(i=ht())!==r?((a=yt())===r&&(a=null),a!==r&&(s=vt())!==r&&(c=bt())!==r?((l=pt())===r&&(l=null),l!==r?((u=ft())===r&&(u=null),u!==r?(f=i,p=a,g=s,h=c,m=l,v=u,(b={}).fig=(d=t)||null,b.disc=f||null,b.strike=p||null,b.col=g,b.row=h,b.check=v||null,b.promotion=m,b.notation=(d||"")+(f||"")+(p||"")+g+h+(m||"")+(v||""),n=t=b):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n===r&&(n=kn,(t=mt())===r&&(t=null),t!==r&&(o=vt())!==r&&(i=bt())!==r?((a=function(){var n;return 120===e.charCodeAt(kn)?(n="x",kn++):(n=r,0===En&&Pn(wn)),n===r&&(45===e.charCodeAt(kn)?(n="-",kn++):(n=r,0===En&&Pn(se))),n}())===r&&(a=null),a!==r&&(s=vt())!==r&&(c=bt())!==r?((l=pt())===r&&(l=null),l!==r?((u=ft())===r&&(u=null),u!==r?n=t=function(e,n,t,o,r,i,a,s){var c={};return c.fig=e||null,c.strike="x"==o?o:null,c.col=r,c.row=i,c.check=s||null,c.notation=(e&&"P"!==e?e:"")+n+t+("x"==o?o:"-")+r+i+(a||"")+(s||""),c.promotion=a,c}(t,o,i,a,s,c,l,u):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n===r&&(n=kn,(t=mt())===r&&(t=null),t!==r?((o=yt())===r&&(o=null),o!==r&&(i=vt())!==r&&(a=bt())!==r?((s=pt())===r&&(s=null),s!==r?((c=ft())===r&&(c=null),c!==r?n=t=function(e,n,t,o,r,i){var a={};return a.fig=e||null,a.strike=n||null,a.col=t,a.row=o,a.check=i||null,a.notation=(e||"")+(n||"")+t+o+(r||"")+(i||""),a.promotion=r,a}(t,o,i,a,s,c):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n===r&&(n=kn,"O-O-O"===e.substr(kn,5)?(t="O-O-O",kn+=5):(t=r,0===En&&Pn(Le)),t!==r?((o=ft())===r&&(o=null),o!==r?n=t=function(e){var n={};return n.notation="O-O-O"+(e||""),n.check=e||null,n}(o):(kn=n,n=r)):(kn=n,n=r),n===r&&(n=kn,"O-O"===e.substr(kn,3)?(t="O-O",kn+=3):(t=r,0===En&&Pn(je)),t!==r?((o=ft())===r&&(o=null),o!==r?n=t=function(e){var n={};return n.notation="O-O"+(e||""),n.check=e||null,n}(o):(kn=n,n=r)):(kn=n,n=r))))),n}function ft(){var n,t,o,i;return n=kn,t=kn,o=kn,En++,"+-"===e.substr(kn,2)?(i="+-",kn+=2):(i=r,0===En&&Pn(Re)),En--,i===r?o=void 0:(kn=o,o=r),o!==r?(43===e.charCodeAt(kn)?(i="+",kn++):(i=r,0===En&&Pn(Ie)),i!==r?t=o=[o,i]:(kn=t,t=r)):(kn=t,t=r),t!==r&&(t=Be(t)),(n=t)===r&&(n=kn,t=kn,o=kn,En++,"$$$"===e.substr(kn,3)?(i="$$$",kn+=3):(i=r,0===En&&Pn(De)),En--,i===r?o=void 0:(kn=o,o=r),o!==r?(35===e.charCodeAt(kn)?(i="#",kn++):(i=r,0===En&&Pn(qe)),i!==r?t=o=[o,i]:(kn=t,t=r)):(kn=t,t=r),t!==r&&(t=Be(t)),n=t),n}function pt(){var n,t,o;return n=kn,61===e.charCodeAt(kn)?(t="=",kn++):(t=r,0===En&&Pn(Fe)),t!==r&&(o=function(){var n;return gn.test(e.charAt(kn))?(n=e.charAt(kn),kn++):(n=r,0===En&&Pn(hn)),n}())!==r?n=t="="+o:(kn=n,n=r),n}function gt(){var n,t,o,i,a,s;return n=kn,(t=function(){var n,t,o;return n=kn,36===e.charCodeAt(kn)?(t="$",kn++):(t=r,0===En&&Pn(Ue)),t!==r&&(o=ct())!==r?n=t="$"+o:(kn=n,n=r),n===r&&(n=kn,"!!"===e.substr(kn,2)?(t="!!",kn+=2):(t=r,0===En&&Pn(Ke)),t!==r&&(t="$3"),(n=t)===r&&(n=kn,"??"===e.substr(kn,2)?(t="??",kn+=2):(t=r,0===En&&Pn(ze)),t!==r&&(t="$4"),(n=t)===r&&(n=kn,"!?"===e.substr(kn,2)?(t="!?",kn+=2):(t=r,0===En&&Pn(Ge)),t!==r&&(t="$5"),(n=t)===r&&(n=kn,"?!"===e.substr(kn,2)?(t="?!",kn+=2):(t=r,0===En&&Pn($e)),t!==r&&(t="$6"),(n=t)===r&&(n=kn,33===e.charCodeAt(kn)?(t="!",kn++):(t=r,0===En&&Pn(Ve)),t!==r&&(t="$1"),(n=t)===r&&(n=kn,63===e.charCodeAt(kn)?(t="?",kn++):(t=r,0===En&&Pn(He)),t!==r&&(t="$2"),(n=t)===r&&(n=kn,8252===e.charCodeAt(kn)?(t="‼",kn++):(t=r,0===En&&Pn(We)),t!==r&&(t="$3"),(n=t)===r&&(n=kn,8263===e.charCodeAt(kn)?(t="⁇",kn++):(t=r,0===En&&Pn(Ye)),t!==r&&(t="$4"),(n=t)===r&&(n=kn,8265===e.charCodeAt(kn)?(t="⁉",kn++):(t=r,0===En&&Pn(Qe)),t!==r&&(t="$5"),(n=t)===r&&(n=kn,8264===e.charCodeAt(kn)?(t="⁈",kn++):(t=r,0===En&&Pn(Xe)),t!==r&&(t="$6"),(n=t)===r&&(n=kn,9633===e.charCodeAt(kn)?(t="□",kn++):(t=r,0===En&&Pn(Je)),t!==r&&(t="$7"),(n=t)===r&&(n=kn,61===e.charCodeAt(kn)?(t="=",kn++):(t=r,0===En&&Pn(Fe)),t!==r&&(t="$10"),(n=t)===r&&(n=kn,8734===e.charCodeAt(kn)?(t="∞",kn++):(t=r,0===En&&Pn(Ze)),t!==r&&(t="$13"),(n=t)===r&&(n=kn,10866===e.charCodeAt(kn)?(t="⩲",kn++):(t=r,0===En&&Pn(en)),t!==r&&(t="$14"),(n=t)===r&&(n=kn,10865===e.charCodeAt(kn)?(t="⩱",kn++):(t=r,0===En&&Pn(nn)),t!==r&&(t="$15"),(n=t)===r&&(n=kn,177===e.charCodeAt(kn)?(t="±",kn++):(t=r,0===En&&Pn(tn)),t!==r&&(t="$16"),(n=t)===r&&(n=kn,8723===e.charCodeAt(kn)?(t="∓",kn++):(t=r,0===En&&Pn(on)),t!==r&&(t="$17"),(n=t)===r&&(n=kn,"+-"===e.substr(kn,2)?(t="+-",kn+=2):(t=r,0===En&&Pn(Re)),t!==r&&(t="$18"),(n=t)===r&&(n=kn,"-+"===e.substr(kn,2)?(t="-+",kn+=2):(t=r,0===En&&Pn(rn)),t!==r&&(t="$19"),(n=t)===r&&(n=kn,10752===e.charCodeAt(kn)?(t="⨀",kn++):(t=r,0===En&&Pn(an)),t!==r&&(t="$22"),(n=t)===r&&(n=kn,10227===e.charCodeAt(kn)?(t="⟳",kn++):(t=r,0===En&&Pn(sn)),t!==r&&(t="$32"),(n=t)===r&&(n=kn,8594===e.charCodeAt(kn)?(t="→",kn++):(t=r,0===En&&Pn(cn)),t!==r&&(t="$36"),(n=t)===r&&(n=kn,8593===e.charCodeAt(kn)?(t="↑",kn++):(t=r,0===En&&Pn(ln)),t!==r&&(t="$40"),(n=t)===r&&(n=kn,8646===e.charCodeAt(kn)?(t="⇆",kn++):(t=r,0===En&&Pn(un)),t!==r&&(t="$132"),(n=t)===r&&(n=kn,68===e.charCodeAt(kn)?(t="D",kn++):(t=r,0===En&&Pn(dn)),t!==r&&(t="$220"),n=t))))))))))))))))))))))))),n}())!==r?((o=lt())===r&&(o=null),o!==r?((i=gt())===r&&(i=null),i!==r?(a=t,(s=i||[]).unshift(a),n=t=s):(kn=n,n=r)):(kn=n,n=r)):(kn=n,n=r),n}function ht(){var e;return(e=vt())===r&&(e=bt()),e}function mt(){var n;return fn.test(e.charAt(kn))?(n=e.charAt(kn),kn++):(n=r,0===En&&Pn(pn)),n}function vt(){var n;return mn.test(e.charAt(kn))?(n=e.charAt(kn),kn++):(n=r,0===En&&Pn(vn)),n}function bt(){var n;return bn.test(e.charAt(kn))?(n=e.charAt(kn),kn++):(n=r,0===En&&Pn(yn)),n}function yt(){var n;return 120===e.charCodeAt(kn)?(n="x",kn++):(n=r,0===En&&Pn(wn)),n}if((t=a())!==r&&kn===e.length)return t;throw t!==r&&kn<e.length&&Pn({type:"end"}),function(e,n,t){return new o(o.buildMessage(e,n),e,n,t)}(Cn,On<e.length?e.charAt(On):null,On<e.length?Tn(On,On+1):Tn(On,On))}}},function(e,n,t){var o,r=function(e){var n="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",t=["1-0","0-1","1/2-1/2","*"],o={b:[16,32,17,15],w:[-16,-32,-17,-15]},r={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},i=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],a=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],s={p:0,n:1,b:2,r:3,q:4,k:5},c={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},l={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},u={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},d={w:[{square:u.a1,flag:l.QSIDE_CASTLE},{square:u.h1,flag:l.KSIDE_CASTLE}],b:[{square:u.a8,flag:l.QSIDE_CASTLE},{square:u.h8,flag:l.KSIDE_CASTLE}]},f=new Array(128),p={w:-1,b:-1},g="w",h={w:0,b:0},m=-1,v=0,b=1,y=[],w={};function k(e){void 0===e&&(e=!1),f=new Array(128),p={w:-1,b:-1},g="w",h={w:0,b:0},m=-1,v=0,b=1,y=[],e||(w={}),A(E())}function x(){O(n)}function O(e,n){void 0===n&&(n=!1);var t=e.split(/\s+/),o=t[0],r=0;if(!C(e).valid)return!1;k(n);for(var i=0;i<o.length;i++){var a=o.charAt(i);if("/"===a)r+=8;else if(-1!=="0123456789".indexOf(a))r+=parseInt(a,10);else{var s=a<"a"?"w":"b";M({type:a.toLowerCase(),color:s},V(r)),r++}}return g=t[1],t[2].indexOf("K")>-1&&(h.w|=l.KSIDE_CASTLE),t[2].indexOf("Q")>-1&&(h.w|=l.QSIDE_CASTLE),t[2].indexOf("k")>-1&&(h.b|=l.KSIDE_CASTLE),t[2].indexOf("q")>-1&&(h.b|=l.QSIDE_CASTLE),m="-"===t[3]?-1:u[t[3]],v=parseInt(t[4],10),b=parseInt(t[5],10),A(E()),!0}function C(e){var n=e.split(/\s+/);if(6!==n.length)return{valid:!1,error_number:1,error:"FEN string must contain six space-delimited fields."};if(isNaN(n[5])||parseInt(n[5],10)<=0)return{valid:!1,error_number:2,error:"6th field (move number) must be a positive integer."};if(isNaN(n[4])||parseInt(n[4],10)<0)return{valid:!1,error_number:3,error:"5th field (half move counter) must be a non-negative integer."};if(!/^(-|[abcdefgh][36])$/.test(n[3]))return{valid:!1,error_number:4,error:"4th field (en-passant square) is invalid."};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(n[2]))return{valid:!1,error_number:5,error:"3rd field (castling availability) is invalid."};if(!/^(w|b)$/.test(n[1]))return{valid:!1,error_number:6,error:"2nd field (side to move) is invalid."};var t=n[0].split("/");if(8!==t.length)return{valid:!1,error_number:7,error:"1st field (piece positions) does not contain 8 '/'-delimited rows."};for(var o=0;o<t.length;o++){for(var r=0,i=!1,a=0;a<t[o].length;a++)if(isNaN(t[o][a])){if(!/^[prnbqkPRNBQK]$/.test(t[o][a]))return{valid:!1,error_number:9,error:"1st field (piece positions) is invalid [invalid piece]."};r+=1,i=!1}else{if(i)return{valid:!1,error_number:8,error:"1st field (piece positions) is invalid [consecutive numbers]."};r+=parseInt(t[o][a],10),i=!0}if(8!==r)return{valid:!1,error_number:10,error:"1st field (piece positions) is invalid [row too large]."}}return"3"==n[3][1]&&"w"==n[1]||"6"==n[3][1]&&"b"==n[1]?{valid:!1,error_number:11,error:"Illegal en-passant square"}:{valid:!0,error_number:0,error:"No errors."}}function E(){for(var e=0,n="",t=u.a8;t<=u.h1;t++){if(null==f[t])e++;else{e>0&&(n+=e,e=0);var o=f[t].color,r=f[t].type;n+="w"===o?r.toUpperCase():r.toLowerCase()}t+1&136&&(e>0&&(n+=e),t!==u.h1&&(n+="/"),e=0,t+=8)}var i="";h.w&l.KSIDE_CASTLE&&(i+="K"),h.w&l.QSIDE_CASTLE&&(i+="Q"),h.b&l.KSIDE_CASTLE&&(i+="k"),h.b&l.QSIDE_CASTLE&&(i+="q"),i=i||"-";var a=-1===m?"-":V(m);return[n,g,i,a,v,b].join(" ")}function _(e){for(var n=0;n<e.length;n+=2)"string"==typeof e[n]&&"string"==typeof e[n+1]&&(w[e[n]]=e[n+1]);return w}function A(e){y.length>0||(e!==n?(w.SetUp="1",w.FEN=e):(delete w.SetUp,delete w.FEN))}function S(e){var n=f[u[e]];return n?{type:n.type,color:n.color}:null}function M(e,n){if(!("type"in e)||!("color"in e))return!1;if(-1==="pnbrqkPNBRQK".indexOf(e.type.toLowerCase()))return!1;if(!(n in u))return!1;var t=u[n];return("k"!=e.type||-1==p[e.color]||p[e.color]==t)&&(f[t]={type:e.type,color:e.color},"k"===e.type&&(p[e.color]=t),A(E()),!0)}function T(e,n,t,o,r){var i={color:g,from:n,to:t,flags:o,piece:e[n].type};return r&&(i.flags|=l.PROMOTION,i.promotion=r),e[t]?i.captured=e[t].type:o&l.EP_CAPTURE&&(i.captured="p"),i}function P(e){function n(e,n,t,o,r){if("p"!==e[t].type||0!==G(o)&&7!==G(o))n.push(T(e,t,o,r));else for(var i=["q","r","b","n"],a=0,s=i.length;a<s;a++)n.push(T(e,t,o,r,i[a]))}var t=[],i=g,a=H(i),s={b:1,w:6},c=u.a8,d=u.h1,v=!1,b=void 0===e||!("legal"in e)||e.legal;if(void 0!==e&&"square"in e){if(!(e.square in u))return[];c=d=u[e.square],v=!0}for(var y=c;y<=d;y++)if(136&y)y+=7;else{var w=f[y];if(null!=w&&w.color===i)if("p"===w.type){var k=y+o[i][0];for(null==f[k]&&(n(f,t,y,k,l.NORMAL),k=y+o[i][1],s[i]===G(y)&&null==f[k]&&n(f,t,y,k,l.BIG_PAWN)),x=2;x<4;x++)136&(k=y+o[i][x])||(null!=f[k]&&f[k].color===a?n(f,t,y,k,l.CAPTURE):k===m&&n(f,t,y,m,l.EP_CAPTURE))}else for(var x=0,O=r[w.type].length;x<O;x++){var C=r[w.type][x];for(k=y;!(136&(k+=C));){if(null!=f[k]){if(f[k].color===i)break;n(f,t,y,k,l.CAPTURE);break}if(n(f,t,y,k,l.NORMAL),"n"===w.type||"k"===w.type)break}}}if(!v||d===p[i]){if(h[i]&l.KSIDE_CASTLE){var E=(_=p[i])+2;null!=f[_+1]||null!=f[E]||j(a,p[i])||j(a,_+1)||j(a,E)||n(f,t,p[i],E,l.KSIDE_CASTLE)}var _;h[i]&l.QSIDE_CASTLE&&(E=(_=p[i])-2,null!=f[_-1]||null!=f[_-2]||null!=f[_-3]||j(a,p[i])||j(a,_-1)||j(a,E)||n(f,t,p[i],E,l.QSIDE_CASTLE))}if(!b)return t;var A=[];for(y=0,O=t.length;y<O;y++)U(t[y]),R(i)||A.push(t[y]),K();return A}function N(e,n){var t="";if(e.flags&l.KSIDE_CASTLE)t="O-O";else if(e.flags&l.QSIDE_CASTLE)t="O-O-O";else{var o=function(e,n){for(var t=P({legal:!n}),o=e.from,r=e.to,i=e.piece,a=0,s=0,c=0,l=0,u=t.length;l<u;l++){var d=t[l].from,f=t[l].to;i===t[l].piece&&o!==d&&r===f&&(a++,G(o)===G(d)&&s++,$(o)===$(d)&&c++)}return a>0?s>0&&c>0?V(o):c>0?V(o).charAt(1):V(o).charAt(0):""}(e,n);"p"!==e.piece&&(t+=e.piece.toUpperCase()+o),e.flags&(l.CAPTURE|l.EP_CAPTURE)&&("p"===e.piece&&(t+=V(e.from)[0]),t+="x"),t+=V(e.to),e.flags&l.PROMOTION&&(t+="="+e.promotion.toUpperCase())}return U(e),I()&&(B()?t+="#":t+="+"),K(),t}function L(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function j(e,n){for(var t=u.a8;t<=u.h1;t++)if(136&t)t+=7;else if(null!=f[t]&&f[t].color===e){var o=f[t],r=t-n,c=r+119;if(i[c]&1<<s[o.type]){if("p"===o.type){if(r>0){if("w"===o.color)return!0}else if("b"===o.color)return!0;continue}if("n"===o.type||"k"===o.type)return!0;for(var l=a[c],d=t+l,p=!1;d!==n;){if(null!=f[d]){p=!0;break}d+=l}if(!p)return!0}}return!1}function R(e){return j(H(e),p[e])}function I(){return R(g)}function B(){return I()&&0===P().length}function D(){return!I()&&0===P().length}function q(){for(var e={},n=[],t=0,o=0,r=u.a8;r<=u.h1;r++)if(o=(o+1)%2,136&r)r+=7;else{var i=f[r];i&&(e[i.type]=i.type in e?e[i.type]+1:1,"b"===i.type&&n.push(o),t++)}if(2===t)return!0;if(3===t&&(1===e.b||1===e.n))return!0;if(t===e.b+2){var a=0,s=n.length;for(r=0;r<s;r++)a+=n[r];if(0===a||a===s)return!0}return!1}function F(){for(var e=[],n={},t=!1;;){var o=K();if(!o)break;e.push(o)}for(;;){var r=E().split(" ").slice(0,4).join(" ");if(n[r]=r in n?n[r]+1:1,n[r]>=3&&(t=!0),!e.length)break;U(e.pop())}return t}function U(e){var n=g,t=H(n);if(function(e){y.push({move:e,kings:{b:p.b,w:p.w},turn:g,castling:{b:h.b,w:h.w},ep_square:m,half_moves:v,move_number:b})}(e),f[e.to]=f[e.from],f[e.from]=null,e.flags&l.EP_CAPTURE&&("b"===g?f[e.to-16]=null:f[e.to+16]=null),e.flags&l.PROMOTION&&(f[e.to]={type:e.promotion,color:n}),"k"===f[e.to].type){if(p[f[e.to].color]=e.to,e.flags&l.KSIDE_CASTLE){var o=e.to-1,r=e.to+1;f[o]=f[r],f[r]=null}else e.flags&l.QSIDE_CASTLE&&(o=e.to+1,r=e.to-2,f[o]=f[r],f[r]=null);h[n]=""}if(h[n])for(var i=0,a=d[n].length;i<a;i++)if(e.from===d[n][i].square&&h[n]&d[n][i].flag){h[n]^=d[n][i].flag;break}if(h[t])for(i=0,a=d[t].length;i<a;i++)if(e.to===d[t][i].square&&h[t]&d[t][i].flag){h[t]^=d[t][i].flag;break}m=e.flags&l.BIG_PAWN?"b"===g?e.to-16:e.to+16:-1,"p"===e.piece||e.flags&(l.CAPTURE|l.EP_CAPTURE)?v=0:v++,"b"===g&&b++,g=H(g)}function K(){var e=y.pop();if(null==e)return null;var n=e.move;p=e.kings,g=e.turn,h=e.castling,m=e.ep_square,v=e.half_moves,b=e.move_number;var t,o,r=g,i=H(g);if(f[n.from]=f[n.to],f[n.from].type=n.piece,f[n.to]=null,n.flags&l.CAPTURE)f[n.to]={type:n.captured,color:i};else if(n.flags&l.EP_CAPTURE){var a;a="b"===r?n.to-16:n.to+16,f[a]={type:"p",color:i}}return n.flags&(l.KSIDE_CASTLE|l.QSIDE_CASTLE)&&(n.flags&l.KSIDE_CASTLE?(t=n.to+1,o=n.to-1):n.flags&l.QSIDE_CASTLE&&(t=n.to-2,o=n.to+1),f[t]=f[o],f[o]=null),n}function z(e,n){var t=L(e);if(n){var o=t.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(o)var r=o[1],i=o[2],a=o[3],s=o[4]}for(var c=P(),l=0,d=c.length;l<d;l++){if(t===L(N(c[l]))||n&&t===L(N(c[l],!0)))return c[l];if(o&&(!r||r.toLowerCase()==c[l].piece)&&u[i]==c[l].from&&u[a]==c[l].to&&(!s||s.toLowerCase()==c[l].promotion))return c[l]}return null}function G(e){return e>>4}function $(e){return 15&e}function V(e){var n=$(e),t=G(e);return"abcdefgh".substring(n,n+1)+"87654321".substring(t,t+1)}function H(e){return"w"===e?"b":"w"}function W(e){var n=function e(n){var t=n instanceof Array?[]:{};for(var o in n)t[o]="object"==typeof o?e(n[o]):n[o];return t}(e);n.san=N(n,!1),n.to=V(n.to),n.from=V(n.from);var t="";for(var o in l)l[o]&n.flags&&(t+=c[o]);return n.flags=t,n}function Y(e){return e.replace(/^\s+|\s+$/g,"")}return O(void 0===e?n:e),{WHITE:"w",BLACK:"b",PAWN:"p",KNIGHT:"n",BISHOP:"b",ROOK:"r",QUEEN:"q",KING:"k",SQUARES:function(){for(var e=[],n=u.a8;n<=u.h1;n++)136&n?n+=7:e.push(V(n));return e}(),FLAGS:c,load:function(e){return O(e)},reset:function(){return x()},moves:function(e){for(var n=P(e),t=[],o=0,r=n.length;o<r;o++)void 0!==e&&"verbose"in e&&e.verbose?t.push(W(n[o])):t.push(N(n[o],!1));return t},in_check:function(){return I()},in_checkmate:function(){return B()},in_stalemate:function(){return D()},in_draw:function(){return v>=100||D()||q()||F()},insufficient_material:function(){return q()},in_threefold_repetition:function(){return F()},game_over:function(){return v>=100||B()||D()||q()||F()},validate_fen:function(e){return C(e)},fen:function(){return E()},board:function(){for(var e=[],n=[],t=u.a8;t<=u.h1;t++)null==f[t]?n.push(null):n.push({type:f[t].type,color:f[t].color}),t+1&136&&(e.push(n),n=[],t+=8);return e},pgn:function(e){var n="object"==typeof e&&"string"==typeof e.newline_char?e.newline_char:"\n",t="object"==typeof e&&"number"==typeof e.max_width?e.max_width:0,o=[],r=!1;for(var i in w)o.push("["+i+' "'+w[i]+'"]'+n),r=!0;r&&y.length&&o.push(n);for(var a=[];y.length>0;)a.push(K());for(var s=[],c="";a.length>0;){var l=a.pop();y.length||"b"!==l.color?"w"===l.color&&(c.length&&s.push(c),c=b+"."):c=b+". ...",c=c+" "+N(l,!1),U(l)}if(c.length&&s.push(c),void 0!==w.Result&&s.push(w.Result),0===t)return o.join("")+s.join(" ");var u=0;for(i=0;i<s.length;i++)u+s[i].length>t&&0!==i?(" "===o[o.length-1]&&o.pop(),o.push(n),u=0):0!==i&&(o.push(" "),u++),o.push(s[i]),u+=s[i].length;return o.join("")},load_pgn:function(e,n){var o=void 0!==n&&"sloppy"in n&&n.sloppy;function r(e){return e.replace(/\\/g,"\\")}var i="object"==typeof n&&"string"==typeof n.newline_char?n.newline_char:"\r?\n",a=new RegExp("^(\\[((?:"+r(i)+")|.)*\\])(?:"+r(i)+"){2}"),s=a.test(e)?a.exec(e)[1]:"";x();var c=function(e,n){for(var t="object"==typeof n&&"string"==typeof n.newline_char?n.newline_char:"\r?\n",o={},i=e.split(new RegExp(r(t))),a="",s="",c=0;c<i.length;c++)a=i[c].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),s=i[c].replace(/^\[[A-Za-z]+\s"(.*)"\]$/,"$1"),Y(a).length>0&&(o[a]=s);return o}(s,n);for(var l in c)_([l,c[l]]);if(!("1"!==c.SetUp||"FEN"in c&&O(c.FEN,!0)))return!1;var u=e.replace(s,"").replace(new RegExp(r(i),"g")," ");u=u.replace(/(\{[^}]+\})+?/g,"");for(var d=/(\([^\(\)]+\))+?/g;d.test(u);)u=u.replace(d,"");var f=Y(u=(u=(u=u.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));f=f.join(",").replace(/,,+/g,",").split(",");for(var p="",g=0;g<f.length-1;g++){if(null==(p=z(f[g],o)))return!1;U(p)}if(p=f[f.length-1],t.indexOf(p)>-1)(function(e){for(var n in e)return!0;return!1})(w)&&void 0===w.Result&&_(["Result",p]);else{if(null==(p=z(p,o)))return!1;U(p)}return!0},header:function(){return _(arguments)},ascii:function(){return function(){for(var e="   +------------------------+\n",n=u.a8;n<=u.h1;n++){if(0===$(n)&&(e+=" "+"87654321"[G(n)]+" |"),null==f[n])e+=" . ";else{var t=f[n].type;e+=" "+("w"===f[n].color?t.toUpperCase():t.toLowerCase())+" "}n+1&136&&(e+="|\n",n+=8)}return(e+="   +------------------------+\n")+"     a  b  c  d  e  f  g  h\n"}()},turn:function(){return g},move:function(e,n){var t=void 0!==n&&"sloppy"in n&&n.sloppy,o=null;if("string"==typeof e)o=z(e,t);else if("object"==typeof e)for(var r=P(),i=0,a=r.length;i<a;i++)if(e.from===V(r[i].from)&&e.to===V(r[i].to)&&(!("promotion"in r[i])||e.promotion===r[i].promotion)){o=r[i];break}if(!o)return null;var s=W(o);return U(o),s},undo:function(){var e=K();return e?W(e):null},clear:function(){return k()},put:function(e,n){return M(e,n)},get:function(e){return S(e)},remove:function(e){return function(e){var n=S(e);return f[u[e]]=null,n&&"k"===n.type&&(p[n.color]=-1),A(E()),n}(e)},perft:function(e){return function e(n){for(var t=P({legal:!1}),o=0,r=g,i=0,a=t.length;i<a;i++)U(t[i]),R(r)||(n-1>0?o+=e(n-1):o++),K();return o}(e)},square_color:function(e){if(e in u){var n=u[e];return(G(n)+$(n))%2==0?"light":"dark"}return null},history:function(e){for(var n=[],t=[],o=(void 0!==e&&"verbose"in e&&e.verbose);y.length>0;)n.push(K());for(;n.length>0;){var r=n.pop();o?t.push(W(r)):t.push(N(r)),U(r)}return t}}
/* @license
 * Copyright (c) 2018, Jeff Hlywa (jhlywa@gmail.com)
 * Released under the BSD license
 * https://github.com/jhlywa/chess.js/blob/master/LICENSE
 */};n.Chess=r,void 0===(o=function(){return r}.call(n,t,n,e))||(e.exports=o)},function(e,n,t){"use strict";t.r(n),t.d(n,"StringBuilder",(function(){return s})),t.d(n,"Utils",(function(){return c})),t.d(n,"pgnReader",(function(){return l}));var o=t(0),r=t.n(o),i=t(1),a=t.n(i);function s(e){let n={};n.strings=new Array("");let t=function(e){e&&n.strings.push(e)};return t(e),{append:t,toString:function(){return n.strings.join("")},isEmpty:function(){for(let e=0;e<n.strings.length;e++)if(n.strings[e].length>0)return!1;return!0},lastChar:function(){return 0===n.strings.length?null:n.strings[n.strings.length-1].slice(-1)}}}function c(){let e=Array.isArray,n=Math.pow(2,53)-1,t=function(e){const t=r(e);return"number"==typeof t&&t>=0&&t<=n},o=e||function(e){return Array.isArray(e)},r=function(e){return null==e?void 0:e.length};return{pvEach:function(e,n,o){let r,i;if(n=function(e,n,t){return void 0===n?e:function(t,o,r){return e.call(n,t,o,r)}}(n,o),t(e))for(r=0,i=e.length;r<i;r++)n(e[r],r,e);else{let t=Object.keys(e);for(r=0,i=t.length;r<i;r++)n(e[t[r]],t[r],e)}return e},pvIsElement:function(e){return!(!e||1!==e.nodeType)},pvIsEmpty:function(e){return null==e||(t(e)&&(o(e)||function(e){return"[object String]"===toString.call(e)}(e)||function(e){return"[object Arguments]"===toString.call(e)}(e))?0===e.length:0===Object.keys(e).length)}}}const l=function(e){const n={};let t=new c;n.configuration=function(e){return void 0===e.pgn&&(void 0===e.pgnFile?e.pgn="":e.pgn=function(e){const n=new XMLHttpRequest;if(n.open("GET",e,!1),n.send(),200===n.status)return n.responseText}(e.pgnFile)),Object.assign({notation:"short",position:"start",locale:"en"},e)}(e),n.startMove=0;const o=new a.a,i=function(){"start"===n.configuration.position?o.reset():o.load(n.configuration.position)};n.PGN_TAGS={event:"the name of the tournament or match event",site:"the location of the event",date:"the starting date of the game (format: YYYY.MM.TT)",round:"the playing round ordinal of the game",white:"the player of the white pieces (last name, pre name)",black:"the player of the black pieces (last name, pre name)",result:"the result of the game (1 - 0, 1/2 - 1/2, 0 - 1)",board:"the board number in a team event",eco:"ECO-Opening-Key (ECO = 'Encyclopaedia of Chess Openings')",whitemyelo:"myELO-score white (at the beginning of the game)",blackmyelo:"myELO-score black (at the beginning of the game)",whitedays:"rate in days for white",blackdays:"rate in days for black",mychessno:"identification-no. of the game on the myChess.de - server",annotator:"The person providing notes to the game.",plycount:"String value denoting total number of half-moves played.",timecontrol:"40/7200:3600 (moves per seconds: sudden death seconds)",time:'Time the game started, in "HH:MM:SS" format, in local clock time.',termination:'Gives more details about the termination of the game. It may be "abandoned", "adjudication" (result determined by third-party adjudication), "death", "emergency", "normal", "rules infraction", "time forfeit", or "unterminated".',mode:'"OTB" (over-the-board) "ICS" (Internet Chess Server)',setup:'"0": position is start position, "1": tag FEN defines the position',fen:'Alternative start position, tag SetUp has to be set to "1"'},n.PROMOTIONS={q:"queen",r:"rook",b:"bishop",n:"knight"},n.NAGs=new Array(220),n.NAGs[1]="!",n.NAGs[2]="?",n.NAGs[3]="‼",n.NAGs[4]="⁇",n.NAGs[5]="⁉",n.NAGs[6]="⁈",n.NAGs[7]="□",n.NAGs[10]="=",n.NAGs[13]="∞",n.NAGs[14]="⩲",n.NAGs[15]="⩱",n.NAGs[16]="±",n.NAGs[17]="∓",n.NAGs[18]="+−",n.NAGs[19]="-+",n.NAGs[22]="⨀",n.NAGs[23]="⨀",n.NAGs[32]="⟳",n.NAGs[33]="⟳",n.NAGs[36]="→",n.NAGs[37]="→",n.NAGs[40]="↑",n.NAGs[41]="↑",n.NAGs[44]="=∞",n.NAGs[132]="⇆",n.NAGs[133]="⇆",n.NAGs[136]="⊕",n.NAGs[140]="∆",n.NAGs[146]="N",n.NAGs[220]="D",n.NAGs[221]="D",n.PGN_NAGS={};for(let e=0;e<n.NAGs.length;e++)n.PGN_NAGS[n.NAGs[e]]=e;n.PGN_NAGS["!!"]=3,n.PGN_NAGS["??"]=4,n.PGN_NAGS["!?"]=5,n.PGN_NAGS["?!"]=6;const l=function(e){let t="";if(null==e)return t;for(let o=0;o<e.length;o++){const r=parseInt(e[o].substring(1));if(220!==r){const e=n.NAGs[r];t+=void 0!==e?e:"$"+r}}return t},u=function(e){return"P"===e?"":e},d=function(e){let t=e.notation;if(void 0===t.row)return t.notation;const o=t.fig?u(t.fig):"",r=t.disc?t.disc:"",i=t.strike?t.strike:"",a=t.check?t.check:"",s=t.mate?t.mate:"",c=t.promotion?"="+u(t.promotion.substring(1,2)):"";return"short"===n.configuration.notation?o+r+i+t.col+t.row+c+a+s:"long"===n.configuration.notation?o+e.from+(t.strike?i:"-")+e.to+c+a+s:void 0};let f=function(){let e=r.a.parse(n.configuration.pgn,{startRule:"game"});if(n.tags=e.tags,function(){if(n.tags.SetUp){const e=n.tags.SetUp;n.configuration.position="0"===e?"start":n.tags.FEN}n.tags.Result&&(n.endGame=n.tags.Result)}(),p(e.moves),n.configuration.startPlay&&n.configuration.hideMovesBefore){let e=y(n.configuration.startPlay),t=k();n.configuration.startPlay=null,n.configuration.hideMovesBefore=!1,n.configuration.pgn=t,n.configuration.position=e,f()}return n};const p=function(e){const o=e;!function(e){"string"==typeof e[e.length-1]&&(n.endGame=e.pop())}(o),x(o),"b"===n.configuration.position.split(/\s+/)[1]&&g(0)&&"w"===n.moves[0].turn&&t.pvEach(C(),(function(e){e.turn="w"===e.turn?"b":"w"})),t.pvEach(C(),(function(e){for(let n=0;n<e.variations.length;n++)e.variations[n]=e.variations[n][0]}))},g=function(e){return C().length>e},h=function(e){if(!g(e))return!0;const n=C()[e];return null===n||(0!==e||!n)&&void 0},m=function(e){return C()[e]},v=function(e,n){if(0===arguments.length){const e=m(0);v(e,0)}else if(e.variationLevel=n,void 0!==e.next&&v(m(e.next),n),e.variations)for(let t=0;t<e.variations.length;t++)v(e.variations[t],n+1)};let b=function(e){const t=function(e,n){const t=e[n];return e.splice(n,1),t};if(h(e))return;if(0===e)return void(n.moves=[]);let o=m(e);if(w(o)){const e=m(m(o.prev).next).variations;for(let n=0;e.length;n++)if(e[n]===o)return t(e,n),void 0!==o.next&&b(o.next),void(C()[o.index]=null)}if(0===o.variations.length)return void 0!==o.next&&null!==o.next&&b(o.next),n.moves[o.prev].next=null,void(n.moves[e]=null);if(o.variations.length>0){void 0!==o.next&&b(o.next);let r=t(o.variations,0),i=r.variationLevel;n.moves[o.prev].next=r.index,n.moves[e]=null,v(r,i-1)}},y=function(e){let t=function(e){let o=n.moves[e].fen;return n.moves[e]=null,e<=0||t(e-1),o};if(void 0===e)return;if(null===e)return;if(e<=0)return;let o=t(e-1);return m(e).prev=null,o};const w=function(e){return e.variationLevel>0&&("number"!=typeof e.prev||C()[e.prev].next!==e.index)},k=function(){function e(e){e.isEmpty()||" "===e.lastChar()||e.append(" ")}const t=function(n,t){null!=n&&(e(t),t.append("{"),t.append(n),t.append("}"))},o=function(n,t){e(t),t.append("("),r(n,t),e(t),t.append(")")},r=function(n,i){if(null==n)return;!function(e,n){t(e.commentMove,n)}(n,i),function(n,t){e(t),"w"===n.turn?(t.append(""+n.moveNumber),t.append(".")):w(n)&&(t.append(""+n.moveNumber),t.append("..."))}(n,i),function(e,n){t(e.commentBefore,n)}(n,i),function(n,t){e(t),t.append(n.notation.notation)}(n,i),function(e,n){e.nag&&e.nag.forEach((function(e){n.append(e)}))}(n,i),function(e,n){t(e.commentAfter,n)}(n,i),function(e,n){if((e=>e.commentDiag&&(e.commentDiag.colorArrows&&e.commentDiag.colorArrows.length>0||e.commentDiag.colorFields&&e.commentDiag.colorFields.length>0))(e)){let o=s(""),r=!0;o.append("[%csl "),(e=>e.commentDiag.colorFields||[])(e).forEach(e=>{r?o.append(""):o.append(","),r=!1,o.append(e)}),o.append("]"),r=!0,o.append("[%cal "),(e=>e.commentDiag.colorArrows||[])(e).forEach(e=>{r?o.append(""):o.append(","),r=!1,o.append(e)}),o.append("]"),t(o.toString(),n)}}(n,i),function(e,n){for(let t=0;t<e.variations.length;t++)o(e.variations[t],n)}(n,i);const a=function(e){return e.next?m(e.next):null}(n);r(a,i)},i=s("");let a=0;for(;null===m(a);)a+=1;return c=m(a),r(c,l=i),function(e){n.endGame&&(e.append(" "),e.append(n.endGame))}(l),l.toString();var c,l},x=function(e){n.moves=[];let r=-1;const a=function(e,s,c){let l=null!=c?n.moves[c]:null;t.pvEach(e,(function(e,u){r++,e.variationLevel=s,n.moves.push(e),u>0&&(n.moves[r-1].variationLevel>s?(l=function(e,t){for(;t>=0;){if(n.moves[t].variationLevel===e)return n.moves[t];t--}return null}(s,r-1),c=l.index):(c=r-1,l=n.moves[c])),function(e,n,t,o){null!=o&&(t.prev=n,o.next||(o.next=e)),t.index=e}(r,c,e,l),"number"==typeof e.prev?o.load(m(e.prev).fen):i();let d=o.move(e.notation.notation,{sloppy:!0});if(null===d)throw"No legal move: "+e.notation.notation;let f=o.fen();e.fen=f,e.from=d.from,e.to=d.to,e.notation.notation=d.san,"c"===d.flags&&(e.notation.strike="x"),o.in_checkmate()?e.notation.check="#":o.in_check()&&(e.notation.check="+"),e.moveNumber=function(e){const n=e.split(/\s+/),t=parseInt(n[5],10);return"b"===n[1]?t:t-1}(f),t.pvEach(e.variations,(function(e){a(e,s+1,c)}))}))};n.firstMove=e[0],a(e,0,null)},O=function(e,t){if(0===arguments.length&&(e=m(n.startMove),t=[]),t.push(e),e.variations)for(let n=0;n<e.variations.length;n++)O(e.variations[n],t);return e.next?O(m(e.next),t):t};function C(){return void 0!==n.moves||f(),n.moves}return{configuration:n.configuration,deleteMove:b,deleteMovesBefore:y,isDeleted:h,promoteMove:function(e){const n=function(e){return w(e)?e:n(m(e.prev))},t=m(e);if(void 0===t.variationLevel||0===t.variationLevel)return;const o=n(t),r=m(m(o.prev).next);let i;for(let e=0;e<r.variations.length;e++)r.variations[e]===o&&(i=e);if(i>0){let e=r.variations[i-1];r.variations[i-1]=r.variations[i],r.variations[i]=e}else{let e=r;const n=r.variations;m(r.prev).next=o.index,e.variations=o.variations,o.variations=n,o.variations[0]=e}v()},readMoves:p,findMove:function(e){if(!isNaN(e)){e-=1;let n=m(0);for(;e>0;)e-=1,n=m(n.next);return n}let n=C();for(let t of n){if(t.fen.startsWith(e))return t;if(t.notation.notation===e)return t}},getMoves:C,getOrderedMoves:O,getMove:m,getEndGame:function(){return n.endGame},getTags:function(){return void 0!==n.tags||f(),n.tags},getParser:()=>r.a,movesMainLine:function(){let e=m(n.startMove),t=[];for(t.push(e);e.next;)e=m(e.next),t.push(e);return t},write_pgn:k,nag_to_symbol:l,startVariation:w,startMainLine:function(e){return 0===e.variationLevel&&"number"!=typeof e.prev},endVariation:function(e){return e.variationLevel>0&&!e.next},afterMoveWithVariation:function(e){return C()[e.prev]&&C()[e.prev].variations.length>0},changeNag:function(e,t,o){let r=m(t);null==r.nag&&(r.nag=[]);let i="$"===e[0]?e:function(e){const t=n.PGN_NAGS[e];return"undefined"===t?null:"$"+t}(e);if(o)-1===r.nag.indexOf(i)&&r.nag.push(i);else{let e=r.nag.indexOf(i);e>-1&&r.nag.splice(e,1)}},clearNags:function(e){m(e).nag=[]},addMove:function(e,n){function t(e){i();let n=o.move(e);return void 0===n?null:(void 0===m(0)?null:m(0).notation.notation)===n.san?0:function(e){if(void 0===m(0))return null;let n,t=m(0).variations;for(n in t)if(t[n].notation.notation===e.san)return t[n].moveNumber;return null}(n)}let r=function(e,n){if(null==n)return t(e);let r=m(n);if(void 0===r)return null;o.load(r.fen);let i=o.move(e),a=m(r.next);if(void 0===a)return null;if(a.notation.notation===i.san)return r.next;{let e=m(r.next);for(let n=0;n<e.variations.length;n++){let t=e.variations[n];if(t.notation.notation===i.san)return t.index}}return null}(e,n);if("number"==typeof r)return r;let a={};a.from=e.from,a.to=e.to,a.notation={},a.variations=[],null==n?(i(),a.turn=o.turn(),a.moveNumber=1):(o.load(m(n).fen),a.turn=function(e){return"w"===m(e).turn?"b":"w"}(n),"w"===a.turn?a.moveNumber=m(n).moveNumber+1:a.moveNumber=m(n).moveNumber);let s=o.move(e);a.fen=o.fen(),"O"!==s.san.substring(0,1)?(a.notation.notation=s.san,a.notation.col=s.to.substring(0,1),a.notation.row=s.to.substring(1,2),"p"!==s.piece&&(a.notation.fig=s.piece.charAt(0).toUpperCase()),s.promotion&&(a.notation.promotion="="+s.promotion.toUpperCase()),(s.flags.includes(o.FLAGS.CAPTURE)||s.flags.includes(o.FLAGS.EP_CAPTURE))&&(a.notation.strike="x"),a.notation.ep=s.flags.includes(o.FLAGS.EP_CAPTURE),o.in_check()&&(o.in_checkmate()?a.notation.mate="#":a.notation.check="+")):a.notation.notation=s.san,C().push(a),a.prev=n;let c=C().length-1;return a.index=c,function(e,n,t){let o=m(n);if(void 0===o){if(0===t)return;return m(0).variations.push(e),void(e.variationLevel=1)}o.next?(m(o.next).variations.push(e),e.variationLevel=(o.variationLevel?o.variationLevel:0)+1,"b"===e.turn&&(e.moveNumber=o.moveNumber)):(o.next=t,e.variationLevel=o.variationLevel)}(a,n,c),c},has_diagram_nag:function(e){return void 0!==e.nag&&null!=e.nag&&e.nag.indexOf("$220")>-1},PGN_NAGS:n.PGN_NAGS,PROMOTIONS:n.PROMOTIONS,NAGS:n.NAGs,san:d,sanWithNags:function(e){let n=d(e);return e.nag&&(n+=l(e.nag)),n},game:o,load_pgn:f,possibleMoves:function(e){const n={};return e.SQUARES.forEach(t=>{const o=e.moves({square:t,verbose:!0});o.length&&(n[t]=o.map(e=>e.to))}),n},setShapes:function(e,n){e.commentDiag||(e.commentDiag={}),e.commentDiag.colorArrows=[],e.commentDiag.colorFields=[],n.forEach(n=>{if(n.dest){let t=n.brush.slice(0,1).toUpperCase(),o=n.orig+n.dest;e.commentDiag.colorArrows.push(t+o)}else{let t=n.brush.slice(0,1).toUpperCase(),o=n.orig;e.commentDiag.colorFields.push(t+o)}})}}}}])}).call(this,t(2))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(1),r=t(4);function i(e){return"object"==typeof e}n.configure=function(e,n){if(n.movable&&n.movable.dests&&(e.movable.dests=void 0),function e(n,t){for(let o in t)i(n[o])&&i(t[o])?e(n[o],t[o]):n[o]=t[o]}(e,n),n.fen&&(e.pieces=r.read(n.fen),e.drawable.shapes=[]),n.hasOwnProperty("check")&&o.setCheck(e,n.check||!1),n.hasOwnProperty("lastMove")&&!n.lastMove?e.lastMove=void 0:n.lastMove&&(e.lastMove=n.lastMove),e.selected&&o.setSelected(e,e.selected),(!e.animation.duration||e.animation.duration<100)&&(e.animation.enabled=!1),!e.movable.rookCastle&&e.movable.dests){const n="white"===e.movable.color?1:8,t="e"+n,o=e.movable.dests[t],r=e.pieces[t];if(!o||!r||"king"!==r.role)return;e.movable.dests[t]=o.filter(e=>!(e==="a"+n&&-1!==o.indexOf("c"+n)||e==="h"+n&&-1!==o.indexOf("g"+n)))}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(0);function r(e,n){const t=e(n);return n.dom.redraw(),t}function i(e,n){return{key:e,pos:o.key2pos(e),piece:n}}function a(e){for(let n in e)return!1;return!0}n.anim=function(e,n){return n.animation.enabled?function(e,n){const t=Object.assign({},n.pieces),r=e(n),s=function(e,n){const t={},r=[],a={},s=[],c=[],l={};let u,d,f,p;for(f in e)l[f]=i(f,e[f]);for(const e of o.allKeys)u=n.pieces[e],d=l[e],u?d?o.samePiece(u,d.piece)||(s.push(d),c.push(i(e,u))):c.push(i(e,u)):d&&s.push(d);return c.forEach(e=>{var n,i;n=e,i=s.filter(n=>o.samePiece(e.piece,n.piece)),d=i.sort((e,t)=>o.distanceSq(n.pos,e.pos)-o.distanceSq(n.pos,t.pos))[0],d&&(p=[d.pos[0]-e.pos[0],d.pos[1]-e.pos[1]],t[e.key]=p.concat(p),r.push(d.key))}),s.forEach(e=>{o.containsX(r,e.key)||(a[e.key]=e.piece)}),{anims:t,fadings:a}}(t,n);if(a(s.anims)&&a(s.fadings))n.dom.redraw();else{const e=n.animation.current&&n.animation.current.start;n.animation.current={start:performance.now(),frequency:1/n.animation.duration,plan:s},e||function e(n,t){const o=n.animation.current;if(void 0===o)return void(n.dom.destroyed||n.dom.redrawNow());const r=1-(t-o.start)*o.frequency;if(r<=0)n.animation.current=void 0,n.dom.redrawNow();else{const t=(i=r)<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1;for(let e in o.plan.anims){const n=o.plan.anims[e];n[2]=n[0]*t,n[3]=n[1]*t}n.dom.redrawNow(!0),requestAnimationFrame((t=performance.now())=>e(n,t))}var i}(n,performance.now())}return r}(e,n):r(e,n)},n.render=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(1),r=t(0),i=["green","red","blue","yellow"];function a(e){requestAnimationFrame(()=>{const n=e.drawable.current;if(n){const t=o.getKeyAtDomPos(n.pos,o.whitePov(e),e.dom.bounds());t!==n.mouseSq&&(n.mouseSq=t,n.dest=t!==n.orig?t:void 0,e.dom.redrawNow()),a(e)}})}function s(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function c(e){return i[((e.shiftKey||e.ctrlKey)&&r.isRightButton(e)?1:0)+(e.altKey?2:0)]}function l(e){e.onChange&&e.onChange(e.shapes)}n.start=function(e,n){if(n.touches&&n.touches.length>1)return;n.stopPropagation(),n.preventDefault(),n.ctrlKey?o.unselect(e):o.cancelMove(e);const t=r.eventPosition(n),i=o.getKeyAtDomPos(t,o.whitePov(e),e.dom.bounds());i&&(e.drawable.current={orig:i,pos:t,brush:c(n)},a(e))},n.processDraw=a,n.move=function(e,n){e.drawable.current&&(e.drawable.current.pos=r.eventPosition(n))},n.end=function(e){const n=e.drawable.current;n&&(n.mouseSq&&function(e,n){const t=e=>e.orig===n.orig&&e.dest===n.dest,o=e.shapes.filter(t)[0];o&&(e.shapes=e.shapes.filter(e=>!t(e)));o&&o.brush===n.brush||e.shapes.push(n);l(e)}(e.drawable,n),s(e))},n.cancel=s,n.clear=function(e){e.drawable.shapes.length&&(e.drawable.shapes=[],e.dom.redraw(),l(e.drawable))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(0);function r(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function i({orig:e,dest:n,brush:t,piece:o,modifiers:r},i,s){return[s,e,n,t,n&&i[n]>1,o&&a(o),r&&(c=r,""+(c.lineWidth||""))].filter(e=>e).join("");var c}function a(e){return[e.color,e.role,e.scale].filter(e=>e).join("")}function s(e){const n=c(r("marker"),{id:"arrowhead-"+e.key,orient:"auto",markerWidth:4,markerHeight:8,refX:2.05,refY:2.01});return n.appendChild(c(r("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),n.setAttribute("cgKey",e.key),n}function c(e,n){for(let t in n)e.setAttribute(t,n[t]);return e}function l(e,n){return"white"===n?e:[9-e[0],9-e[1]]}function u(e,n){const t={color:e.color,opacity:Math.round(10*e.opacity)/10,lineWidth:Math.round(n.lineWidth||e.lineWidth)};return t.key=[e.key,n.lineWidth].filter(e=>e).join(""),t}function d(e,n,t){return(e.lineWidth||10)*(n?.85:1)/512*t.width}function f(e,n){return(e.opacity||1)*(n?.9:1)}function p(e,n){return[(e[0]-.5)*n.width/8,(8.5-e[1])*n.height/8]}n.createElement=r,n.renderSvg=function(e,n){const t=e.drawable,a=t.current,g=a&&a.mouseSq?a:void 0,h={};t.shapes.concat(t.autoShapes).concat(g?[g]:[]).forEach(e=>{e.dest&&(h[e.dest]=(h[e.dest]||0)+1)});const m=t.shapes.concat(t.autoShapes).map(e=>({shape:e,current:!1,hash:i(e,h,!1)}));g&&m.push({shape:g,current:!0,hash:i(g,h,!0)});const v=m.map(e=>e.hash).join("");if(v===e.drawable.prevSvgHash)return;e.drawable.prevSvgHash=v;const b=n.firstChild;!function(e,n,t){const o={};let r;n.forEach(n=>{n.shape.dest&&(r=e.brushes[n.shape.brush],n.shape.modifiers&&(r=u(r,n.shape.modifiers)),o[r.key]=r)});const i={};let a=t.firstChild;for(;a;)i[a.getAttribute("cgKey")]=!0,a=a.nextSibling;for(let e in o)i[e]||t.appendChild(s(o[e]))}(t,m,b),function(e,n,t,i,a,s){const g=e.dom.bounds(),h={},m=[];n.forEach(e=>{h[e.hash]=!1});let v,b=s.nextSibling;for(;b;)v=b.getAttribute("cgHash"),h.hasOwnProperty(v)?h[v]=!0:m.push(b),b=b.nextSibling;m.forEach(e=>a.removeChild(e)),n.forEach(n=>{h[n.hash]||a.appendChild(function(e,{shape:n,current:t,hash:i},a,s,g){let h;if(n.piece)h=function(e,n,t,o){const i=p(n,o),a=o.width/8*(t.scale||1),s=t.color[0]+("knight"===t.role?"n":t.role[0]).toUpperCase();return c(r("image"),{className:`${t.role} ${t.color}`,x:i[0]-a/2,y:i[1]-a/2,width:a,height:a,href:e+s+".svg"})}(e.drawable.pieces.baseUrl,l(o.key2pos(n.orig),e.orientation),n.piece,g);else{const i=l(o.key2pos(n.orig),e.orientation);if(n.orig&&n.dest){let m=a[n.brush];n.modifiers&&(m=u(m,n.modifiers)),h=function(e,n,t,o,i,a){const s=function(e,n){return(n?20:10)/512*e.width}(a,i&&!o),l=p(n,a),u=p(t,a),g=u[0]-l[0],h=u[1]-l[1],m=Math.atan2(h,g),v=Math.cos(m)*s,b=Math.sin(m)*s;return c(r("line"),{stroke:e.color,"stroke-width":d(e,o,a),"stroke-linecap":"round","marker-end":"url(#arrowhead-"+e.key+")",opacity:f(e,o),x1:l[0],y1:l[1],x2:u[0]-v,y2:u[1]-b})}(m,i,l(o.key2pos(n.dest),e.orientation),t,s[n.dest]>1,g)}else h=function(e,n,t,o){const i=p(n,o),a=function(e){const n=e.width/512;return[3*n,4*n]}(o),s=(o.width+o.height)/32;return c(r("circle"),{stroke:e.color,"stroke-width":a[t?0:1],fill:"none",opacity:f(e,t),cx:i[0],cy:i[1],r:s-a[1]/2})}(a[n.brush],i,t,g)}return h.setAttribute("cgHash",i),h}(e,n,t,i,g))})}(e,m,t.brushes,h,n,b)}},function(e,n,t){(function(e){var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function i(e,n){this._id=e,this._clearFn=n}n.setTimeout=function(){return new i(r.call(setTimeout,o,arguments),clearTimeout)},n.setInterval=function(){return new i(r.call(setInterval,o,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},n.enroll=function(e,n){clearTimeout(e._idleTimeoutId),e._idleTimeout=n},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var n=e._idleTimeout;n>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),n))},t(29),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,t(2))},function(e,n,t){e.exports=t(19).default},function(e,n,t){!function(){"use strict";e.exports={polyfill:function(){var e=window,n=document;if(!("scrollBehavior"in n.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var t,o=e.HTMLElement||e.Element,r={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:o.prototype.scroll||s,scrollIntoView:o.prototype.scrollIntoView},i=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=(t=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(t)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?g.call(e,n.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):r.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?r.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):g.call(e,n.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,n=arguments[0].top;g.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===n?this.scrollTop:~~n)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var t=f(this),o=t.getBoundingClientRect(),i=this.getBoundingClientRect();t!==n.body?(g.call(this,t,t.scrollLeft+i.left-o.left,t.scrollTop+i.top-o.top),"fixed"!==e.getComputedStyle(t).position&&e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(e,n){this.scrollLeft=e,this.scrollTop=n}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(e,n){return"Y"===n?e.clientHeight+a<e.scrollHeight:"X"===n?e.clientWidth+a<e.scrollWidth:void 0}function u(n,t){var o=e.getComputedStyle(n,null)["overflow"+t];return"auto"===o||"scroll"===o}function d(e){var n=l(e,"Y")&&u(e,"Y"),t=l(e,"X")&&u(e,"X");return n||t}function f(e){for(;e!==n.body&&!1===d(e);)e=e.parentNode||e.host;return e}function p(n){var t,o,r,a,s=(i()-n.startTime)/468;a=s=s>1?1:s,t=.5*(1-Math.cos(Math.PI*a)),o=n.startX+(n.x-n.startX)*t,r=n.startY+(n.y-n.startY)*t,n.method.call(n.scrollable,o,r),o===n.x&&r===n.y||e.requestAnimationFrame(p.bind(e,n))}function g(t,o,a){var c,l,u,d,f=i();t===n.body?(c=e,l=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,d=r.scroll):(c=t,l=t.scrollLeft,u=t.scrollTop,d=s),p({scrollable:c,method:d,startTime:f,startX:l,startY:u,x:o,y:a})}}}}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(21),r=t(9),i=t(24),a=t(25),s=t(26),c=t(28),l=t(12),u=t(0);function d(e){let n=!1;return()=>{n||(n=!0,requestAnimationFrame(()=>{e(),n=!1}))}}n.Chessground=function(e,n){const t=i.defaults();function f(){let n=t.dom&&t.dom.unbind;const o=t.viewOnly&&!t.drawable.visible,r=a.default(e,t,o),i=u.memo(()=>r.board.getBoundingClientRect()),p=e=>{c.default(t),!e&&r.svg&&l.renderSvg(t,r.svg)};t.dom={elements:r,bounds:i,redraw:d(p),redrawNow:p,unbind:n,relative:o},t.drawable.prevSvgHash="",p(!1),s.bindBoard(t),n||(t.dom.unbind=s.bindDocument(t,f)),t.events.insert&&t.events.insert(r)}return r.configure(t,n||{}),f(),o.start(t,f)}},function(e,n,t){var o;!function(r,i,a){if(r){for(var s,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f=1;f<20;++f)c[111+f]="f"+f;for(f=0;f<=9;++f)c[f+96]=f.toString();b.prototype.bind=function(e,n,t){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,n,t),this},b.prototype.unbind=function(e,n){return this.bind.call(this,e,(function(){}),n)},b.prototype.trigger=function(e,n){return this._directMap[e+":"+n]&&this._directMap[e+":"+n]({},e),this},b.prototype.reset=function(){return this._callbacks={},this._directMap={},this},b.prototype.stopCallback=function(e,n){if((" "+n.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(n,t){return null!==n&&n!==i&&(n===t||e(n.parentNode,t))}(n,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var t=e.composedPath()[0];t!==e.target&&(n=t)}return"INPUT"==n.tagName||"SELECT"==n.tagName||"TEXTAREA"==n.tagName||n.isContentEditable},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var n in e)e.hasOwnProperty(n)&&(c[n]=e[n]);s=null},b.init=function(){var e=b(i);for(var n in e)"_"!==n.charAt(0)&&(b[n]=function(n){return function(){return e[n].apply(e,arguments)}}(n))},b.init(),r.Mousetrap=b,e.exports&&(e.exports=b),void 0===(o=function(){return b}.call(n,t,n,e))||(e.exports=o)}function p(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent("on"+n,t)}function g(e){if("keypress"==e.type){var n=String.fromCharCode(e.which);return e.shiftKey||(n=n.toLowerCase()),n}return c[e.which]?c[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function h(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function m(e,n,t){return t||(t=function(){if(!s)for(var e in s={},c)e>95&&e<112||c.hasOwnProperty(e)&&(s[c[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==t&&n.length&&(t="keydown"),t}function v(e,n){var t,o,r,i=[];for(t=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),r=0;r<t.length;++r)o=t[r],d[o]&&(o=d[o]),n&&"keypress"!=n&&u[o]&&(o=u[o],i.push("shift")),h(o)&&i.push(o);return{key:o,modifiers:i,action:n=m(o,i,n)}}function b(e){var n=this;if(e=e||i,!(n instanceof b))return new b(e);n.target=e,n._callbacks={},n._directMap={};var t,o={},r=!1,a=!1,s=!1;function c(e){e=e||{};var n,t=!1;for(n in o)e[n]?t=!0:o[n]=0;t||(s=!1)}function l(e,t,r,i,a,s){var c,l,u,d,f=[],p=r.type;if(!n._callbacks[e])return[];for("keyup"==p&&h(e)&&(t=[e]),c=0;c<n._callbacks[e].length;++c)if(l=n._callbacks[e][c],(i||!l.seq||o[l.seq]==l.level)&&p==l.action&&("keypress"==p&&!r.metaKey&&!r.ctrlKey||(u=t,d=l.modifiers,u.sort().join(",")===d.sort().join(",")))){var g=!i&&l.combo==a,m=i&&l.seq==i&&l.level==s;(g||m)&&n._callbacks[e].splice(c,1),f.push(l)}return f}function u(e,t,o,r){n.stopCallback(t,t.target||t.srcElement,o,r)||!1===e(t,o)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(t),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(t))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=g(e);t&&("keyup"!=e.type||r!==t?n.handleKey(t,function(e){var n=[];return e.shiftKey&&n.push("shift"),e.altKey&&n.push("alt"),e.ctrlKey&&n.push("ctrl"),e.metaKey&&n.push("meta"),n}(e),e):r=!1)}function f(e,n,i,a){function l(n){return function(){s=n,++o[e],clearTimeout(t),t=setTimeout(c,1e3)}}function d(n){u(i,n,e),"keyup"!==a&&(r=g(n)),setTimeout(c,10)}o[e]=0;for(var f=0;f<n.length;++f){var p=f+1===n.length?d:l(a||v(n[f+1]).action);m(n[f],p,a,e,f)}}function m(e,t,o,r,i){n._directMap[e+":"+o]=t;var a,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?f(e,s,t,o):(a=v(e,o),n._callbacks[a.key]=n._callbacks[a.key]||[],l(a.key,a.modifiers,{type:a.action},r,e,i),n._callbacks[a.key][r?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:r,level:i,combo:e}))}n._handleKey=function(e,n,t){var o,r=l(e,n,t),i={},d=0,f=!1;for(o=0;o<r.length;++o)r[o].seq&&(d=Math.max(d,r[o].level));for(o=0;o<r.length;++o)if(r[o].seq){if(r[o].level!=d)continue;f=!0,i[r[o].seq]=1,u(r[o].callback,t,r[o].combo,r[o].seq)}else f||u(r[o].callback,t,r[o].combo);var p="keypress"==t.type&&a;t.type!=s||h(e)||p||c(i),a=f&&"keydown"==t.type},n._bindMultiple=function(e,n,t){for(var o=0;o<e.length;++o)m(e[o],n,t)},p(e,"keypress",d),p(e,"keydown",d),p(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,n,t){(function(n,t){e.exports=function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=8)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o="swal-button";n.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:o,CONFIRM_BUTTON:o+"--confirm",CANCEL_BUTTON:o+"--cancel",DANGER_BUTTON:o+"--danger",BUTTON_LOADING:o+"--loading",BUTTON_LOADER:o+"__loader"},n.default=n.CLASS_NAMES},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getNode=function(e){var n="."+e;return document.querySelector(n)},n.stringToNode=function(e){var n=document.createElement("div");return n.innerHTML=e.trim(),n.firstChild},n.insertAfter=function(e,n){var t=n.nextSibling;n.parentNode.insertBefore(e,t)},n.removeNode=function(e){e.parentElement.removeChild(e)},n.throwErr=function(e){throw"SweetAlert: "+(e=e.replace(/ +(?= )/g,"")).trim()},n.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var n=Object.getPrototypeOf(e);return null===n||n===Object.prototype},n.ordinalSuffixOf=function(e){var n=e%10,t=e%100;return 1===n&&11!==t?e+"st":2===n&&12!==t?e+"nd":3===n&&13!==t?e+"rd":e+"th"}},function(e,n,t){"use strict";function o(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),o(t(25));var r=t(26);n.overlayMarkup=r.default,o(t(27)),o(t(28)),o(t(29));var i=t(0),a=i.default.MODAL_TITLE,s=i.default.MODAL_TEXT,c=i.default.ICON,l=i.default.FOOTER;n.iconMarkup='\n  <div class="'+c+'"></div>',n.titleMarkup='\n  <div class="'+a+'"></div>\n',n.textMarkup='\n  <div class="'+s+'"></div>',n.footerMarkup='\n  <div class="'+l+'"></div>\n'},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1);n.CONFIRM_KEY="confirm",n.CANCEL_KEY="cancel";var r={visible:!0,text:null,value:null,className:"",closeModal:!0},i=Object.assign({},r,{visible:!1,text:"Cancel",value:null}),a=Object.assign({},r,{text:"OK",value:!0});n.defaultButtonList={cancel:i,confirm:a};var s=function(e){switch(e){case n.CONFIRM_KEY:return a;case n.CANCEL_KEY:return i;default:var t=e.charAt(0).toUpperCase()+e.slice(1);return Object.assign({},r,{text:t,value:e})}},c=function(e,n){var t=s(e);return!0===n?Object.assign({},t,{visible:!0}):"string"==typeof n?Object.assign({},t,{visible:!0,text:n}):o.isPlainObject(n)?Object.assign({visible:!0},t,n):Object.assign({},t,{visible:!1})},l=function(e){var t={};switch(e.length){case 1:t[n.CANCEL_KEY]=Object.assign({},i,{visible:!1});break;case 2:t[n.CANCEL_KEY]=c(n.CANCEL_KEY,e[0]),t[n.CONFIRM_KEY]=c(n.CONFIRM_KEY,e[1]);break;default:o.throwErr("Invalid number of 'buttons' in array ("+e.length+").\n      If you want more than 2 buttons, you need to use an object!")}return t};n.getButtonListOpts=function(e){var t=n.defaultButtonList;return"string"==typeof e?t[n.CONFIRM_KEY]=c(n.CONFIRM_KEY,e):Array.isArray(e)?t=l(e):o.isPlainObject(e)?t=function(e){for(var n={},t=0,o=Object.keys(e);t<o.length;t++){var r=o[t],a=e[r],s=c(r,a);n[r]=s}return n.cancel||(n.cancel=i),n}(e):!0===e?t=l([!0,!0]):!1===e?t=l([!1,!1]):void 0===e&&(t=n.defaultButtonList),t}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),r=t(2),i=t(0),a=i.default.MODAL,s=i.default.OVERLAY,c=t(30),l=t(31),u=t(32),d=t(33);n.injectElIntoModal=function(e){var n=o.getNode(a),t=o.stringToNode(e);return n.appendChild(t),t};var f=function(e,n){!function(e){e.className=a,e.textContent=""}(e);var t=n.className;t&&e.classList.add(t)};n.initModalContent=function(e){var n=o.getNode(a);f(n,e),c.default(e.icon),l.initTitle(e.title),l.initText(e.text),d.default(e.content),u.default(e.buttons,e.dangerMode)},n.default=function(){var e=o.getNode(s),n=o.stringToNode(r.modalMarkup);e.appendChild(n)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(3),r={isOpen:!1,promise:null,actions:{},timer:null},i=Object.assign({},r);n.resetState=function(){i=Object.assign({},r)},n.setActionValue=function(e){if("string"==typeof e)return a(o.CONFIRM_KEY,e);for(var n in e)a(n,e[n])};var a=function(e,n){i.actions[e]||(i.actions[e]={}),Object.assign(i.actions[e],{value:n})};n.setActionOptionsFor=function(e,n){var t=(void 0===n?{}:n).closeModal,o=void 0===t||t;Object.assign(i.actions[e],{closeModal:o})},n.default=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),r=t(3),i=t(0),a=i.default.OVERLAY,s=i.default.SHOW_MODAL,c=i.default.BUTTON,l=i.default.BUTTON_LOADING,u=t(5);n.openModal=function(){o.getNode(a).classList.add(s),u.default.isOpen=!0},n.onAction=function(e){void 0===e&&(e=r.CANCEL_KEY);var n=u.default.actions[e],t=n.value;if(!1===n.closeModal){var i=c+"--"+e;o.getNode(i).classList.add(l)}else o.getNode(a).classList.remove(s),u.default.isOpen=!1;u.default.promise.resolve(t)},n.getState=function(){var e=Object.assign({},u.default);return delete e.promise,delete e.timer,e},n.stopLoading=function(){for(var e=document.querySelectorAll("."+c),n=0;n<e.length;n++)e[n].classList.remove(l)}},function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){(function(n){e.exports=n.sweetAlert=t(9)}).call(n,t(7))},function(e,n,t){(function(n){e.exports=n.swal=t(10)}).call(n,t(7))},function(e,n,t){"undefined"!=typeof window&&t(11),t(16);var o=t(23).default;e.exports=o},function(e,n,t){var o=t(12);"string"==typeof o&&(o=[[e.i,o,""]]);var r={insertAt:"top",transform:void 0};t(14)(o,r),o.locals&&(e.exports=o.locals)},function(e,n,t){(e.exports=t(13)(void 0)).push([e.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(e,n){function t(e,n){var t=e[1]||"",o=e[3];if(!o)return t;if(n&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(o);return[t].concat(o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}))).concat([r]).join("\n")}return[t].join("\n")}e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var o=t(n,e);return n[2]?"@media "+n[2]+"{"+o+"}":o})).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&o[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),n.push(a))}},n}},function(e,n,t){function o(e,n){for(var t=0;t<e.length;t++){var o=e[t],r=g[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(u(o.parts[i],n))}else{var a=[];for(i=0;i<o.parts.length;i++)a.push(u(o.parts[i],n));g[o.id]={id:o.id,refs:1,parts:a}}}}function r(e,n){for(var t=[],o={},r=0;r<e.length;r++){var i=e[r],a=n.base?i[0]+n.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):t.push(o[a]={id:a,parts:[s]})}return t}function i(e,n){var t=m(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=y[y.length-1];if("top"===e.insertAt)o?o.nextSibling?t.insertBefore(n,o.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),y.push(n);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(n)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=y.indexOf(e);n>=0&&y.splice(n,1)}function s(e){var n=document.createElement("style");return e.attrs.type="text/css",l(n,e.attrs),i(e,n),n}function c(e){var n=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(n,e.attrs),i(e,n),n}function l(e,n){Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])}))}function u(e,n){var t,o,r,i;if(n.transform&&e.css){if(!(i=n.transform(e.css)))return function(){};e.css=i}if(n.singleton){var l=b++;t=v||(v=s(n)),o=d.bind(null,t,l,!1),r=d.bind(null,t,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=c(n),o=p.bind(null,t,n),r=function(){a(t),t.href&&URL.revokeObjectURL(t.href)}):(t=s(n),o=f.bind(null,t),r=function(){a(t)});return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else r()}}function d(e,n,t,o){var r=t?"":o.css;if(e.styleSheet)e.styleSheet.cssText=k(n,r);else{var i=document.createTextNode(r),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function f(e,n){var t=n.css,o=n.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}function p(e,n,t){var o=t.css,r=t.sourceMap,i=void 0===n.convertToAbsoluteUrls&&r;(n.convertToAbsoluteUrls||i)&&(o=w(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var g={},h=function(e){var n;return function(){return void 0===n&&(n=e.apply(this,arguments)),n}}((function(){return window&&document&&document.all&&!window.atob})),m=function(e){var n={};return function(t){return void 0===n[t]&&(n[t]=e.call(this,t)),n[t]}}((function(e){return document.querySelector(e)})),v=null,b=0,y=[],w=t(15);e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||(n.singleton=h()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=r(e,n);return o(t,n),function(e){for(var i=[],a=0;a<t.length;a++){var s=t[a];(c=g[s.id]).refs--,i.push(c)}for(e&&o(r(e,n),n),a=0;a<i.length;a++){var c;if(0===(c=i[a]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete g[c.id]}}}};var k=function(){var e=[];return function(n,t){return e[n]=t,e.filter(Boolean).join("\n")}}()},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,o=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,n){var r,i=n.trim().replace(/^"(.*)"$/,(function(e,n){return n})).replace(/^'(.*)'$/,(function(e,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?t+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,n,t){var o=t(17);"undefined"==typeof window||window.Promise||(window.Promise=o),t(21),String.prototype.includes||(String.prototype.includes=function(e,n){"use strict";return"number"!=typeof n&&(n=0),!(n+e.length>this.length)&&-1!==this.indexOf(e,n)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,n){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if(0===o)return!1;for(var r=0|n,i=Math.max(r>=0?r:o-Math.abs(r),0);i<o;){if(function(e,n){return e===n||"number"==typeof e&&"number"==typeof n&&isNaN(e)&&isNaN(n)}(t[i],e))return!0;i++}return!1}}),"undefined"!=typeof window&&[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))},function(e,n,t){(function(n){!function(t){function o(){}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function i(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn((function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(e){return void s(n.promise,e)}a(n.promise,o)}else(1===e._state?a:s)(n.promise,e._value)}))):e._deferreds.push(n)}function a(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if(n instanceof r)return e._state=3,e._value=n,void c(e);if("function"==typeof t)return void u(function(e,n){return function(){e.apply(n,arguments)}}(t,n),e)}e._state=1,e._value=n,c(e)}catch(n){s(e,n)}}function s(e,n){e._state=2,e._value=n,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&r._immediateFn((function(){e._handled||r._unhandledRejectionFn(e._value)}));for(var n=0,t=e._deferreds.length;n<t;n++)i(e,e._deferreds[n]);e._deferreds=null}function l(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function u(e,n){var t=!1;try{e((function(e){t||(t=!0,a(n,e))}),(function(e){t||(t=!0,s(n,e))}))}catch(e){if(t)return;t=!0,s(n,e)}}var d=setTimeout;r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,n){var t=new this.constructor(o);return i(this,new l(e,n,t)),t},r.all=function(e){var n=Array.prototype.slice.call(e);return new r((function(e,t){function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){o(i,e)}),t)}n[i]=a,0==--r&&e(n)}catch(e){t(e)}}if(0===n.length)return e([]);for(var r=n.length,i=0;i<n.length;i++)o(i,n[i])}))},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r((function(n){n(e)}))},r.reject=function(e){return new r((function(n,t){t(e)}))},r.race=function(e){return new r((function(n,t){for(var o=0,r=e.length;o<r;o++)e[o].then(n,t)}))},r._immediateFn="function"==typeof n&&function(e){n(e)}||function(e){d(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=r:t.Promise||(t.Promise=r)}(this)}).call(n,t(18).setImmediate)},function(e,o,r){function i(e,n){this._id=e,this._clearFn=n}var a=Function.prototype.apply;o.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},o.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},o.enroll=function(e,n){clearTimeout(e._idleTimeoutId),e._idleTimeout=n},o.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},o._unrefActive=o.active=function(e){clearTimeout(e._idleTimeoutId);var n=e._idleTimeout;n>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),n))},r(19),o.setImmediate=n,o.clearImmediate=t},function(e,n,t){(function(e,n){!function(e,t){"use strict";function o(e){delete s[e]}function r(e){if(c)setTimeout(r,0,e);else{var n=s[e];if(n){c=!0;try{!function(e){var n=e.callback,t=e.args;switch(t.length){case 0:n();break;case 1:n(t[0]);break;case 2:n(t[0],t[1]);break;case 3:n(t[0],t[1],t[2]);break;default:n.apply(void 0,t)}}(n)}finally{o(e),c=!1}}}}if(!e.setImmediate){var i,a=1,s={},c=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?i=function(e){n.nextTick((function(){r(e)}))}:function(){if(e.postMessage&&!e.importScripts){var n=!0,t=e.onmessage;return e.onmessage=function(){n=!1},e.postMessage("","*"),e.onmessage=t,n}}()?function(){var n="setImmediate$"+Math.random()+"$",t=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(n)&&r(+t.data.slice(n.length))};e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),i=function(t){e.postMessage(n+t,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){r(e.data)},i=function(n){e.port2.postMessage(n)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var e=l.documentElement;i=function(n){var t=l.createElement("script");t.onreadystatechange=function(){r(n),t.onreadystatechange=null,e.removeChild(t),t=null},e.appendChild(t)}}():i=function(e){setTimeout(r,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),t=0;t<n.length;t++)n[t]=arguments[t+1];var o={callback:e,args:n};return s[a]=o,i(a),a++},u.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(n,t(7),t(20))},function(e,n){function t(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(n){try{return l.call(null,e,0)}catch(n){return l.call(this,e,0)}}}function i(){g&&f&&(g=!1,f.length?p=f.concat(p):h=-1,p.length&&a())}function a(){if(!g){var e=r(i);g=!0;for(var n=p.length;n;){for(f=p,p=[];++h<n;)f&&f[h].run();h=-1,n=p.length}f=null,g=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===o||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(n){try{return u.call(null,e)}catch(n){return u.call(this,e)}}}(e)}}function s(e,n){this.fun=e,this.array=n}function c(){}var l,u,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{u="function"==typeof clearTimeout?clearTimeout:o}catch(e){u=o}}();var f,p=[],g=!1,h=-1;d.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];p.push(new s(e,n)),1!==p.length||g||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,n,t){"use strict";t(22).polyfill()},function(e,n,t){"use strict";function o(e,n){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r)for(var i=Object.keys(Object(r)),a=0,s=i.length;a<s;a++){var c=i[a],l=Object.getOwnPropertyDescriptor(r,c);void 0!==l&&l.enumerable&&(t[c]=r[c])}}return t}e.exports={assign:o,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(24),r=t(6),i=t(5),a=t(36),s=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if("undefined"!=typeof window){var t=a.getOpts.apply(void 0,e);return new Promise((function(e,n){i.default.promise={resolve:e,reject:n},o.default(t),setTimeout((function(){r.openModal()}))}))}};s.close=r.onAction,s.getState=r.getState,s.setActionValue=i.setActionValue,s.stopLoading=r.stopLoading,s.setDefaults=a.setDefaults,n.default=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),r=t(0).default.MODAL,i=t(4),a=t(34),s=t(35),c=t(1);n.init=function(e){o.getNode(r)||(document.body||c.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),a.default(),i.default()),i.initModalContent(e),s.default(e)},n.default=n.init},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(0).default.MODAL;n.modalMarkup='\n  <div class="'+o+'" role="dialog" aria-modal="true"></div>',n.default=n.modalMarkup},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o='<div \n    class="'+t(0).default.OVERLAY+'"\n    tabIndex="-1">\n  </div>';n.default=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(0).default.ICON;n.errorIconMarkup=function(){var e=o+"--error",n=e+"__line";return'\n    <div class="'+e+'__x-mark">\n      <span class="'+n+" "+n+'--left"></span>\n      <span class="'+n+" "+n+'--right"></span>\n    </div>\n  '},n.warningIconMarkup=function(){var e=o+"--warning";return'\n    <span class="'+e+'__body">\n      <span class="'+e+'__dot"></span>\n    </span>\n  '},n.successIconMarkup=function(){var e=o+"--success";return'\n    <span class="'+e+"__line "+e+'__line--long"></span>\n    <span class="'+e+"__line "+e+'__line--tip"></span>\n\n    <div class="'+e+'__ring"></div>\n    <div class="'+e+'__hide-corners"></div>\n  '}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(0).default.CONTENT;n.contentMarkup='\n  <div class="'+o+'">\n\n  </div>\n'},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(0),r=o.default.BUTTON_CONTAINER,i=o.default.BUTTON,a=o.default.BUTTON_LOADER;n.buttonMarkup='\n  <div class="'+r+'">\n\n    <button\n      class="'+i+'"\n    ></button>\n\n    <div class="'+a+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(4),r=t(2),i=t(0),a=i.default.ICON,s=i.default.ICON_CUSTOM,c=["error","warning","success","info"],l={error:r.errorIconMarkup(),warning:r.warningIconMarkup(),success:r.successIconMarkup()};n.default=function(e){if(e){var n=o.injectElIntoModal(r.iconMarkup);c.includes(e)?function(e,n){var t=a+"--"+e;n.classList.add(t);var o=l[e];o&&(n.innerHTML=o)}(e,n):function(e,n){n.classList.add(s);var t=document.createElement("img");t.src=e,n.appendChild(t)}(e,n)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(2),r=t(4),i=function(e){navigator.userAgent.includes("AppleWebKit")&&(e.style.display="none",e.offsetHeight,e.style.display="")};n.initTitle=function(e){if(e){var n=r.injectElIntoModal(o.titleMarkup);n.textContent=e,i(n)}},n.initText=function(e){if(e){var n=document.createDocumentFragment();e.split("\n").forEach((function(e,t,o){n.appendChild(document.createTextNode(e)),t<o.length-1&&n.appendChild(document.createElement("br"))}));var t=r.injectElIntoModal(o.textMarkup);t.appendChild(n),i(t)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),r=t(4),i=t(0),a=i.default.BUTTON,s=i.default.DANGER_BUTTON,c=t(3),l=t(2),u=t(6),d=t(5),f=function(e,n,t){var r=n.text,i=n.value,f=n.className,p=n.closeModal,g=o.stringToNode(l.buttonMarkup),h=g.querySelector("."+a),m=a+"--"+e;h.classList.add(m),f&&(Array.isArray(f)?f:f.split(" ")).filter((function(e){return e.length>0})).forEach((function(e){h.classList.add(e)})),t&&e===c.CONFIRM_KEY&&h.classList.add(s),h.textContent=r;var v={};return v[e]=i,d.setActionValue(v),d.setActionOptionsFor(e,{closeModal:p}),h.addEventListener("click",(function(){return u.onAction(e)})),g};n.default=function(e,n){var t=r.injectElIntoModal(l.footerMarkup);for(var o in e){var i=e[o],a=f(o,i,n);i.visible&&t.appendChild(a)}0===t.children.length&&t.remove()}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(3),r=t(4),i=t(2),a=t(5),s=t(6),c=t(0).default.CONTENT,l=function(e){e.addEventListener("input",(function(e){var n=e.target.value;a.setActionValue(n)})),e.addEventListener("keyup",(function(e){if("Enter"===e.key)return s.onAction(o.CONFIRM_KEY)})),setTimeout((function(){e.focus(),a.setActionValue("")}),0)};n.default=function(e){if(e){var n=r.injectElIntoModal(i.contentMarkup),t=e.element,o=e.attributes;"string"==typeof t?function(e,n,t){var o=document.createElement(n),r=c+"__"+n;for(var i in o.classList.add(r),t){var a=t[i];o[i]=a}"input"===n&&l(o),e.appendChild(o)}(n,t,o):n.appendChild(t)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),r=t(2);n.default=function(){var e=o.stringToNode(r.overlayMarkup);document.body.appendChild(e)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(5),r=t(6),i=t(1),a=t(3),s=t(0),c=s.default.MODAL,l=s.default.BUTTON,u=s.default.OVERLAY,d=function(e){if(o.default.isOpen)switch(e.key){case"Escape":return r.onAction(a.CANCEL_KEY)}},f=function(e){if(o.default.isOpen)switch(e.key){case"Tab":return function(e){e.preventDefault(),g()}(e)}},p=function(e){if(o.default.isOpen)return"Tab"===e.key&&e.shiftKey?function(e){e.preventDefault(),h()}(e):void 0},g=function(){var e=i.getNode(l);e&&(e.tabIndex=0,e.focus())},h=function(){var e=i.getNode(c).querySelectorAll("."+l),n=e[e.length-1];n&&n.focus()},m=function(){var e=i.getNode(c).querySelectorAll("."+l);e.length&&(function(e){e[e.length-1].addEventListener("keydown",f)}(e),function(e){e[0].addEventListener("keydown",p)}(e))},v=function(e){if(i.getNode(u)===e.target)return r.onAction(a.CANCEL_KEY)};n.default=function(e){e.closeOnEsc?document.addEventListener("keyup",d):document.removeEventListener("keyup",d),e.dangerMode?g():h(),m(),function(e){var n=i.getNode(u);n.removeEventListener("click",v),e&&n.addEventListener("click",v)}(e.closeOnClickOutside),function(e){o.default.timer&&clearTimeout(o.default.timer),e&&(o.default.timer=window.setTimeout((function(){return r.onAction(a.CANCEL_KEY)}),e))}(e.timer)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),r=t(3),i=t(37),a=t(38),s={title:null,text:null,icon:null,buttons:r.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},c=Object.assign({},s);n.setDefaults=function(e){c=Object.assign({},s,e)};var l=function(e){var n=e&&e.button,t=e&&e.buttons;return void 0!==n&&void 0!==t&&o.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==n?{confirm:n}:t},u=function(e){return o.ordinalSuffixOf(e+1)},d=function(e,n){o.throwErr(u(n)+" argument ('"+e+"') is invalid")},f=function(e,n){var t=e+1,r=n[t];o.isPlainObject(r)||void 0===r||o.throwErr("Expected "+u(t)+" argument ('"+r+"') to be a plain object")},p=function(e,n,t,r){var i=n instanceof Element;if("string"==typeof n){if(0===t)return{text:n};if(1===t)return{text:n,title:r[0]};if(2===t)return f(t,r),{icon:n};d(n,t)}else{if(i&&0===t)return f(t,r),{content:n};if(o.isPlainObject(n))return function(e,n){var t=e+1,r=n[t];void 0!==r&&o.throwErr("Unexpected "+u(t)+" argument ("+r+")")}(t,r),n;d(n,t)}};n.getOpts=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t={};e.forEach((function(n,o){var r=p(0,n,o,e);Object.assign(t,r)}));var o=l(t);t.buttons=r.getButtonListOpts(o),delete t.button,t.content=i.getContentOpts(t.content);var u=Object.assign({},s,c,t);return Object.keys(u).forEach((function(e){a.DEPRECATED_OPTS[e]&&a.logDeprecation(e)})),u}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),r={element:"input",attributes:{placeholder:""}};n.getContentOpts=function(e){return o.isPlainObject(e)?Object.assign({},e):e instanceof Element?{element:e}:"input"===e?r:null}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.logDeprecation=function(e){var t=n.DEPRECATED_OPTS[e],o=t.onlyRename,r=t.replacement,i=t.subOption,a=t.link,s='SweetAlert warning: "'+e+'" option has been '+(o?"renamed":"deprecated")+".";r&&(s+=" Please use"+(i?' "'+i+'" in ':" ")+'"'+r+'" instead.');var c="https://sweetalert.js.org";s+=a?" More details: "+c+a:" More details: "+c+"/guides/#upgrading-from-1x",console.warn(s)},n.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])}).call(this,t(13).setImmediate,t(13).clearImmediate)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t(20));function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var a=function(e,n){if(window.localStorage)try{window.localStorage.setItem(e,n)}catch(e){}},s=function(e,n){if(window.localStorage)try{return window.localStorage.getItem(e,n)}catch(e){}};var c=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.init(n,t),this.type="cache",this.debouncedStore=r.debounce(this.store,1e4)}return o(e,[{key:"init",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=r.defaults(n,this.options||{},{enabled:!1,prefix:"i18next_res_",expirationTime:6048e5,versions:{}})}},{key:"load",value:function(e,n){var t=this,o={},r=(new Date).getTime();if(!window.localStorage||!e.length)return n(null,null);var i=e.length;e.forEach((function(e){var a=s(t.options.prefix+e);a&&(a=JSON.parse(a)).i18nStamp&&a.i18nStamp+t.options.expirationTime>r&&t.options.versions[e]===a.i18nVersion&&(delete a.i18nVersion,o[e]=a),0===(i-=1)&&n(null,o)}))}},{key:"store",value:function(e){var n=e;if(window.localStorage)for(var t in n)n[t].i18nStamp=(new Date).getTime(),this.options.versions[t]&&(n[t].i18nVersion=this.options.versions[t]),a(this.options.prefix+t,JSON.stringify(n[t]))}},{key:"save",value:function(e){this.debouncedStore(e)}}]),e}();c.type="cache",n.default=c},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaults=function(e){return r.call(i.call(arguments,1),(function(n){if(n)for(var t in n)void 0===e[t]&&(e[t]=n[t])})),e},n.extend=function(e){return r.call(i.call(arguments,1),(function(n){if(n)for(var t in n)e[t]=n[t]})),e},n.debounce=function(e,n,t){var o;return function(){var r=this,i=arguments,a=function(){o=null,t||e.apply(r,i)},s=t&&!o;clearTimeout(o),o=setTimeout(a,n),s&&e.apply(r,i)}};var o=[],r=o.forEach,i=o.slice},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(1),r=t(4),i=t(9),a=t(10),s=t(5),c=t(23);n.start=function(e,n){function t(){o.toggleOrientation(e),n()}return{set(n){n.orientation&&n.orientation!==e.orientation&&t(),(n.fen?a.anim:a.render)(e=>i.configure(e,n),e)},state:e,getFen:()=>r.write(e.pieces),toggleOrientation:t,setPieces(n){a.anim(e=>o.setPieces(e,n),e)},selectSquare(n,t){n?a.anim(e=>o.selectSquare(e,n,t),e):e.selected&&(o.unselect(e),e.dom.redraw())},move(n,t){a.anim(e=>o.baseMove(e,n,t),e)},newPiece(n,t){a.anim(e=>o.baseNewPiece(e,n,t),e)},playPremove(){if(e.premovable.current){if(a.anim(o.playPremove,e))return!0;e.dom.redraw()}return!1},playPredrop(n){if(e.predroppable.current){const t=o.playPredrop(e,n);return e.dom.redraw(),t}return!1},cancelPremove(){a.render(o.unsetPremove,e)},cancelPredrop(){a.render(o.unsetPredrop,e)},cancelMove(){a.render(e=>{o.cancelMove(e),s.cancel(e)},e)},stop(){a.render(e=>{o.stop(e),s.cancel(e)},e)},explode(n){c.default(e,n)},setAutoShapes(n){a.render(e=>e.drawable.autoShapes=n,e)},setShapes(n){a.render(e=>e.drawable.shapes=n,e)},getKeyAtDomPos:n=>o.getKeyAtDomPos(n,o.whitePov(e),e.dom.bounds()),redrawAll:n,dragNewPiece(n,t,o){s.dragNewPiece(e,n,t,o)},destroy(){o.stop(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(0);function r(e,n){return Math.abs(e-n)}const i=(e,n,t,o)=>{const i=r(e,t),a=r(n,o);return 1===i&&2===a||2===i&&1===a},a=(e,n,t,o)=>r(e,t)===r(n,o),s=(e,n,t,o)=>e===t||n===o,c=(e,n,t,o)=>a(e,n,t,o)||s(e,n,t,o);const l=o.allKeys.map(o.key2pos);n.default=function(e,n,t){const u=e[n],d=o.key2pos(n),f=u.role,p="pawn"===f?(g=u.color,(e,n,t,o)=>r(e,t)<2&&("white"===g?o===n+1||n<=2&&o===n+2&&e===t:o===n-1||n>=7&&o===n-2&&e===t)):"knight"===f?i:"bishop"===f?a:"rook"===f?s:"queen"===f?c:function(e,n,t){return(i,a,s,c)=>r(i,s)<2&&r(a,c)<2||t&&a===c&&a===("white"===e?1:8)&&(5===i&&(o.containsX(n,1)&&3===s||o.containsX(n,8)&&7===s)||o.containsX(n,s))}(u.color,function(e,n){const t="white"==n?"1":"8";return Object.keys(e).filter(o=>{const r=e[o];return o[1]===t&&r&&r.color===n&&"rook"===r.role}).map(e=>o.key2pos(e)[0])}(e,u.color),t);var g;return l.filter(e=>(d[0]!==e[0]||d[1]!==e[1])&&p(d[0],d[1],e[0],e[1])).map(o.pos2key)}},function(e,n,t){"use strict";function o(e,n){e.exploding&&(n?e.exploding.stage=n:e.exploding=void 0,e.dom.redraw())}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){e.exploding={stage:1,keys:n},e.dom.redraw(),setTimeout(()=>{o(e,2),setTimeout(()=>o(e,void 0),120)},120)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(4),r=t(0);n.defaults=function(){return{pieces:o.read(o.initial),orientation:"white",turnColor:"white",coordinates:!0,autoCastle:!0,viewOnly:!1,disableContextMenu:!1,resizable:!0,addPieceZIndex:!1,pieceKey:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,centerPiece:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},pieces:{baseUrl:"https://lichess1.org/assets/piece/cburnett/"},prevSvgHash:""},hold:r.timer()}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(0),r=t(3),i=t(12);function a(e,n){const t=o.createEl("coords",n);let r;for(let n in e)r=o.createEl("coord"),r.textContent=e[n],t.appendChild(r);return t}n.default=function(e,n,t){e.innerHTML="",e.classList.add("cg-wrap"),o.colors.forEach(t=>e.classList.toggle("orientation-"+t,n.orientation===t)),e.classList.toggle("manipulable",!n.viewOnly);const s=o.createEl("cg-helper");e.appendChild(s);const c=o.createEl("cg-container");s.appendChild(c);const l=o.createEl("cg-board");let u,d;if(c.appendChild(l),n.drawable.visible&&!t&&(u=i.createElement("svg"),u.appendChild(i.createElement("defs")),c.appendChild(u)),n.coordinates){const e="black"===n.orientation?" black":"";c.appendChild(a(r.ranks,"ranks"+e)),c.appendChild(a(r.files,"files"+e))}return n.draggable.showGhost&&!t&&(d=o.createEl("piece","ghost"),o.setVisible(d,!1),c.appendChild(d)),{board:l,container:c,ghost:d,svg:u}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(5),r=t(11),i=t(27),a=t(0);function s(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t)}function c(e,n,t){return o=>{o.shiftKey||a.isRightButton(o)?e.drawable.enabled&&t(e,o):e.viewOnly||n(e,o)}}n.bindBoard=function(e){if(e.viewOnly)return;const n=e.dom.elements.board,t=function(e){return n=>{e.draggable.current?o.cancel(e):e.drawable.current?r.cancel(e):n.shiftKey||a.isRightButton(n)?e.drawable.enabled&&r.start(e,n):e.viewOnly||(e.dropmode.active?i.drop(e,n):o.start(e,n))}}(e);n.addEventListener("touchstart",t,{passive:!1}),n.addEventListener("mousedown",t,{passive:!1}),(e.disableContextMenu||e.drawable.enabled)&&n.addEventListener("contextmenu",e=>e.preventDefault())},n.bindDocument=function(e,n){const t=[];if(!e.dom.relative&&e.resizable){const o=()=>{e.dom.bounds.clear(),requestAnimationFrame(n)};t.push(s(document.body,"chessground.resize",o))}if(!e.viewOnly){const n=c(e,o.move,r.move),i=c(e,o.end,r.end);["touchmove","mousemove"].forEach(e=>t.push(s(document,e,n))),["touchend","mouseup"].forEach(e=>t.push(s(document,e,i)));const a=()=>e.dom.bounds.clear();t.push(s(window,"scroll",a,{passive:!0})),t.push(s(window,"resize",a,{passive:!0}))}return()=>t.forEach(e=>e())}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(1),r=t(0),i=t(5);n.setDropMode=function(e,n){e.dropmode={active:!0,piece:n},i.cancel(e)},n.cancelDropMode=function(e){e.dropmode={active:!1}},n.drop=function(e,n){if(!e.dropmode.active)return;o.unsetPremove(e),o.unsetPredrop(e);const t=e.dropmode.piece;if(t){e.pieces.a0=t;const i=r.eventPosition(n),a=i&&o.getKeyAtDomPos(i,o.whitePov(e),e.dom.bounds());a&&o.dropNewPiece(e,"a0",a)}e.dom.redraw()}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(0),r=t(1),i=t(0);function a(e){return"PIECE"===e.tagName}function s(e){return"SQUARE"===e.tagName}function c(e,n){for(const t in n)e.dom.elements.board.removeChild(n[t])}function l(e,n){let t=2+8*(e[1]-1)+(8-e[0]);return n&&(t=67-t),t+""}function u(e){return`${e.color} ${e.role}`}function d(e,n,t){e[n]?e[n]+=" "+t:e[n]=t}n.default=function(e){const n=r.whitePov(e),t=e.dom.relative?i.posToTranslateRel:i.posToTranslateAbs(e.dom.bounds()),f=e.dom.relative?i.translateRel:i.translateAbs,p=e.dom.elements.board,g=e.pieces,h=e.animation.current,m=h?h.plan.anims:{},v=h?h.plan.fadings:{},b=e.draggable.current,y=function(e){const n={};let t,o;if(e.lastMove&&e.highlight.lastMove)for(t in e.lastMove)d(n,e.lastMove[t],"last-move");e.check&&e.highlight.check&&d(n,e.check,"check");if(e.selected&&(d(n,e.selected,"selected"),e.movable.showDests)){const r=e.movable.dests&&e.movable.dests[e.selected];if(r)for(t in r)o=r[t],d(n,o,"move-dest"+(e.pieces[o]?" oc":""));const i=e.premovable.dests;if(i)for(t in i)o=i[t],d(n,o,"premove-dest"+(e.pieces[o]?" oc":""))}const r=e.premovable.current;if(r)for(t in r)d(n,r[t],"current-premove");else e.predroppable.current&&d(n,e.predroppable.current.key,"current-premove");const i=e.exploding;if(i)for(t in i.keys)d(n,i.keys[t],"exploding"+i.stage);return n}(e),w={},k={},x={},O={},C=Object.keys(g);let E,_,A,S,M,T,P,N,L,j,R;for(A=p.firstChild;A;){if(E=A.cgKey,a(A))if(S=g[E],T=m[E],P=v[E],M=A.cgPiece,!A.cgDragging||b&&b.orig===E||(A.classList.remove("dragging"),f(A,t(o.key2pos(E),n)),A.cgDragging=!1),!P&&A.cgFading&&(A.cgFading=!1,A.classList.remove("fading")),S){if(T&&A.cgAnimating&&M===u(S)){const e=o.key2pos(E);e[0]+=T[2],e[1]+=T[3],A.classList.add("anim"),f(A,t(e,n))}else A.cgAnimating&&(A.cgAnimating=!1,A.classList.remove("anim"),f(A,t(o.key2pos(E),n)),e.addPieceZIndex&&(A.style.zIndex=l(o.key2pos(E),n)));M!==u(S)||P&&A.cgFading?P&&M===u(P)?(A.classList.add("fading"),A.cgFading=!0):x[M]?x[M].push(A):x[M]=[A]:w[E]=!0}else x[M]?x[M].push(A):x[M]=[A];else if(s(A)){const e=A.className;y[E]===e?k[E]=!0:O[e]?O[e].push(A):O[e]=[A]}A=A.nextSibling}for(const e in y)if(!k[e]){j=O[y[e]],R=j&&j.pop();const r=t(o.key2pos(e),n);if(R)R.cgKey=e,f(R,r);else{const n=o.createEl("square",y[e]);n.cgKey=e,f(n,r),p.insertBefore(n,p.firstChild)}}for(const r in C)if(E=C[r],_=g[E],T=m[E],!w[E])if(N=x[u(_)],L=N&&N.pop(),L){L.cgKey=E,L.cgFading&&(L.classList.remove("fading"),L.cgFading=!1);const r=o.key2pos(E);e.addPieceZIndex&&(L.style.zIndex=l(r,n)),T&&(L.cgAnimating=!0,L.classList.add("anim"),r[0]+=T[2],r[1]+=T[3]),f(L,t(r,n))}else{const r=u(_),i=o.createEl("piece",r),a=o.key2pos(E);i.cgPiece=r,i.cgKey=E,T&&(i.cgAnimating=!0,a[0]+=T[2],a[1]+=T[3]),f(i,t(a,n)),e.addPieceZIndex&&(i.style.zIndex=l(a,n)),p.appendChild(i)}for(const n in x)c(e,x[n]);for(const n in O)c(e,O[n])}},function(e,n,t){(function(e,n){!function(e,t){"use strict";if(!e.setImmediate){var o,r,i,a,s,c=1,l={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?o=function(e){n.nextTick((function(){g(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var n=!0,t=e.onmessage;return e.onmessage=function(){n=!1},e.postMessage("","*"),e.onmessage=t,n}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){g(e.data)},o=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,o=function(e){var n=d.createElement("script");n.onreadystatechange=function(){g(e),n.onreadystatechange=null,r.removeChild(n),n=null},r.appendChild(n)}):o=function(e){setTimeout(g,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(a)&&g(+n.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),o=function(n){e.postMessage(a+n,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),t=0;t<n.length;t++)n[t]=arguments[t+1];var r={callback:e,args:n};return l[c]=r,o(c),c++},f.clearImmediate=p}function p(e){delete l[e]}function g(e){if(u)setTimeout(g,0,e);else{var n=l[e];if(n){u=!0;try{!function(e){var n=e.callback,t=e.args;switch(t.length){case 0:n();break;case 1:n(t[0]);break;case 2:n(t[0],t[1]);break;case 3:n(t[0],t[1],t[2]);break;default:n.apply(void 0,t)}}(n)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,t(2),t(30))},function(e,n){var t,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var n=l.length;n;){for(c=l,l=[];++d<n;)c&&c[d].run();d=-1,n=l.length}c=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(n){try{return o.call(null,e)}catch(n){return o.call(this,e)}}}(e)}}function g(e,n){this.fun=e,this.array=n}function h(){}r.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new g(e,n)),1!==l.length||u||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,n,t){var o=t(6),r=t(32);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,n,t){(n=t(7)(!1)).push([e.i,"/*\n * Chessground base css properties.\n *\n * You need to include the css files in themes folder in order to have the\n * board and pieces displayed!\n */\n\n.cg-wrap {\n    width: 320px;\n    height: 320px;\n    position: relative;\n    display: block;\n}\n\ncg-helper {\n    position: absolute;\n    width: 12.5%;\n    padding-bottom: 12.5%;\n    display: table; /* hack: round to full pixel size in chrome */\n    bottom: 0;\n}\n\ncg-container {\n    position: absolute;\n    width: 800%;\n    height: 800%;\n    display: block;\n    bottom: 0;\n}\n\ncg-board {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    line-height: 0;\n    background-size: cover;\n    cursor: pointer;\n}\ncg-board square {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 12.5%;\n    height: 12.5%;\n    pointer-events: none;\n}\ncg-board square.move-dest {\n    background: radial-gradient(rgba(20, 85, 30, 0.5) 22%, #208530 0, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 0);\n    pointer-events: auto;\n}\ncg-board square.premove-dest {\n    background: radial-gradient(rgba(20, 30, 85, 0.5) 22%, #203085 0, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 0);\n}\ncg-board square.oc.move-dest {\n    background: radial-gradient(transparent 0%, transparent 80%, rgba(20, 85, 0, 0.3) 80%);\n}\ncg-board square.oc.premove-dest {\n    background: radial-gradient(transparent 0%, transparent 80%, rgba(20, 30, 85, 0.2) 80%);\n}\ncg-board square.move-dest:hover {\n    background: rgba(20, 85, 30, 0.3);\n}\ncg-board square.premove-dest:hover {\n    background: rgba(20, 30, 85, 0.2);\n}\ncg-board square.last-move {\n    will-change: transform;\n    background-color: rgba(155, 199, 0, 0.41);\n}\ncg-board square.selected {\n    background-color: rgba(20, 85, 30, 0.5);\n}\ncg-board square.check {\n    background: radial-gradient(ellipse at center, rgba(255, 0, 0, 1) 0%, rgba(231, 0, 0, 1) 25%, rgba(169, 0, 0, 0) 89%, rgba(158, 0, 0, 0) 100%);\n}\ncg-board square.current-premove {\n    background-color: rgba(20, 30, 85, 0.5);\n}\n.cg-wrap piece {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 12.5%;\n    height: 12.5%;\n    background-size: cover;\n    z-index: 2;\n    will-change: transform;\n    pointer-events: none;\n}\ncg-board piece.dragging {\n    cursor: move;\n    z-index: 9;\n}\ncg-board piece.anim {\n    z-index: 8;\n}\ncg-board piece.fading {\n    z-index: 1;\n    opacity: 0.5;\n}\n.cg-wrap square.move-dest:hover {\n    background-color: rgba(20, 85, 30, 0.3);\n}\n.cg-wrap piece.ghost {\n    opacity: 0.3;\n}\n.cg-wrap svg {\n    overflow: hidden;\n    position: relative;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    z-index: 2;\n    opacity: 0.6;\n}\n.cg-wrap svg image {\n    opacity: 0.5;\n}\n.cg-wrap coords {\n    position: absolute;\n    display: flex;\n    pointer-events: none;\n    opacity: 0.8;\n/*    font-size: 9px; Hide from CSS, so it is set by the PgnViewerJS */\n}\n.cg-wrap coords.ranks {\n    right: -15px;\n    top: 0;\n    flex-flow: column-reverse;\n    height: 100%;\n    width: 12px;\n}\n.cg-wrap coords.ranks.black {\n    flex-flow: column;\n}\n.cg-wrap coords.files {\n    bottom: -16px;\n    left: 0;\n    flex-flow: row;\n    width: 100%;\n    height: 16px;\n    text-transform: uppercase;\n    text-align: center;\n}\n.cg-wrap coords.files.black {\n    flex-flow: row-reverse;\n}\n.cg-wrap coords coord {\n    flex: 1 1 auto;\n}\n.cg-wrap coords.ranks coord {\n    transform: translateY(39%);\n}\n\n@media (min-width: 800px){\n    cg-resize{\n        display:block;\n        position:absolute;\n        right:-9px;\n        bottom:-9px;\n        width:22px;\n        height:22px;\n        cursor:nwse-resize}\n    cg-resize::before,cg-resize::after{\n        background:#000;\n        content:'';\n        position:absolute;\n        width:12px;\n        height:1px}\n    cg-resize::before{\n        width:5px;\n        transform:translate(7px, 8px) rotate(-45deg)}\n    cg-resize::after{\n        transform:translate(1px, 6px) rotate(-45deg)}\n    cg-resize:hover{\n        border-radius:50%;\n        background:rgba(214,79,0,0.5)}\n    .resizing cg-resize{\n        border-radius:50%;\n        background:rgba(98,153,36,0.5)}\n}\n",""]),e.exports=n},function(e,n,t){var o=t(6),r=t(34);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,n,t){(n=t(7)(!1)).push([e.i,"/*\n * Board\n */\n.blue .cg-wrap {\n  background-image: url(/img/board/blue.svg);\n}\n.brown .cg-wrap {\n  background-image: url(/img/board/brown.svg);\n}\n.zeit .cg-wrap {\n  background-image: url(/img/board/zeit.svg);\n}\n.chesscom .cg-wrap {\n  background-image: url(/img/board/chesscom.svg);\n}\n.informator .cg-wrap {\n  background-image: url(/img/board/informator.svg);\n}\n.sportverlag .cg-wrap {\n  background-image: url(/img/board/sportverlag.svg);\n}\n.beyer .cg-wrap {\n  background-image: url(/img/board/beyer.svg);\n}\n.falken .cg-wrap {\n  background-image: url(/img/board/falken.svg);\n}\n.green .cg-wrap {\n  background-image: url(/img/board/green.svg);\n}\n\n/*\n * Board\n */\n.merida  cg-board piece.pawn.white {\n  background-image: url('/img/chesspieces/merida-svg/wP.svg');\n}\n.merida  cg-board piece.bishop.white {\n  background-image: url('/img/chesspieces/merida-svg/wB.svg');\n}\n.merida  cg-board piece.knight.white {\n  background-image: url('/img/chesspieces/merida-svg/wN.svg');\n}\n.merida  cg-board piece.rook.white {\n  background-image: url('/img/chesspieces/merida-svg/wR.svg');\n}\n.merida  cg-board piece.queen.white {\n  background-image: url('/img/chesspieces/merida-svg/wQ.svg');\n}\n.merida  cg-board piece.king.white {\n  background-image: url('/img/chesspieces/merida-svg/wK.svg');\n}\n.merida  cg-board piece.pawn.black {\n  background-image: url('/img/chesspieces/merida-svg/bP.svg');\n}\n.merida  cg-board piece.bishop.black {\n  background-image: url('/img/chesspieces/merida-svg/bB.svg');\n}\n.merida  cg-board piece.knight.black {\n  background-image: url('/img/chesspieces/merida-svg/bN.svg');\n}\n.merida  cg-board piece.rook.black {\n  background-image: url('/img/chesspieces/merida-svg/bR.svg');\n}\n.merida  cg-board piece.queen.black {\n  background-image: url('/img/chesspieces/merida-svg/bQ.svg');\n}\n.merida  cg-board piece.king.black {\n  background-image: url('/img/chesspieces/merida-svg/bK.svg');\n}\n\n/* Wikipedia */\n.wikipedia  cg-board piece.pawn.white {\n  background-image: url('/img/chesspieces/wikipedia/wP.png');\n}\n.wikipedia  cg-board piece.bishop.white {\n  background-image: url('/img/chesspieces/wikipedia/wB.png');\n}\n.wikipedia  cg-board piece.knight.white {\n  background-image: url('/img/chesspieces/wikipedia/wN.png');\n}\n.wikipedia  cg-board piece.rook.white {\n  background-image: url('/img/chesspieces/wikipedia/wR.png');\n}\n.wikipedia  cg-board piece.queen.white {\n  background-image: url('/img/chesspieces/wikipedia/wQ.png');\n}\n.wikipedia cg-board piece.king.white {\n  background-image: url('/img/chesspieces/wikipedia/wK.png');\n}\n.wikipedia cg-board piece.pawn.black {\n  background-image: url('/img/chesspieces/wikipedia/bP.png');\n}\n.wikipedia cg-board piece.bishop.black {\n  background-image: url('/img/chesspieces/wikipedia/bB.png');\n}\n.wikipedia cg-board piece.knight.black {\n  background-image: url('/img/chesspieces/wikipedia/bN.png');\n}\n.wikipedia cg-board piece.rook.black {\n  background-image: url('/img/chesspieces/wikipedia/bR.png');\n}\n.wikipedia cg-board piece.queen.black {\n  background-image: url('/img/chesspieces/wikipedia/bQ.png');\n}\n.wikipedia cg-board piece.king.black {\n  background-image: url('/img/chesspieces/wikipedia/bK.png');\n}\n/* Alpha */\n.alpha cg-board piece.pawn.white {\n  background-image: url('/img/chesspieces/alpha/wP.png');\n}\n.alpha cg-board piece.bishop.white {\n  background-image: url('/img/chesspieces/alpha/wB.png');\n}\n.alpha cg-board piece.knight.white {\n  background-image: url('/img/chesspieces/alpha/wN.png');\n}\n.alpha cg-board piece.rook.white {\n  background-image: url('/img/chesspieces/alpha/wR.png');\n}\n.alpha cg-board piece.queen.white {\n  background-image: url('/img/chesspieces/alpha/wQ.png');\n}\n.alpha cg-board piece.king.white {\n  background-image: url('/img/chesspieces/alpha/wK.png');\n}\n.alpha cg-board piece.pawn.black {\n  background-image: url('/img/chesspieces/alpha/bP.png');\n}\n.alpha cg-board piece.bishop.black {\n  background-image: url('/img/chesspieces/alpha/bB.png');\n}\n.alpha  cg-board piece.knight.black {\n  background-image: url('/img/chesspieces/alpha/bN.png');\n}\n.alpha  cg-board piece.rook.black {\n  background-image: url('/img/chesspieces/alpha/bR.png');\n}\n.alpha  cg-board piece.queen.black {\n  background-image: url('/img/chesspieces/alpha/bQ.png');\n}\n.alpha  cg-board piece.king.black {\n  background-image: url('/img/chesspieces/alpha/bK.png');\n}\n/* Beyer */\n.beyer  cg-board piece.pawn.white {\n  background-image: url('/img/chesspieces/beyer/wP.png');\n}\n.beyer  cg-board piece.bishop.white {\n  background-image: url('/img/chesspieces/beyer/wB.png');\n}\n.beyer  cg-board piece.knight.white {\n  background-image: url('/img/chesspieces/beyer/wN.png');\n}\n.beyer  cg-board piece.rook.white {\n  background-image: url('/img/chesspieces/beyer/wR.png');\n}\n.beyer  cg-board piece.queen.white {\n  background-image: url('/img/chesspieces/beyer/wQ.png');\n}\n.beyer  cg-board piece.king.white {\n  background-image: url('/img/chesspieces/beyer/wK.png');\n}\n.beyer  cg-board piece.pawn.black {\n  background-image: url('/img/chesspieces/beyer/bP.png');\n}\n.beyer  cg-board piece.bishop.black {\n  background-image: url('/img/chesspieces/beyer/bB.png');\n}\n.beyer  cg-board piece.knight.black {\n  background-image: url('/img/chesspieces/beyer/bN.png');\n}\n.beyer  cg-board piece.rook.black {\n  background-image: url('/img/chesspieces/beyer/bR.png');\n}\n.beyer  cg-board piece.queen.black {\n  background-image: url('/img/chesspieces/beyer/bQ.png');\n}\n.beyer  cg-board piece.king.black {\n  background-image: url('/img/chesspieces/beyer/bK.png');\n}\n/* Case */\n.case  cg-board piece.pawn.white {\n  background-image: url('/img/chesspieces/case/wP.png');\n}\n.case  cg-board piece.bishop.white {\n  background-image: url('/img/chesspieces/case/wB.png');\n}\n.case  cg-board piece.knight.white {\n  background-image: url('/img/chesspieces/case/wN.png');\n}\n.case  cg-board piece.rook.white {\n  background-image: url('/img/chesspieces/case/wR.png');\n}\n.case  cg-board piece.queen.white {\n  background-image: url('/img/chesspieces/case/wQ.png');\n}\n.case  cg-board piece.king.white {\n  background-image: url('/img/chesspieces/case/wK.png');\n}\n.case  cg-board piece.pawn.black {\n  background-image: url('/img/chesspieces/case/bP.png');\n}\n.case  cg-board piece.bishop.black {\n  background-image: url('/img/chesspieces/case/bB.png');\n}\n.case  cg-board piece.knight.black {\n  background-image: url('/img/chesspieces/case/bN.png');\n}\n.case  cg-board piece.rook.black {\n  background-image: url('/img/chesspieces/case/bR.png');\n}\n.case  cg-board piece.queen.black {\n  background-image: url('/img/chesspieces/case/bQ.png');\n}\n.case  cg-board piece.king.black {\n  background-image: url('/img/chesspieces/case/bK.png');\n}\n/* Chesscom */\n.chesscom  cg-board piece.pawn.white {\n  background-image: url('/img/chesspieces/chesscom/wp.png');\n}\n.chesscom  cg-board piece.bishop.white {\n  background-image: url('/img/chesspieces/chesscom/wb.png');\n}\n.chesscom  cg-board piece.knight.white {\n  background-image: url('/img/chesspieces/chesscom/wn.png');\n}\n.chesscom  cg-board piece.rook.white {\n  background-image: url('/img/chesspieces/chesscom/wr.png');\n}\n.chesscom  cg-board piece.queen.white {\n  background-image: url('/img/chesspieces/chesscom/wq.png');\n}\n.chesscom  cg-board piece.king.white {\n  background-image: url('/img/chesspieces/chesscom/wk.png');\n}\n.chesscom  cg-board piece.pawn.black {\n  background-image: url('/img/chesspieces/chesscom/bp.png');\n}\n.chesscom  cg-board piece.bishop.black {\n  background-image: url('/img/chesspieces/chesscom/bb.png');\n}\n.chesscom  cg-board piece.knight.black {\n  background-image: url('/img/chesspieces/chesscom/bn.png');\n}\n.chesscom  cg-board piece.rook.black {\n  background-image: url('/img/chesspieces/chesscom/br.png');\n}\n.chesscom  cg-board piece.queen.black {\n  background-image: url('/img/chesspieces/chesscom/bq.png');\n}\n.chesscom  cg-board piece.king.black {\n  background-image: url('/img/chesspieces/chesscom/bk.png');\n}\n/* Condal */\n.condal  cg-board piece.pawn.white {\n  background-image: url('/img/chesspieces/condal/wP.png');\n}\n.condal  cg-board piece.bishop.white {\n  background-image: url('/img/chesspieces/condal/wB.png');\n}\n.condal  cg-board piece.knight.white {\n  background-image: url('/img/chesspieces/condal/wN.png');\n}\n.condal  cg-board piece.rook.white {\n  background-image: url('/img/chesspieces/condal/wR.png');\n}\n.condal  cg-board piece.queen.white {\n  background-image: url('/img/chesspieces/condal/wQ.png');\n}\n.condal  cg-board piece.king.white {\n  background-image: url('/img/chesspieces/condal/wK.png');\n}\n.condal  cg-board piece.pawn.black {\n  background-image: url('/img/chesspieces/condal/bP.png');\n}\n.condal  cg-board piece.bishop.black {\n  background-image: url('/img/chesspieces/condal/bB.png');\n}\n.condal  cg-board piece.knight.black {\n  background-image: url('/img/chesspieces/condal/bN.png');\n}\n.condal  cg-board piece.rook.black {\n  background-image: url('/img/chesspieces/condal/bR.png');\n}\n.condal  cg-board piece.queen.black {\n  background-image: url('/img/chesspieces/condal/bQ.png');\n}\n.condal  cg-board piece.king.black {\n  background-image: url('/img/chesspieces/condal/bK.png');\n}\n/* Leipzig */\n.leipzig  cg-board piece.pawn.white {\n  background-image: url('/img/chesspieces/leipzig/wP.png');\n}\n.leipzig  cg-board piece.bishop.white {\n  background-image: url('/img/chesspieces/leipzig/wB.png');\n}\n.leipzig  cg-board piece.knight.white {\n  background-image: url('/img/chesspieces/leipzig/wN.png');\n}\n.leipzig  cg-board piece.rook.white {\n  background-image: url('/img/chesspieces/leipzig/wR.png');\n}\n.leipzig  cg-board piece.queen.white {\n  background-image: url('/img/chesspieces/leipzig/wQ.png');\n}\n.leipzig  cg-board piece.king.white {\n  background-image: url('/img/chesspieces/leipzig/wK.png');\n}\n.leipzig  cg-board piece.pawn.black {\n  background-image: url('/img/chesspieces/leipzig/bP.png');\n}\n.leipzig  cg-board piece.bishop.black {\n  background-image: url('/img/chesspieces/leipzig/bB.png');\n}\n.leipzig  cg-board piece.knight.black {\n  background-image: url('/img/chesspieces/leipzig/bN.png');\n}\n.leipzig  cg-board piece.rook.black {\n  background-image: url('/img/chesspieces/leipzig/bR.png');\n}\n.leipzig  cg-board piece.queen.black {\n  background-image: url('/img/chesspieces/leipzig/bQ.png');\n}\n.leipzig  cg-board piece.king.black {\n  background-image: url('/img/chesspieces/leipzig/bK.png');\n}\n/* Maya */\n.maya  cg-board piece.pawn.white {\n  background-image: url('/img/chesspieces/maya/wP.png');\n}\n.maya  cg-board piece.bishop.white {\n  background-image: url('/img/chesspieces/maya/wB.png');\n}\n.maya  cg-board piece.knight.white {\n  background-image: url('/img/chesspieces/maya/wN.png');\n}\n.maya  cg-board piece.rook.white {\n  background-image: url('/img/chesspieces/maya/wR.png');\n}\n.maya  cg-board piece.queen.white {\n  background-image: url('/img/chesspieces/maya/wQ.png');\n}\n.maya  cg-board piece.king.white {\n  background-image: url('/img/chesspieces/maya/wK.png');\n}\n.maya  cg-board piece.pawn.black {\n  background-image: url('/img/chesspieces/maya/bP.png');\n}\n.maya  cg-board piece.bishop.black {\n  background-image: url('/img/chesspieces/maya/bB.png');\n}\n.maya  cg-board piece.knight.black {\n  background-image: url('/img/chesspieces/maya/bN.png');\n}\n.maya  cg-board piece.rook.black {\n  background-image: url('/img/chesspieces/maya/bR.png');\n}\n.maya  cg-board piece.queen.black {\n  background-image: url('/img/chesspieces/maya/bQ.png');\n}\n.maya  cg-board piece.king.black {\n  background-image: url('/img/chesspieces/maya/bK.png');\n}\n/* USCF */\n.uscf  cg-board piece.pawn.white {\n  background-image: url('/img/chesspieces/uscf/wP.png');\n}\n.uscf  cg-board piece.bishop.white {\n  background-image: url('/img/chesspieces/uscf/wB.png');\n}\n.uscf  cg-board piece.knight.white {\n  background-image: url('/img/chesspieces/uscf/wN.png');\n}\n.uscf  cg-board piece.rook.white {\n  background-image: url('/img/chesspieces/uscf/wR.png');\n}\n.uscf  cg-board piece.queen.white {\n  background-image: url('/img/chesspieces/uscf/wQ.png');\n}\n.uscf  cg-board piece.king.white {\n  background-image: url('/img/chesspieces/uscf/wK.png');\n}\n.uscf  cg-board piece.pawn.black {\n  background-image: url('/img/chesspieces/uscf/bP.png');\n}\n.uscf  cg-board piece.bishop.black {\n  background-image: url('/img/chesspieces/uscf/bB.png');\n}\n.uscf  cg-board piece.knight.black {\n  background-image: url('/img/chesspieces/uscf/bN.png');\n}\n.uscf  cg-board piece.rook.black {\n  background-image: url('/img/chesspieces/uscf/bR.png');\n}\n.uscf  cg-board piece.queen.black {\n  background-image: url('/img/chesspieces/uscf/bQ.png');\n}\n.uscf  cg-board piece.king.black {\n  background-image: url('/img/chesspieces/uscf/bK.png');\n}\n",""]),e.exports=n},function(e,n,t){var o=t(6),r=t(36);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,n,t){(n=t(7)(!1)).push([e.i,'div.whole:focus {\n    /* The following suppresses the outline of the element that has the focus. Only when\n       that focus is set, the keyboard mappings work. You may of course enable the outline\n       for debugging purposes. */\n    outline: 0;\n}\n\nspan.whiteHeader:before {\n    content: " White: ";\n}\n\nspan.blackHeader:before {\n    content: " Black: ";\n}\n\nspan.restHeader:before { content: " ("}\nspan.restHeader:after { content: ")"}\n\ndiv.layout-left.whole, div.layout-right.whole {\n    display: flex;\n    flex-flow: row wrap;\n}\n\ndiv.layout-left > .headers, div.layout-right > headers {\n    flex: 1 100%;\n}\n\ndiv.moves {\n    /* overflow-y: auto; */\n    padding: 10px;\n}\ndiv.layout-left > .moves, div.layout-right > .moves {\n    position: relative;\n    /*flex: 1 40%;*/\n}\n\ndiv.layout-left > .moves, div.layout-right > .moves, div.layout-top > .moves, div.layout-bottom > .moves {\n    overflow-y: auto;\n}\n\ndiv.layout-right > .moves {\n    order: 1;\n}\n\ndiv.layout-right > .outerBoard {\n    order: 2;\n    /* flex: 1 1 auto; */\n}\n\ndiv.layout-bottom.whole {\n    display: flex;\n    flex-flow: column wrap;\n}\n\ndiv.layout-bottom > .outerBoard {\n    order: 2;\n}\n\ndiv.layout-top-left > .outerBoard {\n    float: left;\n    margin-right: 10px;\n}\n\ndiv.layout-bottom-left > .outerBoard {\n    float: left;\n    margin-right: 10px;\n    /* display: table-cell;\n    vertical-align: bottom; */\n}\n\ndiv.layout-top-right > .outerBoard {\n    float: right;\n    margin-left: 10px;\n}\n\n/* Not found any trick that allows to use baseline, bottom, ... with float: left|right */\ndiv.layout-bottom-right > .outerBoard {\n    float: right;\n    margin-left: 10px;\n}\n\ndiv.layout-left > .outerBoard div.edit .gray, div.buttons .gray {\n    -webkit-filter: grayscale(100%);\n    -moz-filter: grayscale(100%);\n    filter: grayscale(100%);\n}\n\n/** Font Awesome buttons (see http://fontawesome.io/) */\n\n.fen {\n    /* width: 96%; */\n    height: 30px;\n    min-height: 30px;\n    padding: 2px;\n    font-family: monospace;\n}\n\ndiv.error {\n    color: red;\n}\ndiv.buttons > i.button, div.edit > i.button {\n    font-size: 16px;\n    line-height: 1.4em;\n    color: #71a0df;\n    background-color: white;\n    background-image: none;\n     margin: 5px;\n    padding: 4px;\n    border: solid lightgrey 1px;\n    border-radius: 4px;\n}\n\ndiv.buttons > i.button.selected, div.edit > i.button.selected, .nagMenu.selected {\n    color: #fff;\n    background-color: #71a0df;\n}\n\ndiv.nagMenu {\n    border: 1px grey dotted;\n    display: none;\n    width: 600px;\n}\n\ndiv.nagMenu a {\n    text-decoration: none;\n}\n\ndiv.nagMove, div.nagObservation, div.nagPosition {\n    display: flex;\n    flex-direction: column;\n    flex-basis: 33.3%;\n    text-align: left;\n    flex-wrap: wrap;\n}\n\n.nagMove i, .nagPosition i, .nagObservation i {\n    display: flex!important;\n    cursor: pointer;\n    transition: 0.13s;\n    align-items: center;\n    margin: 2px;\n}\n\n.nagMove i::before, .nagPosition i::before, .nagObservation i::before {\n    content: attr(data-symbol);\n    /* font-size: 1.2em; */\n    font-style: normal;\n    font-weight: bold;\n    display: block;\n    width: 30px;\n    text-align: center;\n    background: #f3f3f3;\n    padding: 2px 2px;\n    margin-right: 6px;\n    transition: 0.13s;\n}\n\na.active i::before {\n    background: #71a0df!important;\n    color: #fff!important;\n}\n\n.nagMove i:hover, .nagPosition i:hover, .nagObservation i:hover {\n    background: #efefef;\n    color: #71a0df;\n}\n\n/* Necessary fixes for examples  */\nbutton.ui-multiselect {\n    background-image: none;\n    background-color: white;\n}\n\nul.ui-multiselect-checkboxes > li {\n    margin-bottom: 0px;\n}\n\nselect.nag {\n    width: 80px;\n}\n\n\ndiv.buttons > i.button:hover,div.edit > i.button:hover  {\n    cursor: pointer;\n    border: solid dimgrey 1px;\n}\n\n/** The following are all font-awesome buttons.\n  Where known, I have added their short names (to find them later again). **/\ndiv.buttons > .button.flipper.default:before { /* fa-adjust */\n    content: "\\f042";\n}\ndiv.buttons > .button.first.default:before { /* fa-fast-backward */\n    content: "\\f049";\n}\ndiv.buttons > .button.prev.default:before {    /* fa-step-backward */\n    content: "\\f048";\n}\ndiv.buttons > .button.next.default:before {    /* fa-step-forward */\n    content: "\\f051";\n}\ndiv.buttons > .button.last.default:before {    /* fa-fast-forward */\n    content: "\\f050";\n}\ndiv.buttons > .button.play.default:before {    /* fa-play-circle */\n    content: "\\f144";\n}\ndiv.buttons > .button.stop.default:before {     /* fa-pause */\n    content: "\\f04c";\n}\n\ndiv.edit > .button.promoteVar.default:before { /* hand-o-up */\n    content: "\\f0a6";\n}\ndiv.edit > .button.deleteMoves.default:before { /* scissors  */ \n    content: "\\f0c4";\n}\n\n.button.fa-times {\n   color: red;\n}\n\n.button.fa-times:hover {\n    border: red 2px solid;\n}\n\ntextarea.pgn {\n    padding: 2px;\n    border: 1px solid grey;\n    width: 96%;\n    height: 100px;\n    font-family: monospace;\n}\n\n/* Green buttons. */\ndiv.buttons.green > .button, div.edit.green > .button {\n    color: green;\n    border: solid lightgrey 1px;\n    border-radius: 4px;\n}\n/* Blue buttons. */\ndiv.buttons.blue > .button, div.edit.blue > .button {\n    color: blue;\n    border: solid lightgrey 1px;\n    border-radius: 4px;\n}\n\n.ui-widget {\n    font-size: 1em;\n}\n\ndiv.commentRadio label {\n    display: inline;\n}\ndiv.comment > textarea.comment {\n    font-family: monospace;\n    width: 96%;\n    height: 50px;\n    padding: 2px;\n}\n\n.moves a {\n    text-decoration: underline;\n}\n\n.moves .move a.yellow {\n    background-color: rgba(255, 255, 153, 1.0);\n}\n\n.moves .move a {\n    text-decoration: none;\n    border: 1px solid transparent;\n}\n\n.moves .move a:hover {\n    border: 1px yellow dotted;\n    background-color: rgba(255, 255, 153, 1.0);\n    cursor: crosshair;\n}\n\n.moves .move {\n    font-size: 16px;\n    font-family: Georgia, "Bitstream Charter", serif;;\n    color: black;\n    font-weight: 700;\n    line-height: 24px;\n}\n\n.moves .move.var {\n    font-weight: 500;\n}\n\n.moves .variation {\n    font-size: 100%;\n    display: block;\n    padding: 5px;\n}\n.moves .variation:before {\n    content: \' ( \';\n}\n\n.moves .variation .variation:before {\n    content: \' ( \';\n}\n\n.moves .variation .variation {\n    font-size: 90%;\n    padding-left: 10px;\n    padding-right: 10px;\n}\n\n.moves .variation .variation:after {\n    content: \' ) \';\n}\n\n.moves .variation:after {\n    content: \' ) \';\n}\n\n.moves > .varblock .white:before {\n    display: inline;\n}\n\n.moves .move .comment {\n    color: green;\n    font-weight: 500;\n}\n\n.moves .move .comment.timeTiny {\n    font-weight: 300;\n    font-size: 60%;\n}\n\n.moves .move .comment.timeLarge {\n}\n\n.moves .move .timeNormal {\n    font-weight: 400;\n    font-size: 80%;\n}\n\n.moves .white:before {\n    content: \'\\A\';\n    display: inline-block;\n}\n\n/* Pattern of the Chess.com similar */\n/* board */\n.chesscom.whole {\n    /*    border: 2px solid #404040; */\n    border: 2px gray solid;\n    display: flex;\n    flex-flow: row wrap;\n}\n\n.chesscom .headers {\n    font-family: "Lucida Grande", Verdana, Arial, "Bitstream Vera Sans", sans-serif;\n    font-size: 18px;\n/*    padding: 15px;*/\n    background-color: #f3f3f3;\n    font-weight: bold;\n    flex: 1 100%;\n}\n\n.chesscom .headers > .whiteHeader:before {\n    content: "";\n}\n\n.chesscom .headers > .whiteHeader {\n    display: inline-block;\n    padding-top: 10px;\n    padding-left: 10px;\n}\n\n.chesscom .headers > .blackHeader:before {\n    content: "  vs. ";\n}\n\n.chesscom .headers > .blackHeader {\n    display: inline-block;\n    padding-top: 10px;\n    padding-left: 10px;\n}\n.chesscom .headers > .restHeader {\n    display: block;\n    padding-left: 10px;\n    padding-bottom: 10px;\n    font-weight: 500;\n    font-size: 80%;\n}\n\n.chesscom .players {\n    font-weight: 900;\n}\n\n.chesscom .outerBoard {\n    /* float: left; */\n    width: 388px;\n}\n\n/* .chesscom .movesScroller {\n    padding: 3px 3px;\n    font-size: 13px;\n    font-family: "Trebuchet MS", Arial, sans-serif;\n    font-weight: bold;\n    border-right: 2px solid #f3f3f3;\n    background: #ffffff;\n    vertical-align: baseline;\n    text-align: left;\n    overflow: auto;\n} */\n\n\n.moves {\n    /*  position: relative;\n    overflow-y: auto;*/\n    padding: 10px;\n}\n\n.chesscom .endBoard {\n    clear: both;\n}\n.chesscom .moves a {\n    text-decoration: none;\n}\n\n/**\n  CHESSGROUND changes.\n  */\n \n.cg-wrap.coords-inner {\n    margin-bottom: 0px;\n    margin-right: 0px;\n}\n.cg-wrap {\n    margin-bottom: 15px;\n    margin-right: 15px;\n}\n.cg-wrap.coords-inner coords.ranks {\n    right: -2px;\n}\n.cg-wrap.coords-inner coords.files {\n    bottom: 2px;\n    left: 2px;\n    text-align: left;\n}\n.cg-wrap coords.files {\n    text-transform: none;\n}\n\n/* board and colorMarker */\n.boardAnd {\n    /*\n    display: grid;\n    grid-template-columns: 400px 40px;\n    */\n}\n\n.board {\n    /*order: 2;*/\n}\n\n.colorMarker {\n    width: 20px; height: 20px;\n    border-color: black;\n    border-width: 2px;\n    border-style: double;\n    margin: 10px;\n    /*order: 1; */\n}\n\n.colorMarker.circle {\n    border-radius: 10px;\n}\n\n.colorMarker.circle-big {\n    border-radius: 20px;\n    width: 40px; height: 40px;\n}\n\n.colorMarker.circle-small {\n    border-radius: 5px;\n    width: 10px; height: 10px;\n}\n\n.cm-black {\n    background-color: black;\n}\n\n.cm-white {\n    background-color: white;\n}\n\n.cm-big {\n    width: 40px; height: 40px;   \n}\n\n.cm-small {\n    width: 10px; height: 10px;\n}',""]),e.exports=n},function(e,n,t){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){r(e,n,t[n])}))}return e}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function s(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,n,t){return n&&s(e.prototype,n),t&&s(e,t),e}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,n){return!n||"object"!==o(n)&&"function"!=typeof n?l(e):n}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,n){return(f=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function p(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&f(e,n)}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function h(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function m(e,n){if(e){if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,n):void 0}}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||h(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){if(Array.isArray(e))return e}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e){return b(e)||h(e)||m(e)||y()}function k(e,n){return b(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return t}}(e,n)||m(e,n)||y()}t.r(n),t.d(n,"pgnBoard",(function(){return Ee})),t.d(n,"pgnEdit",(function(){return _e})),t.d(n,"pgnBase",(function(){return xe})),t.d(n,"pgnPrint",(function(){return Ae})),t.d(n,"pgnView",(function(){return Ce}));var x={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){var t;console&&console[e]&&(t=console)[e].apply(t,v(n))}},O=new(function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.init(n,t)}return c(e,[{key:"init",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||x,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,n,t,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(t).concat(this.prefix," ").concat(e[0])),this.logger[n](e))}},{key:"create",value:function(n){return new e(this.logger,i({},{prefix:"".concat(this.prefix,":").concat(n,":")},this.options))}}]),e}()),C=function(){function e(){a(this,e),this.observers={}}return c(e,[{key:"on",value:function(e,n){var t=this;return e.split(" ").forEach((function(e){t.observers[e]=t.observers[e]||[],t.observers[e].push(n)})),this}},{key:"off",value:function(e,n){this.observers[e]&&(n?this.observers[e]=this.observers[e].filter((function(e){return e!==n})):delete this.observers[e])}},{key:"emit",value:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,t)}))}if(this.observers["*"]){var i=[].concat(this.observers["*"]);i.forEach((function(n){n.apply(n,[e].concat(t))}))}}}]),e}();function E(){var e,n,t=new Promise((function(t,o){e=t,n=o}));return t.resolve=e,t.reject=n,t}function _(e){return null==e?"":""+e}function A(e,n,t){e.forEach((function(e){n[e]&&(t[e]=n[e])}))}function S(e,n,t){function o(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var i="string"!=typeof n?[].concat(n):n.split(".");i.length>1;){if(r())return{};var a=o(i.shift());!e[a]&&t&&(e[a]=new t),e=e[a]}return r()?{}:{obj:e,k:o(i.shift())}}function M(e,n,t){var o=S(e,n,Object);o.obj[o.k]=t}function T(e,n){var t=S(e,n),o=t.obj,r=t.k;if(o)return o[r]}function P(e,n,t){var o=T(e,t);return void 0!==o?o:T(n,t)}function N(e,n,t){for(var o in n)o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof n[o]||n[o]instanceof String?t&&(e[o]=n[o]):N(e[o],n[o],t):e[o]=n[o];return e}function L(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function R(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return j[e]})):e}var I="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,B=function(e){function n(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return a(this,n),t=u(this,d(n).call(this)),I&&C.call(l(t)),t.data=e||{},t.options=o,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t}return p(n,e),c(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}},{key:"getResource",value:function(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,i=[e,n];return t&&"string"!=typeof t&&(i=i.concat(t)),t&&"string"==typeof t&&(i=i.concat(r?t.split(r):t)),e.indexOf(".")>-1&&(i=e.split(".")),T(this.data,i)}},{key:"addResource",value:function(e,n,t,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[e,n];t&&(a=a.concat(i?t.split(i):t)),e.indexOf(".")>-1&&(o=n,n=(a=e.split("."))[1]),this.addNamespaces(n),M(this.data,a,o),r.silent||this.emit("added",e,n,t,o)}},{key:"addResources",value:function(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in t)"string"!=typeof t[r]&&"[object Array]"!==Object.prototype.toString.apply(t[r])||this.addResource(e,n,r,t[r],{silent:!0});o.silent||this.emit("added",e,n,t)}},{key:"addResourceBundle",value:function(e,n,t,o,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,n];e.indexOf(".")>-1&&(o=t,t=n,n=(s=e.split("."))[1]),this.addNamespaces(n);var c=T(this.data,s)||{};o?N(c,t,r):c=i({},c,t),M(this.data,s,c),a.silent||this.emit("added",e,n,t)}},{key:"removeResourceBundle",value:function(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}},{key:"hasResourceBundle",value:function(e,n){return void 0!==this.getResource(e,n)}},{key:"getResourceBundle",value:function(e,n){return n||(n=this.options.defaultNS),"v1"===this.options.compatibilityAPI?i({},{},this.getResource(e,n)):this.getResource(e,n)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),n}(C),D={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,t,o,r){var i=this;return e.forEach((function(e){i.processors[e]&&(n=i.processors[e].process(n,t,o,r))})),n}},q={},F=function(e){function n(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(this,n),t=u(this,d(n).call(this)),I&&C.call(l(t)),A(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,l(t)),t.options=o,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=O.create("translator"),t}return p(n,e),c(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},t=this.resolve(e,n);return t&&void 0!==t.res}},{key:"extractFromKey",value:function(e,n){var t=n.nsSeparator||this.options.nsSeparator;void 0===t&&(t=":");var o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,r=n.ns||this.options.defaultNS;if(t&&e.indexOf(t)>-1){var i=e.split(t);(t!==o||t===o&&this.options.ns.indexOf(i[0])>-1)&&(r=i.shift()),e=i.join(o)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,n){var t=this;if("object"!==o(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var r=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],n),s=a.key,c=a.namespaces,l=c[c.length-1],u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(d){var f=n.nsSeparator||this.options.nsSeparator;return l+f+s}return s}var p=this.resolve(e,n),g=p&&p.res,h=p&&p.usedKey||s,m=p&&p.exactUsedKey||s,v=Object.prototype.toString.apply(g),b=["[object Number]","[object Function]","[object RegExp]"],y=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(w&&g&&k&&b.indexOf(v)<0&&("string"!=typeof y||"[object Array]"!==v)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,g,n):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(r){var x="[object Array]"===v,O=x?[]:{},C=x?m:h;for(var E in g)if(Object.prototype.hasOwnProperty.call(g,E)){var _="".concat(C).concat(r).concat(E);O[E]=this.translate(_,i({},n,{joinArrays:!1,ns:c})),O[E]===_&&(O[E]=g[E])}g=O}}else if(w&&"string"==typeof y&&"[object Array]"===v)(g=g.join(y))&&(g=this.extendTranslation(g,e,n));else{var A=!1,S=!1;if(!this.isValidLookup(g)&&void 0!==n.defaultValue){if(A=!0,void 0!==n.count){var M=this.pluralResolver.getSuffix(u,n.count);g=n["defaultValue".concat(M)]}g||(g=n.defaultValue)}this.isValidLookup(g)||(S=!0,g=s);var T=n.defaultValue&&n.defaultValue!==g&&this.options.updateMissing;if(S||A||T){this.logger.log(T?"updateKey":"missingKey",u,l,s,T?n.defaultValue:g);var P=[],N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&N&&N[0])for(var L=0;L<N.length;L++)P.push(N[L]);else"all"===this.options.saveMissingTo?P=this.languageUtils.toResolveHierarchy(n.lng||this.language):P.push(n.lng||this.language);var j=function(e,o){t.options.missingKeyHandler?t.options.missingKeyHandler(e,l,o,T?n.defaultValue:g,T,n):t.backendConnector&&t.backendConnector.saveMissing&&t.backendConnector.saveMissing(e,l,o,T?n.defaultValue:g,T,n),t.emit("missingKey",e,l,o,g)};if(this.options.saveMissing){var R=void 0!==n.count&&"string"!=typeof n.count;this.options.saveMissingPlurals&&R?P.forEach((function(e){t.pluralResolver.getPluralFormsOfKey(e,s).forEach((function(n){return j([e],n)}))})):j(P,s)}}g=this.extendTranslation(g,e,n,p),S&&g===s&&this.options.appendNamespaceToMissingKey&&(g="".concat(l,":").concat(s)),S&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(e,n,t,o){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,t,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!t.skipInterpolation){t.interpolation&&this.interpolator.init(i({},t,{interpolation:i({},this.options.interpolation,t.interpolation)}));var a=t.replace&&"string"!=typeof t.replace?t.replace:t;this.options.interpolation.defaultVariables&&(a=i({},this.options.interpolation.defaultVariables,a)),e=this.interpolator.interpolate(e,a,t.lng||this.language,t),!1!==t.nest&&(e=this.interpolator.nest(e,(function(){return r.translate.apply(r,arguments)}),t)),t.interpolation&&this.interpolator.reset()}var s=t.postProcess||this.options.postProcess,c="string"==typeof s?[s]:s;return null!=e&&c&&c.length&&!1!==t.applyPostProcessor&&(e=D.handle(c,e,n,this.options&&this.options.postProcessPassResolved?i({i18nResolved:o},t):t,this)),e}},{key:"resolve",value:function(e){var n,t,o,r,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(n)){var c=a.extractFromKey(e,s),l=c.key;t=l;var u=c.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,f=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);u.forEach((function(e){a.isValidLookup(n)||(i=e,!q["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(q["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(t,'" for namespace "').concat(i,'" for languages "').concat(p.join(", "),"\" won't get resolved as namespace was not yet loaded"),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(t){if(!a.isValidLookup(n)){r=t;var i,c,u=l,p=[u];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(p,l,t,e,s);else d&&(i=a.pluralResolver.getSuffix(t,s.count)),d&&f&&p.push(u+i),f&&p.push(u+="".concat(a.options.contextSeparator).concat(s.context)),d&&p.push(u+=i);for(;c=p.pop();)a.isValidLookup(n)||(o=c,n=a.getResource(t,e,c,s))}})))}))}})),{res:n,usedKey:t,exactUsedKey:o,usedLng:r,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,t,o):this.resourceStore.getResource(e,n,t,o)}}]),n}(C);function U(e){return e.charAt(0).toUpperCase()+e.slice(1)}var K=function(){function e(n){a(this,e),this.options=n,this.whitelist=this.options.whitelist||!1,this.logger=O.create("languageUtils")}return c(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var n=e.split("-");return 2===n.length?null:(n.pop(),this.formatLanguageCode(n.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var n=e.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],t=e.split("-");return this.options.lowerCaseLng?t=t.map((function(e){return e.toLowerCase()})):2===t.length?(t[0]=t[0].toLowerCase(),t[1]=t[1].toUpperCase(),n.indexOf(t[1].toLowerCase())>-1&&(t[1]=U(t[1].toLowerCase()))):3===t.length&&(t[0]=t[0].toLowerCase(),2===t[1].length&&(t[1]=t[1].toUpperCase()),"sgn"!==t[0]&&2===t[2].length&&(t[2]=t[2].toUpperCase()),n.indexOf(t[1].toLowerCase())>-1&&(t[1]=U(t[1].toLowerCase())),n.indexOf(t[2].toLowerCase())>-1&&(t[2]=U(t[2].toLowerCase()))),t.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1}},{key:"getFallbackCodes",value:function(e,n){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!n)return e.default||[];var t=e[n];return t||(t=e[this.getScriptPartFromCode(n)]),t||(t=e[this.formatLanguageCode(n)]),t||(t=e[this.getLanguagePartFromCode(n)]),t||(t=e.default),t||[]}},{key:"toResolveHierarchy",value:function(e,n){var t=this,o=this.getFallbackCodes(n||this.options.fallbackLng||[],e),r=[],i=function(e){e&&(t.isWhitelisted(e)?r.push(e):t.logger.warn("rejecting non-whitelisted language code: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),o.forEach((function(e){r.indexOf(e)<0&&i(t.formatLanguageCode(e))})),r}}]),e}(),z=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],G={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1===e?0:2===e?1:(e<0||e>10)&&e%10==0?2:3)}};function $(){var e={};return z.forEach((function(n){n.lngs.forEach((function(t){e[t]={numbers:n.nr,plurals:G[n.fc]}}))})),e}var V=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.languageUtils=n,this.options=t,this.logger=O.create("pluralResolver"),this.rules=$()}return c(e,[{key:"addRule",value:function(e,n){this.rules[e]=n}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var n=this.getRule(e);return n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,n){var t=this,o=[],r=this.getRule(e);return r?(r.numbers.forEach((function(r){var i=t.getSuffix(e,r);o.push("".concat(n).concat(i))})),o):o}},{key:"getSuffix",value:function(e,n){var t=this,o=this.getRule(e);if(o){var r=o.noAbs?o.plurals(n):o.plurals(Math.abs(n)),i=o.numbers[r];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return t.options.prepend&&i.toString()?t.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),H=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.logger=O.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||function(e){return e},this.init(n)}return c(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var n=e.interpolation;this.escape=void 0!==n.escape?n.escape:R,this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.useRawValueToEscape=void 0!==n.useRawValueToEscape&&n.useRawValueToEscape,this.prefix=n.prefix?L(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?L(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?L(n.nestingPrefix):n.nestingPrefixEscaped||L("$t("),this.nestingSuffix=n.nestingSuffix?L(n.nestingSuffix):n.nestingSuffixEscaped||L(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=void 0!==n.alwaysFormat&&n.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var t="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(t,"g")}},{key:"interpolate",value:function(e,n,t,o){var r,i,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var r=P(n,c,e);return s.alwaysFormat?s.format(r,void 0,t):r}var i=e.split(s.formatSeparator),a=i.shift().trim(),l=i.join(s.formatSeparator).trim();return s.format(P(n,c,a),l,t,o)};this.resetRegExp();var d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler;for(a=0;r=this.regexpUnescape.exec(e);){if(void 0===(i=u(r[1].trim())))if("function"==typeof d){var f=d(e,r,o);i="string"==typeof f?f:""}else this.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),i="";else"string"==typeof i||this.useRawValueToEscape||(i=_(i));if(e=e.replace(r[0],l(i)),this.regexpUnescape.lastIndex=0,++a>=this.maxReplaces)break}for(a=0;r=this.regexp.exec(e);){if(void 0===(i=u(r[1].trim())))if("function"==typeof d){var p=d(e,r,o);i="string"==typeof p?p:""}else this.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),i="";else"string"==typeof i||this.useRawValueToEscape||(i=_(i));if(i=this.escapeValue?l(this.escape(i)):l(i),e=e.replace(r[0],i),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return e}},{key:"nest",value:function(e,n){var t,o,r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i({},a);function c(e,n){var t=this.nestingOptionsSeparator;if(e.indexOf(t)<0)return e;var o=e.split(new RegExp("".concat(t,"[ ]*{"))),r="{".concat(o[1]);e=o[0],r=(r=this.interpolate(r,s)).replace(/'/g,'"');try{s=JSON.parse(r),n&&(s=i({},n,s))}catch(n){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),n),"".concat(e).concat(t).concat(r)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;t=this.nestingRegexp.exec(e);){var l=[],u=!1;if(t[0].includes(this.formatSeparator)&&!/{.*}/.test(t[1])){var d=t[1].split(this.formatSeparator).map((function(e){return e.trim()})),f=w(d);t[1]=f[0],l=f.slice(1),u=!0}if((o=n(c.call(this,t[1].trim(),s),s))&&t[0]===e&&"string"!=typeof o)return o;"string"!=typeof o&&(o=_(o)),o||(this.logger.warn("missed to resolve ".concat(t[1]," for nesting ").concat(e)),o=""),u&&(o=l.reduce((function(e,n){return r.format(e,n,a.lng,a)}),o.trim())),e=e.replace(t[0],o),this.regexp.lastIndex=0}return e}}]),e}();var W=function(e){function n(e,t,o){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a(this,n),r=u(this,d(n).call(this)),I&&C.call(l(r)),r.backend=e,r.store=t,r.services=o,r.languageUtils=o.languageUtils,r.options=i,r.logger=O.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(o,i.backend,i),r}return p(n,e),c(n,[{key:"queueLoad",value:function(e,n,t,o){var r=this,i=[],a=[],s=[],c=[];return e.forEach((function(e){var o=!0;n.forEach((function(n){var s="".concat(e,"|").concat(n);!t.reload&&r.store.hasResourceBundle(e,n)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?a.indexOf(s)<0&&a.push(s):(r.state[s]=1,o=!1,a.indexOf(s)<0&&a.push(s),i.indexOf(s)<0&&i.push(s),c.indexOf(n)<0&&c.push(n)))})),o||s.push(e)})),(i.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:o}),{toLoad:i,pending:a,toLoadLanguages:s,toLoadNamespaces:c}}},{key:"loaded",value:function(e,n,t){var o=k(e.split("|"),2),r=o[0],i=o[1];n&&this.emit("failedLoading",r,i,n),t&&this.store.addResourceBundle(r,i,t),this.state[e]=n?-1:2;var a={};this.queue.forEach((function(t){var o,s,c,l,u,d;o=t.loaded,s=i,l=S(o,[r],Object),u=l.obj,d=l.k,u[d]=u[d]||[],c&&(u[d]=u[d].concat(s)),c||u[d].push(s),function(e,n){for(var t=e.indexOf(n);-1!==t;)e.splice(t,1),t=e.indexOf(n)}(t.pending,e),n&&t.errors.push(n),0!==t.pending.length||t.done||(Object.keys(t.loaded).forEach((function(e){a[e]||(a[e]=[]),t.loaded[e].length&&t.loaded[e].forEach((function(n){a[e].indexOf(n)<0&&a[e].push(n)}))})),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,n,t){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[t](e,n,(function(s,c){s&&c&&r<5?setTimeout((function(){o.read.call(o,e,n,t,r+1,2*i,a)}),i):a(s,c)})):a(null,{})}},{key:"prepareLoading",value:function(e,n){var t=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof n&&(n=[n]);var i=this.queueLoad(e,n,o,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((function(e){t.loadOne(e)}))}},{key:"load",value:function(e,n,t){this.prepareLoading(e,n,{},t)}},{key:"reload",value:function(e,n,t){this.prepareLoading(e,n,{reload:!0},t)}},{key:"loadOne",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),r=k(o,2),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(function(o,r){o&&n.logger.warn("".concat(t,"loading namespace ").concat(a," for language ").concat(i," failed"),o),!o&&r&&n.logger.log("".concat(t,"loaded namespace ").concat(a," for language ").concat(i),r),n.loaded(e,o,r)}))}},{key:"saveMissing",value:function(e,n,t,o,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)?this.logger.warn('did not save key "'.concat(t,'" for namespace "').concat(n,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=t&&""!==t&&(this.backend&&this.backend.create&&this.backend.create(e,n,t,o,null,i({},a,{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],n,t,o))}}]),n}(C);function Y(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if("object"===o(e[1])&&(n=e[1]),"string"==typeof e[1]&&(n.defaultValue=e[1]),"string"==typeof e[2]&&(n.tDescription=e[2]),"object"===o(e[2])||"object"===o(e[3])){var t=e[3]||e[2];Object.keys(t).forEach((function(e){n[e]=t[e]}))}return n},interpolation:{escapeValue:!0,format:function(e,n,t,o){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3}}}function Q(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}function X(){}var J=new(function(e){function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(a(this,n),e=u(this,d(n).call(this)),I&&C.call(l(e)),e.options=Q(t),e.services={},e.logger=O,e.modules={external:[]},o&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,o),u(e,l(e));setTimeout((function(){e.init(t,o)}),0)}return e}return p(n,e),c(n,[{key:"init",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;function o(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof n&&(t=n,n={}),this.options=i({},Y(),this.options,Q(n)),this.format=this.options.interpolation.format,t||(t=X),!this.options.isClone){this.modules.logger?O.init(o(this.modules.logger),this.options):O.init(null,this.options);var r=new K(this.options);this.store=new B(this.options.resources,this.options);var a=this.services;a.logger=O,a.resourceStore=this.store,a.languageUtils=r,a.pluralResolver=new V(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new H(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new W(o(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(n){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];e.emit.apply(e,[n].concat(o))})),this.modules.languageDetector&&(a.languageDetector=o(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=o(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new F(this.services,this.options),this.translator.on("*",(function(n){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];e.emit.apply(e,[n].concat(o))})),this.modules.external.forEach((function(n){n.init&&n.init(e)}))}this.modules.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var s=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];s.forEach((function(n){e[n]=function(){var t;return(t=e.store)[n].apply(t,arguments)}}));var c=E(),l=function(){e.changeLanguage(e.options.lng,(function(n,o){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(o),t(n,o)}))};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),c}},{key:"loadResources",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,o=t,r="string"==typeof e?e:this.language;if("function"==typeof e&&(o=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return o();var i=[],a=function(e){e&&n.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};if(r)a(r);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(i,this.options.ns,o)}else o(null)}},{key:"reloadResources",value:function(e,n,t){var o=E();return e||(e=this.languages),n||(n=this.options.ns),t||(t=X),this.services.backendConnector.reload(e,n,(function(e){o.resolve(),t(e)})),o}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&D.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,n){var t=this;this.isLanguageChangingTo=e;var o=E();this.emit("languageChanging",e);var r=function(e){e&&(t.language||(t.language=e,t.languages=t.services.languageUtils.toResolveHierarchy(e)),t.translator.language||t.translator.changeLanguage(e),t.services.languageDetector&&t.services.languageDetector.cacheUserLanguage(e)),t.loadResources(e,(function(r){!function(e,r){r?(t.language=r,t.languages=t.services.languageUtils.toResolveHierarchy(r),t.translator.changeLanguage(r),t.isLanguageChangingTo=void 0,t.emit("languageChanged",r),t.logger.log("languageChanged",r)):t.isLanguageChangingTo=void 0,o.resolve((function(){return t.t.apply(t,arguments)})),n&&n(e,(function(){return t.t.apply(t,arguments)}))}(r,e)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,n){var t=this,r=function e(n,r){var a;if("object"!==o(r)){for(var s=arguments.length,c=new Array(s>2?s-2:0),l=2;l<s;l++)c[l-2]=arguments[l];a=t.options.overloadTranslationOptionHandler([n,r].concat(c))}else a=i({},r);return a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,t.t(n,a)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=n,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var n=this;if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var t=this.languages[0],o=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===t.toLowerCase())return!0;var i=function(e,t){var o=n.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===o||2===o};return!!this.hasResourceBundle(t,e)||(!this.services.backendConnector.backend||!(!i(t,e)||o&&!i(r,e)))}},{key:"loadNamespaces",value:function(e,n){var t=this,o=E();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){t.options.ns.indexOf(e)<0&&t.options.ns.push(e)})),this.loadResources((function(e){o.resolve(),n&&n(e)})),o):(n&&n(),Promise.resolve())}},{key:"loadLanguages",value:function(e,n){var t=E();"string"==typeof e&&(e=[e]);var o=this.options.preload||[],r=e.filter((function(e){return o.indexOf(e)<0}));return r.length?(this.options.preload=o.concat(r),this.loadResources((function(e){t.resolve(),n&&n(e)})),t):(n&&n(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new n(e,t)}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,r=i({},this.options,t,{isClone:!0}),a=new n(r),s=["store","services","language"];return s.forEach((function(n){a[n]=e[n]})),a.services=i({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new F(a.services,a.options),a.translator.on("*",(function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];a.emit.apply(a,[e].concat(t))})),a.init(r,o),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}}]),n}(C)),Z=[],ee=Z.forEach,ne=Z.slice;function te(e){return ee.call(ne.call(arguments,1),(function(n){if(n)for(var t in n)void 0===e[t]&&(e[t]=n[t])})),e}function oe(e,n){if(n&&"object"===o(n)){var t="",r=encodeURIComponent;for(var i in n)t+="&"+r(i)+"="+r(n[i]);if(!t)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+t.slice(1)}return e}function re(e,n,t,r,i){r&&"object"===o(r)&&(i||(r._t=new Date),r=oe("",r).slice(1)),n.queryStringParams&&(e=oe(e,n.queryStringParams));try{var a;(a=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(r?"POST":"GET",e,1),n.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!n.withCredentials,r&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var s=n.customHeaders;if(s="function"==typeof s?s():s)for(var c in s)a.setRequestHeader(c,s[c]);a.onreadystatechange=function(){a.readyState>3&&t&&t(a.responseText,a)},a.send(r)}catch(e){console&&console.log(e)}}function ie(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,parsePayload:function(e,n,t){return r({},n,t||"")},crossDomain:!1,ajax:re}}var ae=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.init(n,t),this.type="backend"}return c(e,[{key:"init",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=te(n,this.options||{},ie())}},{key:"readMulti",value:function(e,n,t){var o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath(e,n));var r=this.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});this.loadUrl(r,t)}},{key:"read",value:function(e,n,t){var o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath([e],[n]));var r=this.services.interpolator.interpolate(o,{lng:e,ns:n});this.loadUrl(r,t)}},{key:"loadUrl",value:function(e,n){var t=this;this.options.ajax(e,this.options,(function(o,r){if(r.status>=500&&r.status<600)return n("failed loading "+e,!0);if(r.status>=400&&r.status<500)return n("failed loading "+e,!1);var i,a;try{i=t.options.parse(o,e)}catch(n){a="failed parsing "+e+" to json"}if(a)return n(a,!1);n(null,i)}))}},{key:"create",value:function(e,n,t,o){var r=this;"string"==typeof e&&(e=[e]);var i=this.options.parsePayload(n,t,o);e.forEach((function(e){var t=r.services.interpolator.interpolate(r.options.addPath,{lng:e,ns:n});r.options.ajax(t,r.options,(function(e,n){}),i)}))}}]),e}();ae.type="backend";var se=ae,ce=t(14),le=t.n(ce),ue=t(15),de=t.n(ue),fe=t(8),pe=t(16);let ge=function(e){if("string"==typeof e){isNaN(parseInt(e,10))&&(e="1"+e);var n=e.replace(/[^a-z0-9\.]/g,"").match(/(?:(\d+(?:\.\d+)?)(?:days?|d))?(?:(\d+(?:\.\d+)?)(?:hours?|hrs?|h))?(?:(\d+(?:\.\d+)?)(?:minutes?|mins?|m\b))?(?:(\d+(?:\.\d+)?)(?:seconds?|secs?|s))?(?:(\d+(?:\.\d+)?)(?:milliseconds?|ms))?/);if(n[0])return 864e5*parseFloat(n[1]||0)+36e5*parseFloat(n[2]||0)+6e4*parseFloat(n[3]||0)+1e3*parseFloat(n[4]||0)+parseInt(n[5]||0,10);if(!isNaN(parseInt(e,10)))return parseInt(e,10)}return"number"==typeof e?e:0};function he(e){if(this instanceof he==!1)return new he(e);this._notifications=[],this._resolution=ge(e)||1e3,this._running=!1,this._ticks=0,this._timer=null,this._drift=0}he.prototype={start:function(){var e=this;return this._running||(this._running=!this._running,setTimeout((function n(){e._ticks++;for(var t=0,o=e._notifications.length;t<o;t++)e._notifications[t]&&e._ticks%e._notifications[t].ticks==0&&e._notifications[t].callback.call(e._notifications[t],{ticks:e._ticks,resolution:e._resolution});e._running&&(e._timer=setTimeout(n,e._resolution+e._drift),e._drift=0)}),this._resolution+this._drift),this._drift=0),this},stop:function(){return this._running&&(this._running=!this._running,clearTimeout(this._timer)),this},reset:function(){return this.stop(),this._ticks=0,this},clear:function(){return this.reset(),this._notifications=[],this},ticks:function(){return this._ticks},resolution:function(){return this._resolution},running:function(){return this._running},bind:function(e,n){if(e&&n){var t=(o=ge(e),r=this._resolution,parseInt(o/r,10)||1);this._notifications.push({ticks:t,callback:n})}var o,r;return this},unbind:function(e){if(e)for(var n=0,t=this._notifications.length;n<t;n++)this._notifications[n]&&this._notifications[n].callback===e&&this._notifications.splice(n,1);else this._notifications=[];return this},drift:function(e){return this._drift=e,this}},he.prototype.every=he.prototype.bind,he.prototype.after=function(e,n){var t=this;return he.prototype.bind.call(t,e,(function e(){he.prototype.unbind.call(t,e),n.apply(this,arguments)})),this};var me=he,ve=t(17),be=t.n(ve),ye=t(18),we=t.n(ye);let ke=function(e,n){let t={},o=new fe.Utils;t.promMappings={q:"queen",r:"rook",b:"bishop",n:"knight"},t.configuration=Object.assign(Object.assign({width:"320px",showCoords:!0,orientation:"white",position:"start",showFen:!1,layout:"top",headers:!0,timerTime:700,locale:"en",movable:{free:!1},highlight:{lastMove:!0},viewOnly:!0,hideMovesBefore:!1,colorMarker:null,showResult:!1,timeAnnotation:"none",notation:"short"},PgnBaseDefaults),n),t.mypgn=Object(fe.pgnReader)(t.configuration);let r=t.mypgn.game,i=t.configuration.theme||"default";t.configuration.markup="object"==typeof e;let a,s=function(){return t.configuration.markup},c=function(e){return t.configuration.mode===e},l=function(){return t.mypgn.possibleMoves(r)};if(s());else var u,d=e+"Headers",f=e+"Moves",p=e+"Button",g=e+"Fen",h=(u=e+"Inner")+"ColorMarker";if(t.configuration.locale&&(t.configuration.locale=t.configuration.locale.replace(/_/g,"-"),J.loadLanguages(t.configuration.locale,(e,n)=>{})),t.configuration.position&&"start"!==t.configuration.position){4==t.configuration.position.split(/\s+/).length&&(t.configuration.position+=" 1 1")}function m(e){let n=document.createElement("DIV");const o=document.createTextNode(e);n.appendChild(o),t.errorDiv.appendChild(n)}function v(e,n){let t=o.pvIsElement(e)?e:document.getElementById(e);t&&(t.classList?t.classList.add(n):t.className+=" "+n)}function b(e,n){let t=o.pvIsElement(e)?e:document.getElementById(e);null!==t&&(t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))}function y(e,n,t){let r=o.pvIsElement(e)?e:document.getElementById(e);null!==r&&r.addEventListener(n,t)}function w(){let e=document.getElementById(h);e&&(e.classList.contains("cm-black")?e.classList.remove("cm-black"):e.classList.add("cm-black"))}function k(e,n,t,o,r){const i=document.createElement(e);return n&&i.setAttribute("id",n),t&&(o?i.setAttribute("class",o+" "+t):i.setAttribute("class",t)),r&&r.appendChild(i),i}function x(e){function n(e,n){return J.t("chess:"+e,{lng:n})}let o=t.configuration.locale;if(!o)return e;let r=e;if(!e.match(/^[a-h]x/)&&!e.match(/^[a-h]\d/)){let t=n(e[0],o);r=e.replace(e[0],t)}let i=r.match(/=([QRNB])/);return i&&(r=r.replace(i[1],n(i[1],o))),r}const O=function(e){return document.getElementById(f+e)},C=function(n,o,r,i,a,s){const c=function(e,n){const t=k("span",null,"comment "+n);return e&&"string"==typeof e&&t.appendChild(document.createTextNode(" "+e+" ")),t};if(null==r)return i;let l="move";r.variationLevel>0&&(l=l+" var var"+r.variationLevel),"w"==r.turn&&(l+=" white");const u=k("span",f+n,l);if(t.mypgn.startVariation(r)){const e=k("div",null,"variation");if(0==s.length){let n=null;n="number"==typeof r.prev?t.mypgn.getMove(r.prev).next:0,O(n).appendChild(e)}else s[s.length-1].appendChild(e);s.push(e)}if(u.appendChild(c(r.commentMove,"moveComment")),"w"==r.turn||t.mypgn.startMainLine(r)||t.mypgn.startVariation(r)||t.mypgn.afterMoveWithVariation(r)){const e=r.moveNumber;k("span",null,"moveNumber",null,u).appendChild(document.createTextNode(e+("w"==r.turn?". ":"... ")))}u.appendChild(c(r.commentBefore,"beforeComment"));const d=k("a",null,null,null,u),p=x(t.mypgn.sanWithNags(r)),g=document.createTextNode(p);if(d.appendChild(g),u.appendChild(document.createTextNode(" ")),"none"!=t.configuration.timeAnnotation&&r.commentDiag&&r.commentDiag.clock){let e=c(r.commentDiag.clock.value,t.configuration.timeAnnotation.class||"timeNormal");t.configuration.timeAnnotation.colorClass&&(e.style="color: "+t.configuration.timeAnnotation.colorClass),u.appendChild(e)}if(u.appendChild(c(r.commentAfter,"afterComment")),function(e,n,t,o){0==o.length?"number"==typeof e?function(e,n){const t=n.parentNode;t.lastChild==n?t.appendChild(e):t.insertBefore(e,n.nextSibling)}(n,O(e)):t.appendChild(n):o[o.length-1].appendChild(n)}(r.prev,u,a,s),t.mypgn.endVariation(r)&&s.pop(),y(O(n),"click",(function(e){A(t.currentMove,n,r.fen),e.stopPropagation()})),t.mypgn.has_diagram_nag(r)){const o=e+"dia"+n,i=k("div",o);u.appendChild(i),t.configuration.position=r.fen,function(e,n){let t=ke(e,Object.assign({headers:!1,mode:"board"},n));t.generateHTML(),t.generateBoard()}(o,t.configuration)}return n};function E(e){var n;b(document.querySelector("#"+f+" a.yellow"),"yellow"),v((n=e,document.querySelector("#"+f+n+"> a")),"yellow")}const _=function(e){let n=document.querySelectorAll("div.buttons .gray");o.pvEach(n,(function(e){b(e,"gray")}));const r=t.mypgn.getMove(e);null===e&&["prev","first"].forEach((function(e){v(document.querySelector("div.buttons ."+e),"gray")})),null!==e&&"number"!=typeof r.next&&["next","play","last"].forEach((function(e){v(document.querySelector("div.buttons ."+e),"gray")}));try{if(void 0===r)return;document.querySelector("#nagMenu"+p);document.querySelectorAll("#nagMenu"+p+" a.active").forEach((function(e){e.classList.toggle("active")})),(r.nag||[]).forEach((function(e){document.querySelector("#nagMenu"+p+' [data-value="'+e.substring(1)+'"]').parentNode.classList.toggle("active")}))}catch(e){}},A=function(n,o,i){let s=t.mypgn.getMove(o),u=s?s.fen:i;if(u||(u="start"==t.configuration.position?"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1":t.configuration.position),s?a.set({fen:u,lastMove:[s.from,s.to]}):a.set({fen:u,lastMove:[]}),function(e){if(e&&e.notation.promotion){let n=e.notation.promotion.substring(1,2).toLowerCase(),o={};o[e.to]={role:t.mypgn.PROMOTIONS[n],color:"w"==e.turn?"white":"black"},a.setPieces(o)}}(s),s&&a.setShapes(function(e){function n(e){return{Y:"yellow",R:"red",B:"blue",G:"green"}[e]}let t=[];if(null!=e){if(e.colorArrows)for(let o=0;o<e.colorArrows.length;o++){let r=e.colorArrows[o];t.push({orig:r.substring(1,3),dest:r.substring(3,5),brush:n(r.substring(0,1))})}if(e.colorFields)for(let o=0;o<e.colorFields.length;o++){let r=e.colorFields[o];t.push({orig:r.substring(1,3),brush:n(r.substring(0,1))})}}return t}(s.commentDiag)),r.load(u),E(o),t.currentMove=o,o&&function(e){const n=e;!function(e,n){let t=e.getBoundingClientRect(),o=e.clientHeight,r=(e.clientWidth,n.getBoundingClientRect());r.top>=t.top&&r.top<=t.top+o||(e.scrollTop=r.top+e.scrollTop-t.top)}(n.parentElement,n)}(O(o)),c("edit")){let n="w"==r.turn()?"white":"black";a.set({movable:Object.assign({},a.state.movable,{color:n,dests:l()}),turnColor:n,check:r.in_check()}),o&&function(n){let o=t.mypgn.getMove(n);~o&&(o.commentAfter?(document.querySelector("#"+e+" input.afterComment").checked=!0,document.querySelector("#"+e+" textarea.comment").value=o.commentAfter):o.commentBefore?(document.querySelector("#"+e+" input.beforeComment").checked=!0,document.querySelector("#"+e+" textarea.comment").value=o.commentBefore):o.commentMove?(document.querySelector("#"+e+" input.moveComment").checked=!0,document.querySelector("#"+e+" textarea.comment").value=o.commentMove):document.querySelector("#"+e+" textarea.comment").value="")}(o)}else if(c("view")){let e="w"==r.turn()?"white":"black";a.set({movable:Object.assign({},a.state.movable,{color:e}),turnColor:e,check:r.in_check()})}let d=document.getElementById(g);d&&(d.value=i),w(),_(o)};return{chess:r,board:a,getPgn:function(){return t.mypgn},generateHTML:function(){function n(e,n){const o=["green","blue"].indexOf(i)>=0?i:"default",r=k("i",p+e[0],"button fa "+e[1],o,n),a=J.t("buttons:"+e[0],{lng:t.configuration.locale});return document.getElementById(p+e[0]).setAttribute("title",a),r}const o=function(e){[["flipper","fa-adjust"],["first","fa-fast-backward"],["prev","fa-step-backward"],["next","fa-step-forward"],["play","fa-play-circle"],["last","fa-fast-forward"]].forEach((function(t){n(t,e)}))},r=function(e){[["promoteVar","fa-hand-o-up"],["deleteMoves","fa-scissors"]].forEach((function(t){n(t,e)})),[["pgn","fa-print"],["nags","fa-cog"]].forEach((function(t){n(t,e)}))};let a=function(e){let n=function(e,n,o){let r=k("div",null,n,i,o);e.forEach(e=>function(e,n){let o=k("a",null,null,i,r);!function(e,n){let o=k("i",null,null,i,n),r=t.mypgn.NAGS[e]||"";o.setAttribute("data-symbol",r),o.setAttribute("data-value",e),o.textContent=J.t("nag:$"+e+"_menu",{lng:t.configuration.locale})}(e,o),o.addEventListener("click",(function(){this.classList.toggle("active");let e=this.firstChild;t.mypgn.changeNag("$"+e.getAttribute("data-value"),t.currentMove,this.classList.contains("active")),function(e){let n=t.mypgn.getMove(e),o=x(t.mypgn.sanWithNags(n));document.querySelector("#"+f+e+" > a").textContent=o}(t.currentMove)}))}(e))};n([1,2,3,4,5,6,7,146],"nagMove",e),n([10,13,14,15,16,17,18,19],"nagPosition",e),n([22,40,36,132,136,32,44,140],"nagObservation",e)};if(s()){if(e.header&&v(d=e.header,"headers"),e.inner&&v(u=e.inner,"board"),e.button){v(p=e.button,"buttons"),o(document.getElementById(p))}if(e.moves&&v(f=e.moves,"moves"),e.editButton){r(document.getElementById(e.editButton))}}else{const n=document.getElementById(e);if(null==n)return;for(;n.childNodes.length>0;)n.removeChild(n.childNodes[0]);n.classList.add(i),n.classList.add("whole"),n.setAttribute("tabindex","0"),t.configuration.layout&&n.classList.add("layout-"+t.configuration.layout),t.errorDiv=k("div",e+"Error","error",null,n),k("div",d,"headers",i,n);const s=k("div",null,"outerBoard",null,n);let l=k("div",null,"boardAnd",i,s);if(t.configuration.boardSize&&(s.style.width=t.configuration.boardSize),t.configuration.width||t.configuration.boardSize){let e=t.configuration.width?t.configuration.width:t.configuration.boardSize;l.style.gridTemplateColumns=e+" 40px"}let m=k("div",null,"topInnerBoard",i,l);k("span",null,"topTime",i,m);k("div",u,"board",i,l);let v=k("div",null,"bottomInnerBoard",i,l);k("div",null,"bottomTime",i,v);if(t.configuration.colorMarker&&!c("print")&&k("div",h,"colorMarker "+t.configuration.colorMarker,i,l),c("view")||c("edit")){o(k("div",p,"buttons",i,s))}if((c("edit")||c("view"))&&t.configuration.showFen){k("textarea",g,"fen",i,s);y(g,"mousedown",(function(e){(e=e||window.event).preventDefault(),this.select()})),c("edit")?document.getElementById(g).onpaste=function(n){const o=n.originalEvent.clipboardData.getData("text");t.configuration.position=o,t.configuration.pgn="",pgnEdit(e,t.configuration)}:document.getElementById(g).readonly=!0;let n=t.configuration.width?t.configuration.width:t.configuration.boardSize;document.getElementById(g).style.width=n}if(c("print")||c("view")||c("edit")){const e=k("div",f,"moves",null,n);t.configuration.movesWidth?e.style.width=t.configuration.movesWidth:t.configuration.width&&(e.style.width=t.configuration.width),t.configuration.movesHeight&&(e.style.height=t.configuration.movesHeight)}if(c("edit")){r(k("div","edit"+p,"edit",i,n)),a(k("div","nagMenu"+p,"nagMenu",i,n));k("textarea","pgn"+p,"pgn",i,n);!function(e){const n=k("div",null,"commentRadio",i,e),t=k("input",null,"moveComment",i,n);t.type="radio",t.value="move",t.name="radio",k("label",null,"labelMoveComment",i,n).appendChild(document.createTextNode("Move"));const o=k("input",null,"beforeComment",i,n);o.type="radio",o.value="before",o.name="radio",k("label",null,"labelBeforeComment",i,n).appendChild(document.createTextNode("Before"));const r=k("input",null,"afterComment",i,n);r.type="radio",r.value="after",r.name="radio",k("label",null,"labelAfterComment",i,n).appendChild(document.createTextNode("After")),k("textarea",null,"comment",i,e)}(k("div","comment"+p,"comment",i,n)),y("pgn"+p,"mousedown",(function(e){(e=e||window.event).preventDefault(),e.target.select()})),document.getElementById("pgn"+p).onpaste=function(n){const o=n.originalEvent.clipboardData.getData("text");t.configuration.pgn=o,pgnEdit(e,t.configuration)}}k("div",null,"endBoard",null,n)}},generateBoard:function(){let e={coordsInner:!0,coordsFactor:1,disableContextMenu:!0,drawable:{onChange:e=>{let n=t.mypgn.getMove(t.currentMove);t.mypgn.setShapes(n,e)}}};var n,i,s;n=t.configuration,i=e,s=["position","orientation","showCoords","pieceTheme","draggable","coordsInner","coordsFactor","width","movable","viewOnly","highlight","boardSize","rankFontSize"],o.pvEach(s,(function(e){void 0!==n[e]&&(i[e]=n[e])})),e.resizable=!0,void 0!==e.showCoords&&(e.coordinates=e.showCoords),e.fen=e.position;const d=document.getElementById(u);void 0!==t.configuration.pieceStyle&&(d.className+=" "+t.configuration.pieceStyle),e.boardSize&&(e.width=e.boardSize);let f=parseInt(e.width),p=f-f%8;if(e.width=p+"px",a=Object(pe.Chessground)(d,e),e.width){d.style.width=e.width,d.style.height=e.width;let n=null;n=e.rankFontSize?e.rankFontSize:Math.max(8,Math.round(parseInt(e.width.slice(0,-2))/28*e.coordsFactor)),d.style.fontSize=n+"px",document.body.dispatchEvent(new Event("chessground.resize"))}if(e.coordsInner&&d.classList.add("coords-inner"),c("edit")){r.load(e.position);let n="w"==r.turn()?"white":"black";a.set({movable:Object.assign({},a.state.movable,{color:n,dests:l()}),turnColor:n,check:r.in_check()})}if(t.configuration.colorMarker&&"start"!=t.configuration.position&&"b"==t.configuration.position.split(" ")[1]){let e=document.getElementById(h);e&&e.classList.add("cm-black")}return a},generateMoves:function(n){try{t.mypgn.load_pgn()}catch(e){if(void 0!==e.location){const n=e.location.start.offset;let o=t.configuration.pgn;m("Offset: "+n),m("PGN: "+o),m(e.message)}else{m("PGN: "+t.configuration.pgn),m(e)}}let a=t.mypgn.getMoves();"start"==t.configuration.position?r.reset():r.load(t.configuration.position),null!==n&&n.set({fen:r.fen()});let l=document.getElementById(g);o.pvIsElement(l)&&(l.value=r.fen());const u=function(){return t.mypgn.write_pgn()},h=function(e){document.getElementById("pgn"+p).textContent=e},v=function(e){const n=document.getElementById(f);let o=null;const i=[];for(let a=0;a<e.length;a++)if(!t.mypgn.isDeleted(a)){const t=e[a];o=C(t.index,r,t,o,n,i)}};v(a),function(){const o=function(n,t){let o;o=s()?"#"+e.moves:"#"+e+",#"+e+"Moves";const r=document.querySelector(o);be()(r).bind(n,(function(e){t(),e.stopPropagation()}))},r=function(){let e=null;if(void 0===t.currentMove||null===t.currentMove)e=t.mypgn.getMove(0).fen,A(null,0,e);else{const n=t.mypgn.getMove(t.currentMove).next;if(void 0===n)return;e=t.mypgn.getMove(n).fen,A(t.currentMove,n,e)}},i=function(){let e=null;if(void 0===t.currentMove||null==t.currentMove);else{const n=t.mypgn.getMove(t.currentMove).prev;void 0===n||null==n?a():(e=t.mypgn.getMove(n).fen,A(t.currentMove,n,e))}},a=function(){A(null,null,null)},l=new me(10);l.bind(t.configuration.timerTime,(function(){r()})),y(p+"flipper","click",(function(){n.toggleOrientation()})),y(p+"next","click",(function(){r()})),y(p+"prev","click",(function(){i()})),y(p+"first","click",(function(){a()})),y(p+"last","click",(function(){const e=t.mypgn.getMove(t.mypgn.getMoves().length-1).fen;A(t.currentMove,t.mypgn.getMoves().length-1,e)}));if(c("edit")){y(p+"pgn","click",(function(){!function(){document.getElementById(p+"pgn"),document.getElementById(e+" .outerpgn");if(document.getElementById(p+"pgn").classList.toggle("selected"),document.getElementById(p+"pgn").classList.contains("selected")){const n=u();h(n),document.querySelector("#"+e+" .pgn").style.display="block"}else document.querySelector("#"+e+" .pgn").style.display="none"}()})),y(p+"nags","click",(function(){!function(){document.getElementById(p+"nags").classList.toggle("selected");document.getElementById(p+"nags").classList.contains("selected")?document.getElementById("nagMenu"+p).style.display="flex":document.getElementById("nagMenu"+p).style.display="none"}()})),y(p+"deleteMoves","click",(function(){const e=t.mypgn.getMove(t.currentMove).prev,n=t.mypgn.getMove(e).fen;t.mypgn.deleteMove(t.currentMove);let o=document.getElementById(f);for(;o.firstChild;)o.removeChild(o.firstChild);v(t.mypgn.getMoves()),A(null,e,n)})),y(p+"promoteVar","click",(function(){let e=t.currentMove;t.mypgn.promoteMove(t.currentMove);let n=document.getElementById(f);for(;n.firstChild;)n.removeChild(n.firstChild);v(t.mypgn.getOrderedMoves());let o=t.mypgn.getMove(e).fen;A(null,t.currentMove,o)})),document.querySelector("#"+e+" .pgn").style.display="none",document.querySelector("#comment"+p+" textarea.comment").onchange=function(){let e=" "+document.querySelector("#comment"+p+" textarea.comment").value+" ",n=document.querySelector("#comment"+p+" :checked");n=n?n.value:"after",O(t.currentMove).querySelector("."+n+"Comment").textContent=e,"after"===n?t.mypgn.getMove(t.currentMove).commentAfter=e:"before"===n?t.mypgn.getMove(t.currentMove).commentBefore=e:"move"===n&&(t.mypgn.getMove(t.currentMove).commentMove=e)};const n=["moveComment","beforeComment","afterComment"];for(let o=0;o<n.length;o++)document.querySelector("#comment"+p+" ."+n[o]).onclick=function(){const n=this.value;let o;"after"===n?o=t.mypgn.getMove(t.currentMove).commentAfter:"before"===n?o=t.mypgn.getMove(t.currentMove).commentBefore:"move"===n&&(o=t.mypgn.getMove(t.currentMove).commentMove),document.querySelector("#"+e+" textarea.comment").value=o}}o("left",i),o("right",r),y(p+"play","click",(function(){!function(){l.running()?l.stop():l.start();const e=document.getElementById(p+"play"),n=e.getAttribute("class");n=n.indexOf("play")<0?n.replace("stop","play"):n.replace("play","stop"),e.setAttribute("class",n)}()}))}(),function(){let e=t.mypgn.getTags();if(0==t.configuration.headers||o.pvIsEmpty(e)){let e=document.getElementById(d);return void e.parentNode.removeChild(e)}let n=document.getElementById(d),r=k("span",null,"whiteHeader",i,n);e.White&&r.appendChild(document.createTextNode(e.White+" "));let a=k("span",null,"blackHeader",i,n);e.Black&&a.appendChild(document.createTextNode(" "+e.Black));let s="";[e.Event,e.Site,e.Round,e.Date,e.ECO,e.Result].forEach((function(e){s=function(e,n,t){return n&&(e.length>0&&(e+=t),e+=n),e}(s,e," | ")})),k("span",null,"restHeader",i,n).appendChild(document.createTextNode(s))}(),function(){if(t.configuration.startPlay&&!t.configuration.hideMovesBefore){let e=t.mypgn.findMove(t.configuration.startPlay);if(void 0===e)return void m("Could not find startPlay: "+t.configuration.startPlay);A(e.prev,e.index,e.fen),E(e.index)}if(t.configuration.showResult){let e=t.mypgn.getEndGame();k("span",f+"Result","move",i,document.getElementById(f)).innerHTML=e||"*"}}()},onSnapEnd:async function(e,n,o){const i=t.currentMove;let s={from:e,to:n};if("p"==t.mypgn.game.get(e).type&&("8"==n.substring(1,2)||"1"==n.substring(1,2))){let e=await we()("Select the promotion figure",{buttons:{queen:{text:"Queen",value:"q"},rook:{text:"Rook",value:"r"},bishop:{text:"Bishop",value:"b"},knight:{text:"Knight",value:"n"}}});s.promotion=e}t.currentMove=t.mypgn.addMove(s,i);const c=t.mypgn.getMove(t.currentMove);if(s.promotion){let e={};e[n]=null,a.setPieces(e),e[n]={color:"w"==c.turn?"white":"black",role:t.promMappings[s.promotion]},a.setPieces(e)}if(c.notation.ep){let t={};t[n[0]+e[1]]=null,a.setPieces(t)}null===O(t.currentMove)&&C(t.currentMove,null,c,c.prev,document.getElementById(f),[]),E(t.currentMove),_(t.currentMove);let u="w"==c.turn?"black":"white";a.set({movable:Object.assign({},a.state.movable,{color:u,dests:l()}),check:r.in_check()});let d=document.getElementById(g);d&&(d.value=c.fen),w()}}};var xe=ke;t(31),t(33),t(35);let Oe={};de.a.polyfill(),Oe.schedule=function(e,n){let t=null,o=void 0!==e?e:"en";return J.hasResourceBundle(o)?t=n.call(null):J.loadLanguages(o,(e,o)=>{t=n.call(null)}),t},window.PgnBaseDefaults||(window.PgnBaseDefaults={}),window.pgnTestRegistry={};!function(){let e=window.PgnBaseDefaults.localesPattern||"locales/{{ns}}-{{lng}}.json",n={backend:{loadPath:window.PgnBaseDefaults.loadPath||function(){if(window.PgnBaseDefaults.localPath)return window.PgnBaseDefaults.localPath;let e=document.querySelector("script[src*=pgnv]").src,n=e.indexOf("pgnv");return console.log("Local path: "+e.substring(0,n)),e.substring(0,n)}()+e},cache:{enabled:!0},fallbackLng:"en",ns:["chess","nag","buttons"],defaultNS:"chess",debug:!1};J.use(se).use(le.a).init(n,(e,n)=>{})}();let Ce=function(e,n){return Oe.schedule(n.locale,()=>{let t=xe(e,Object.assign({mode:"view"},n));t.generateHTML();let o=t.generateBoard();return t.generateMoves(o),{base:t,board:o}})},Ee=function(e,n){return Oe.schedule(n.locale,()=>{let t=xe(e,Object.assign({headers:!1,mode:"board"},n));t.generateHTML();let o=t.generateBoard();return{base:t,board:o}})},_e=function(e,n){return Oe.schedule(n.locale,()=>{let t=xe(e,Object.assign({showFen:!0,mode:"edit",movable:{free:!1,events:{after:function(e,n,o){t.onSnapEnd(e,n,o)}}},viewOnly:!1},n));t.generateHTML();let o=t.generateBoard();return t.generateMoves(o),{base:t,board:o}})},Ae=function(e,n){return Oe.schedule(n.locale,()=>{let t=xe(e,Object.assign({showCoords:!1,mode:"print"},n));return t.generateHTML(),t.generateMoves(null),t})};Oe.schedule("fr",()=>{console.log(J.t("nag:$18",{lng:"fr"}))})}]);
//# sourceMappingURL=pgnv.js.map